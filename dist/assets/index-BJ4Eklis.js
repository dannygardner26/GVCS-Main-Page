function R0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var rf={exports:{}},_a={},nf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=Symbol.for("react.element"),L0=Symbol.for("react.portal"),M0=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),$0=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),H0=Symbol.for("react.memo"),q0=Symbol.for("react.lazy"),Th=Symbol.iterator;function W0(t){return t===null||typeof t!="object"?null:(t=Th&&t[Th]||t["@@iterator"],typeof t=="function"?t:null)}var sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,af={};function rs(t,e,r){this.props=t,this.context=e,this.refs=af,this.updater=r||sf}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lf(){}lf.prototype=rs.prototype;function bu(t,e,r){this.props=t,this.context=e,this.refs=af,this.updater=r||sf}var xu=bu.prototype=new lf;xu.constructor=bu;of(xu,rs.prototype);xu.isPureReactComponent=!0;var Ah=Array.isArray,cf=Object.prototype.hasOwnProperty,Su={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function df(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)cf.call(e,n)&&!uf.hasOwnProperty(n)&&(s[n]=e[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Ci,type:t,key:i,ref:a,props:s,_owner:Su.current}}function G0(t,e){return{$$typeof:Ci,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ku(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ci}function K0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ph=/\/+/g;function yl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K0(""+t.key):e.toString(36)}function To(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ci:case L0:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+yl(a,0):n,Ah(s)?(r="",t!=null&&(r=t.replace(Ph,"$&/")+"/"),To(s,e,r,"",function(d){return d})):s!=null&&(ku(s)&&(s=G0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ph,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Ah(t))for(var c=0;c<t.length;c++){i=t[c];var u=n+yl(i,c);a+=To(i,e,r,u,s)}else if(u=W0(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=n+yl(i,c++),a+=To(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zi(t,e,r){if(t==null)return t;var n=[],s=0;return To(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Y0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Ao={transition:null},J0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:Su};function hf(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Zi,forEach:function(t,e,r){Zi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zi(t,function(){e++}),e},toArray:function(t){return Zi(t,function(e){return e})||[]},only:function(t){if(!ku(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=rs;re.Fragment=M0;re.Profiler=F0;re.PureComponent=bu;re.StrictMode=B0;re.Suspense=V0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;re.act=hf;re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=of({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Su.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)cf.call(e,u)&&!uf.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:Ci,type:t.type,key:s,ref:i,props:n,_owner:a}};re.createContext=function(t){return t={$$typeof:$0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U0,_context:t},t.Consumer=t};re.createElement=df;re.createFactory=function(t){var e=df.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:z0,render:t}};re.isValidElement=ku;re.lazy=function(t){return{$$typeof:q0,_payload:{_status:-1,_result:t},_init:Y0}};re.memo=function(t,e){return{$$typeof:H0,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Ao.transition;Ao.transition={};try{t()}finally{Ao.transition=e}};re.unstable_act=hf;re.useCallback=function(t,e){return et.current.useCallback(t,e)};re.useContext=function(t){return et.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return et.current.useDeferredValue(t)};re.useEffect=function(t,e){return et.current.useEffect(t,e)};re.useId=function(){return et.current.useId()};re.useImperativeHandle=function(t,e,r){return et.current.useImperativeHandle(t,e,r)};re.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return et.current.useMemo(t,e)};re.useReducer=function(t,e,r){return et.current.useReducer(t,e,r)};re.useRef=function(t){return et.current.useRef(t)};re.useState=function(t){return et.current.useState(t)};re.useSyncExternalStore=function(t,e,r){return et.current.useSyncExternalStore(t,e,r)};re.useTransition=function(){return et.current.useTransition()};re.version="18.3.1";nf.exports=re;var D=nf.exports;const ja=O0(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0=D,X0=Symbol.for("react.element"),Z0=Symbol.for("react.fragment"),ew=Object.prototype.hasOwnProperty,tw=Q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rw={key:!0,ref:!0,__self:!0,__source:!0};function pf(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)ew.call(e,n)&&!rw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:X0,type:t,key:i,ref:a,props:s,_owner:tw.current}}_a.Fragment=Z0;_a.jsx=pf;_a.jsxs=pf;rf.exports=_a;var o=rf.exports,oc={},mf={exports:{}},gt={},ff={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,M){var $=U.length;U.push(M);e:for(;0<$;){var H=$-1>>>1,Y=U[H];if(0<s(Y,M))U[H]=M,U[$]=Y,$=H;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var M=U[0],$=U.pop();if($!==M){U[0]=$;e:for(var H=0,Y=U.length,X=Y>>>1;H<X;){var xe=2*(H+1)-1,je=U[xe],Re=xe+1,Oe=U[Re];if(0>s(je,$))Re<Y&&0>s(Oe,je)?(U[H]=Oe,U[Re]=$,H=Re):(U[H]=je,U[xe]=$,H=xe);else if(Re<Y&&0>s(Oe,$))U[H]=Oe,U[Re]=$,H=Re;else break e}}return M}function s(U,M){var $=U.sortIndex-M.sortIndex;return $!==0?$:U.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],m=1,p=null,y=3,v=!1,b=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=U)n(d),M.sortIndex=M.expirationTime,e(u,M);else break;M=r(d)}}function P(U){if(N=!1,S(U),!b)if(r(u)!==null)b=!0,J(I);else{var M=r(d);M!==null&&F(P,M.startTime-U)}}function I(U,M){b=!1,N&&(N=!1,w(g),g=-1),v=!0;var $=y;try{for(S(M),p=r(u);p!==null&&(!(p.expirationTime>M)||U&&!A());){var H=p.callback;if(typeof H=="function"){p.callback=null,y=p.priorityLevel;var Y=H(p.expirationTime<=M);M=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(u)&&n(u),S(M)}else n(u);p=r(u)}if(p!==null)var X=!0;else{var xe=r(d);xe!==null&&F(P,xe.startTime-M),X=!1}return X}finally{p=null,y=$,v=!1}}var O=!1,j=null,g=-1,x=5,C=-1;function A(){return!(t.unstable_now()-C<x)}function R(){if(j!==null){var U=t.unstable_now();C=U;var M=!0;try{M=j(!0,U)}finally{M?T():(O=!1,j=null)}}else O=!1}var T;if(typeof k=="function")T=function(){k(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=R,T=function(){te.postMessage(null)}}else T=function(){E(R,0)};function J(U){j=U,O||(O=!0,T())}function F(U,M){g=E(function(){U(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,J(I))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var M=3;break;default:M=y}var $=y;y=M;try{return U()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,M){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=y;y=U;try{return M()}finally{y=$}},t.unstable_scheduleCallback=function(U,M,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,U={id:m++,callback:M,priorityLevel:U,startTime:$,expirationTime:Y,sortIndex:-1},$>H?(U.sortIndex=$,e(d,U),r(u)===null&&U===r(d)&&(N?(w(g),g=-1):N=!0,F(P,$-H))):(U.sortIndex=Y,e(u,U),b||v||(b=!0,J(I))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var M=y;return function(){var $=y;y=M;try{return U.apply(this,arguments)}finally{y=$}}}})(gf);ff.exports=gf;var nw=ff.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw=D,ft=nw;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yf=new Set,ei={};function un(t,e){Gn(t,e),Gn(t+"Capture",e)}function Gn(t,e){for(ei[t]=e,t=0;t<e.length;t++)yf.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,iw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ih={},Rh={};function ow(t){return ac.call(Rh,t)?!0:ac.call(Ih,t)?!1:iw.test(t)?Rh[t]=!0:(Ih[t]=!0,!1)}function aw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lw(t,e,r,n){if(e===null||typeof e>"u"||aw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function ju(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_u,ju);Fe[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_u,ju);Fe[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_u,ju);Fe[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Eu(t,e,r,n){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lw(e,r,s,n)&&(r=null),n||s===null?ow(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ar=sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eo=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Cu=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),Nu=Symbol.for("react.forward_ref"),cc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),bf=Symbol.for("react.offscreen"),Oh=Symbol.iterator;function Es(t){return t===null||typeof t!="object"?null:(t=Oh&&t[Oh]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,vl;function Ds(t){if(vl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vl=e&&e[1]||""}return`
`+vl+t}var wl=!1;function bl(t,e){if(!t||wl)return"";wl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{wl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ds(t):""}function cw(t){switch(t.tag){case 5:return Ds(t.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return t=bl(t.type,!1),t;case 11:return t=bl(t.type.render,!1),t;case 1:return t=bl(t.type,!0),t;default:return""}}function dc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nn:return"Fragment";case Cn:return"Portal";case lc:return"Profiler";case Cu:return"StrictMode";case cc:return"Suspense";case uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wf:return(t.displayName||"Context")+".Consumer";case vf:return(t._context.displayName||"Context")+".Provider";case Nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tu:return e=t.displayName||null,e!==null?e:dc(t.type)||"Memo";case mr:e=t._payload,t=t._init;try{return dc(t(e))}catch{}}return null}function uw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(e);case 8:return e===Cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dw(t){var e=xf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function to(t){t._valueTracker||(t._valueTracker=dw(t))}function Sf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=xf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hc(t,e){var r=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Dh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kf(t,e){e=e.checked,e!=null&&Eu(t,"checked",e,!1)}function pc(t,e){kf(t,e);var r=Rr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mc(t,e.type,r):e.hasOwnProperty("defaultValue")&&mc(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mc(t,e,r){(e!=="number"||Ho(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ls=Array.isArray;function Fn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(Ls(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rr(r)}}function _f(t,e){var r=Rr(e.value),n=Rr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ro,Ef=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ti(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hw=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){hw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function Cf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function Nf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var pw=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(t,e){if(e){if(pw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function vc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=null;function Au(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,Un=null,$n=null;function Fh(t){if(t=Ai(t)){if(typeof bc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Aa(e),bc(t.stateNode,t.type,e))}}function Tf(t){Un?$n?$n.push(t):$n=[t]:Un=t}function Af(){if(Un){var t=Un,e=$n;if($n=Un=null,Fh(t),e)for(t=0;t<e.length;t++)Fh(e[t])}}function Pf(t,e){return t(e)}function If(){}var xl=!1;function Rf(t,e,r){if(xl)return t(e,r);xl=!0;try{return Pf(t,e,r)}finally{xl=!1,(Un!==null||$n!==null)&&(If(),Af())}}function ri(t,e){var r=t.stateNode;if(r===null)return null;var n=Aa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var xc=!1;if(tr)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{xc=!1}function mw(t,e,r,n,s,i,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(m){this.onError(m)}}var $s=!1,qo=null,Wo=!1,Sc=null,fw={onError:function(t){$s=!0,qo=t}};function gw(t,e,r,n,s,i,a,c,u){$s=!1,qo=null,mw.apply(fw,arguments)}function yw(t,e,r,n,s,i,a,c,u){if(gw.apply(this,arguments),$s){if($s){var d=qo;$s=!1,qo=null}else throw Error(z(198));Wo||(Wo=!0,Sc=d)}}function dn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uh(t){if(dn(t)!==t)throw Error(z(188))}function vw(t){var e=t.alternate;if(!e){if(e=dn(t),e===null)throw Error(z(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uh(s),t;if(i===n)return Uh(s),e;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,c=s.child;c;){if(c===r){a=!0,r=s,n=i;break}if(c===n){a=!0,n=s,r=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===r){a=!0,r=i,n=s;break}if(c===n){a=!0,n=i,r=s;break}c=c.sibling}if(!a)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?t:e}function Df(t){return t=vw(t),t!==null?Lf(t):null}function Lf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lf(t);if(e!==null)return e;t=t.sibling}return null}var Mf=ft.unstable_scheduleCallback,$h=ft.unstable_cancelCallback,ww=ft.unstable_shouldYield,bw=ft.unstable_requestPaint,_e=ft.unstable_now,xw=ft.unstable_getCurrentPriorityLevel,Pu=ft.unstable_ImmediatePriority,Bf=ft.unstable_UserBlockingPriority,Go=ft.unstable_NormalPriority,Sw=ft.unstable_LowPriority,Ff=ft.unstable_IdlePriority,Ea=null,zt=null;function kw(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Ea,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Ew,_w=Math.log,jw=Math.LN2;function Ew(t){return t>>>=0,t===0?32:31-(_w(t)/jw|0)|0}var no=64,so=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ko(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var c=a&~s;c!==0?n=Ms(c):(i&=a,i!==0&&(n=Ms(i)))}else a=r&~s,a!==0?n=Ms(a):i!==0&&(n=Ms(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),s=1<<r,n|=t[r],e&=~s;return n}function Cw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Dt(i),c=1<<a,u=s[a];u===-1?(!(c&r)||c&n)&&(s[a]=Cw(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function kc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uf(){var t=no;return no<<=1,!(no&4194240)&&(no=64),t}function Sl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ni(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function Tw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Dt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Iu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var oe=0;function $f(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zf,Ru,Vf,Hf,qf,_c=!1,io=[],Sr=null,kr=null,_r=null,ni=new Map,si=new Map,yr=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(t,e){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(e.pointerId)}}function Ns(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ai(e),e!==null&&Ru(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pw(t,e,r,n,s){switch(e){case"focusin":return Sr=Ns(Sr,t,e,r,n,s),!0;case"dragenter":return kr=Ns(kr,t,e,r,n,s),!0;case"mouseover":return _r=Ns(_r,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ni.set(i,Ns(ni.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,si.set(i,Ns(si.get(i)||null,t,e,r,n,s)),!0}return!1}function Wf(t){var e=Qr(t.target);if(e!==null){var r=dn(e);if(r!==null){if(e=r.tag,e===13){if(e=Of(r),e!==null){t.blockedOn=e,qf(t.priority,function(){Vf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wc=n,r.target.dispatchEvent(n),wc=null}else return e=Ai(r),e!==null&&Ru(e),t.blockedOn=r,!1;e.shift()}return!0}function Vh(t,e,r){Po(t)&&r.delete(e)}function Iw(){_c=!1,Sr!==null&&Po(Sr)&&(Sr=null),kr!==null&&Po(kr)&&(kr=null),_r!==null&&Po(_r)&&(_r=null),ni.forEach(Vh),si.forEach(Vh)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,_c||(_c=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,Iw)))}function ii(t){function e(s){return Ts(s,t)}if(0<io.length){Ts(io[0],t);for(var r=1;r<io.length;r++){var n=io[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Sr!==null&&Ts(Sr,t),kr!==null&&Ts(kr,t),_r!==null&&Ts(_r,t),ni.forEach(e),si.forEach(e),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)Wf(r),r.blockedOn===null&&yr.shift()}var zn=ar.ReactCurrentBatchConfig,Yo=!0;function Rw(t,e,r,n){var s=oe,i=zn.transition;zn.transition=null;try{oe=1,Ou(t,e,r,n)}finally{oe=s,zn.transition=i}}function Ow(t,e,r,n){var s=oe,i=zn.transition;zn.transition=null;try{oe=4,Ou(t,e,r,n)}finally{oe=s,zn.transition=i}}function Ou(t,e,r,n){if(Yo){var s=jc(t,e,r,n);if(s===null)Il(t,e,n,Jo,r),zh(t,n);else if(Pw(s,t,e,r,n))n.stopPropagation();else if(zh(t,n),e&4&&-1<Aw.indexOf(t)){for(;s!==null;){var i=Ai(s);if(i!==null&&zf(i),i=jc(t,e,r,n),i===null&&Il(t,e,n,Jo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Il(t,e,n,null,r)}}var Jo=null;function jc(t,e,r,n){if(Jo=null,t=Au(n),t=Qr(t),t!==null)if(e=dn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Of(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jo=t,null}function Gf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xw()){case Pu:return 1;case Bf:return 4;case Go:case Sw:return 16;case Ff:return 536870912;default:return 16}default:return 16}}var br=null,Du=null,Io=null;function Kf(){if(Io)return Io;var t,e=Du,r=e.length,n,s="value"in br?br.value:br.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Io=s.slice(t,1<n?1-n:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oo(){return!0}function Hh(){return!1}function yt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oo:Hh,this.isPropagationStopped=Hh,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=yt(ns),Ti=be({},ns,{view:0,detail:0}),Dw=yt(Ti),kl,_l,As,Ca=be({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(kl=t.screenX-As.screenX,_l=t.screenY-As.screenY):_l=kl=0,As=t),kl)},movementY:function(t){return"movementY"in t?t.movementY:_l}}),qh=yt(Ca),Lw=be({},Ca,{dataTransfer:0}),Mw=yt(Lw),Bw=be({},Ti,{relatedTarget:0}),jl=yt(Bw),Fw=be({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Uw=yt(Fw),$w=be({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zw=yt($w),Vw=be({},ns,{data:0}),Wh=yt(Vw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ww[t])?!!e[t]:!1}function Mu(){return Gw}var Kw=be({},Ti,{key:function(t){if(t.key){var e=Hw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yw=yt(Kw),Jw=be({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=yt(Jw),Qw=be({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),Xw=yt(Qw),Zw=be({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),eb=yt(Zw),tb=be({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=yt(tb),nb=[9,13,27,32],Bu=tr&&"CompositionEvent"in window,zs=null;tr&&"documentMode"in document&&(zs=document.documentMode);var sb=tr&&"TextEvent"in window&&!zs,Yf=tr&&(!Bu||zs&&8<zs&&11>=zs),Kh=" ",Yh=!1;function Jf(t,e){switch(t){case"keyup":return nb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function ib(t,e){switch(t){case"compositionend":return Qf(e);case"keypress":return e.which!==32?null:(Yh=!0,Kh);case"textInput":return t=e.data,t===Kh&&Yh?null:t;default:return null}}function ob(t,e){if(Tn)return t==="compositionend"||!Bu&&Jf(t,e)?(t=Kf(),Io=Du=br=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yf&&e.locale!=="ko"?null:e.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ab[t.type]:e==="textarea"}function Xf(t,e,r,n){Tf(n),e=Qo(e,"onChange"),0<e.length&&(r=new Lu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vs=null,oi=null;function lb(t){cg(t,0)}function Na(t){var e=In(t);if(Sf(e))return t}function cb(t,e){if(t==="change")return e}var Zf=!1;if(tr){var El;if(tr){var Cl="oninput"in document;if(!Cl){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),Cl=typeof Qh.oninput=="function"}El=Cl}else El=!1;Zf=El&&(!document.documentMode||9<document.documentMode)}function Xh(){Vs&&(Vs.detachEvent("onpropertychange",eg),oi=Vs=null)}function eg(t){if(t.propertyName==="value"&&Na(oi)){var e=[];Xf(e,oi,t,Au(t)),Rf(lb,e)}}function ub(t,e,r){t==="focusin"?(Xh(),Vs=e,oi=r,Vs.attachEvent("onpropertychange",eg)):t==="focusout"&&Xh()}function db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Na(oi)}function hb(t,e){if(t==="click")return Na(e)}function pb(t,e){if(t==="input"||t==="change")return Na(e)}function mb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:mb;function ai(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ac.call(e,s)||!Mt(t[s],e[s]))return!1}return!0}function Zh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,e){var r=Zh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zh(r)}}function tg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rg(){for(var t=window,e=Ho();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ho(t.document)}return e}function Fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fb(t){var e=rg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&tg(r.ownerDocument.documentElement,r)){if(n!==null&&Fu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ep(r,i);var a=ep(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gb=tr&&"documentMode"in document&&11>=document.documentMode,An=null,Ec=null,Hs=null,Cc=!1;function tp(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||An==null||An!==Ho(n)||(n=An,"selectionStart"in n&&Fu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hs&&ai(Hs,n)||(Hs=n,n=Qo(Ec,"onSelect"),0<n.length&&(e=new Lu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=An)))}function ao(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pn={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Nl={},ng={};tr&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Ta(t){if(Nl[t])return Nl[t];if(!Pn[t])return t;var e=Pn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ng)return Nl[t]=e[r];return t}var sg=Ta("animationend"),ig=Ta("animationiteration"),og=Ta("animationstart"),ag=Ta("transitionend"),lg=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){lg.set(t,e),un(e,[t])}for(var Tl=0;Tl<rp.length;Tl++){var Al=rp[Tl],yb=Al.toLowerCase(),vb=Al[0].toUpperCase()+Al.slice(1);Dr(yb,"on"+vb)}Dr(sg,"onAnimationEnd");Dr(ig,"onAnimationIteration");Dr(og,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(ag,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function np(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yw(n,e,void 0,t),t.currentTarget=null}function cg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var c=n[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;np(s,c,d),i=u}else for(a=0;a<n.length;a++){if(c=n[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;np(s,c,d),i=u}}}if(Wo)throw t=Sc,Wo=!1,Sc=null,t}function pe(t,e){var r=e[Ic];r===void 0&&(r=e[Ic]=new Set);var n=t+"__bubble";r.has(n)||(ug(e,t,2,!1),r.add(n))}function Pl(t,e,r){var n=0;e&&(n|=4),ug(r,t,n,e)}var lo="_reactListening"+Math.random().toString(36).slice(2);function li(t){if(!t[lo]){t[lo]=!0,yf.forEach(function(r){r!=="selectionchange"&&(wb.has(r)||Pl(r,!1,t),Pl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lo]||(e[lo]=!0,Pl("selectionchange",!1,e))}}function ug(t,e,r,n){switch(Gf(e)){case 1:var s=Rw;break;case 4:s=Ow;break;default:s=Ou}r=s.bind(null,e,r,t),s=void 0,!xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Il(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Qr(c),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}c=c.parentNode}}n=n.return}Rf(function(){var d=i,m=Au(r),p=[];e:{var y=lg.get(t);if(y!==void 0){var v=Lu,b=t;switch(t){case"keypress":if(Ro(r)===0)break e;case"keydown":case"keyup":v=Yw;break;case"focusin":b="focus",v=jl;break;case"focusout":b="blur",v=jl;break;case"beforeblur":case"afterblur":v=jl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xw;break;case sg:case ig:case og:v=Uw;break;case ag:v=eb;break;case"scroll":v=Dw;break;case"wheel":v=rb;break;case"copy":case"cut":case"paste":v=zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gh}var N=(e&4)!==0,E=!N&&t==="scroll",w=N?y!==null?y+"Capture":null:y;N=[];for(var k=d,S;k!==null;){S=k;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,w!==null&&(P=ri(k,w),P!=null&&N.push(ci(k,P,S)))),E)break;k=k.return}0<N.length&&(y=new v(y,b,null,r,m),p.push({event:y,listeners:N}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",y&&r!==wc&&(b=r.relatedTarget||r.fromElement)&&(Qr(b)||b[rr]))break e;if((v||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=d,b=b?Qr(b):null,b!==null&&(E=dn(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(N=qh,P="onMouseLeave",w="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(N=Gh,P="onPointerLeave",w="onPointerEnter",k="pointer"),E=v==null?y:In(v),S=b==null?y:In(b),y=new N(P,k+"leave",v,r,m),y.target=E,y.relatedTarget=S,P=null,Qr(m)===d&&(N=new N(w,k+"enter",b,r,m),N.target=S,N.relatedTarget=E,P=N),E=P,v&&b)t:{for(N=v,w=b,k=0,S=N;S;S=yn(S))k++;for(S=0,P=w;P;P=yn(P))S++;for(;0<k-S;)N=yn(N),k--;for(;0<S-k;)w=yn(w),S--;for(;k--;){if(N===w||w!==null&&N===w.alternate)break t;N=yn(N),w=yn(w)}N=null}else N=null;v!==null&&sp(p,y,v,N,!1),b!==null&&E!==null&&sp(p,E,b,N,!0)}}e:{if(y=d?In(d):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var I=cb;else if(Jh(y))if(Zf)I=pb;else{I=db;var O=ub}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=hb);if(I&&(I=I(t,d))){Xf(p,I,r,m);break e}O&&O(t,y,d),t==="focusout"&&(O=y._wrapperState)&&O.controlled&&y.type==="number"&&mc(y,"number",y.value)}switch(O=d?In(d):window,t){case"focusin":(Jh(O)||O.contentEditable==="true")&&(An=O,Ec=d,Hs=null);break;case"focusout":Hs=Ec=An=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,tp(p,r,m);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":tp(p,r,m)}var j;if(Bu)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Tn?Jf(t,r)&&(g="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(g="onCompositionStart");g&&(Yf&&r.locale!=="ko"&&(Tn||g!=="onCompositionStart"?g==="onCompositionEnd"&&Tn&&(j=Kf()):(br=m,Du="value"in br?br.value:br.textContent,Tn=!0)),O=Qo(d,g),0<O.length&&(g=new Wh(g,t,null,r,m),p.push({event:g,listeners:O}),j?g.data=j:(j=Qf(r),j!==null&&(g.data=j)))),(j=sb?ib(t,r):ob(t,r))&&(d=Qo(d,"onBeforeInput"),0<d.length&&(m=new Wh("onBeforeInput","beforeinput",null,r,m),p.push({event:m,listeners:d}),m.data=j))}cg(p,e)})}function ci(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Qo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ri(t,r),i!=null&&n.unshift(ci(t,i,s)),i=ri(t,e),i!=null&&n.push(ci(t,i,s))),t=t.return}return n}function yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var c=r,u=c.alternate,d=c.stateNode;if(u!==null&&u===n)break;c.tag===5&&d!==null&&(c=d,s?(u=ri(r,i),u!=null&&a.unshift(ci(r,u,c))):s||(u=ri(r,i),u!=null&&a.push(ci(r,u,c)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var bb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function ip(t){return(typeof t=="string"?t:""+t).replace(bb,`
`).replace(xb,"")}function co(t,e,r){if(e=ip(e),ip(t)!==e&&r)throw Error(z(425))}function Xo(){}var Nc=null,Tc=null;function Ac(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(_b)}:Pc;function _b(t){setTimeout(function(){throw t})}function Rl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ii(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ii(e)}function jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ss=Math.random().toString(36).slice(2),$t="__reactFiber$"+ss,ui="__reactProps$"+ss,rr="__reactContainer$"+ss,Ic="__reactEvents$"+ss,jb="__reactListeners$"+ss,Eb="__reactHandles$"+ss;function Qr(t){var e=t[$t];if(e)return e;for(var r=t.parentNode;r;){if(e=r[rr]||r[$t]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ap(t);t!==null;){if(r=t[$t])return r;t=ap(t)}return e}t=r,r=t.parentNode}return null}function Ai(t){return t=t[$t]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function In(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Aa(t){return t[ui]||null}var Rc=[],Rn=-1;function Lr(t){return{current:t}}function me(t){0>Rn||(t.current=Rc[Rn],Rc[Rn]=null,Rn--)}function ue(t,e){Rn++,Rc[Rn]=t.current,t.current=e}var Or={},Ge=Lr(Or),ot=Lr(!1),nn=Or;function Kn(t,e){var r=t.type.contextTypes;if(!r)return Or;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function Zo(){me(ot),me(Ge)}function lp(t,e,r){if(Ge.current!==Or)throw Error(z(168));ue(Ge,e),ue(ot,r)}function dg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(z(108,uw(t)||"Unknown",s));return be({},r,n)}function ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,nn=Ge.current,ue(Ge,t),ue(ot,ot.current),!0}function cp(t,e,r){var n=t.stateNode;if(!n)throw Error(z(169));r?(t=dg(t,e,nn),n.__reactInternalMemoizedMergedChildContext=t,me(ot),me(Ge),ue(Ge,t)):me(ot),ue(ot,r)}var Jt=null,Pa=!1,Ol=!1;function hg(t){Jt===null?Jt=[t]:Jt.push(t)}function Cb(t){Pa=!0,hg(t)}function Mr(){if(!Ol&&Jt!==null){Ol=!0;var t=0,e=oe;try{var r=Jt;for(oe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Jt=null,Pa=!1}catch(s){throw Jt!==null&&(Jt=Jt.slice(t+1)),Mf(Pu,Mr),s}finally{oe=e,Ol=!1}}return null}var On=[],Dn=0,ta=null,ra=0,bt=[],xt=0,sn=null,Qt=1,Xt="";function Hr(t,e){On[Dn++]=ra,On[Dn++]=ta,ta=t,ra=e}function pg(t,e,r){bt[xt++]=Qt,bt[xt++]=Xt,bt[xt++]=sn,sn=t;var n=Qt;t=Xt;var s=32-Dt(n)-1;n&=~(1<<s),r+=1;var i=32-Dt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Qt=1<<32-Dt(e)+s|r<<s|n,Xt=i+t}else Qt=1<<i|r<<s|n,Xt=t}function Uu(t){t.return!==null&&(Hr(t,1),pg(t,1,0))}function $u(t){for(;t===ta;)ta=On[--Dn],On[Dn]=null,ra=On[--Dn],On[Dn]=null;for(;t===sn;)sn=bt[--xt],bt[xt]=null,Xt=bt[--xt],bt[xt]=null,Qt=bt[--xt],bt[xt]=null}var mt=null,pt=null,fe=!1,Rt=null;function mg(t,e){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function up(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sn!==null?{id:Qt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mt=t,pt=null,!0):!1;default:return!1}}function Oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dc(t){if(fe){var e=pt;if(e){var r=e;if(!up(t,e)){if(Oc(t))throw Error(z(418));e=jr(r.nextSibling);var n=mt;e&&up(t,e)?mg(n,r):(t.flags=t.flags&-4097|2,fe=!1,mt=t)}}else{if(Oc(t))throw Error(z(418));t.flags=t.flags&-4097|2,fe=!1,mt=t}}}function dp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function uo(t){if(t!==mt)return!1;if(!fe)return dp(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ac(t.type,t.memoizedProps)),e&&(e=pt)){if(Oc(t))throw fg(),Error(z(418));for(;e;)mg(t,e),e=jr(e.nextSibling)}if(dp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pt=jr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?jr(t.stateNode.nextSibling):null;return!0}function fg(){for(var t=pt;t;)t=jr(t.nextSibling)}function Yn(){pt=mt=null,fe=!1}function zu(t){Rt===null?Rt=[t]:Rt.push(t)}var Nb=ar.ReactCurrentBatchConfig;function Ps(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,t))}return t}function ho(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hp(t){var e=t._init;return e(t._payload)}function gg(t){function e(w,k){if(t){var S=w.deletions;S===null?(w.deletions=[k],w.flags|=16):S.push(k)}}function r(w,k){if(!t)return null;for(;k!==null;)e(w,k),k=k.sibling;return null}function n(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function s(w,k){return w=Tr(w,k),w.index=0,w.sibling=null,w}function i(w,k,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<k?(w.flags|=2,k):S):(w.flags|=2,k)):(w.flags|=1048576,k)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function c(w,k,S,P){return k===null||k.tag!==6?(k=$l(S,w.mode,P),k.return=w,k):(k=s(k,S),k.return=w,k)}function u(w,k,S,P){var I=S.type;return I===Nn?m(w,k,S.props.children,P,S.key):k!==null&&(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===mr&&hp(I)===k.type)?(P=s(k,S.props),P.ref=Ps(w,k,S),P.return=w,P):(P=Uo(S.type,S.key,S.props,null,w.mode,P),P.ref=Ps(w,k,S),P.return=w,P)}function d(w,k,S,P){return k===null||k.tag!==4||k.stateNode.containerInfo!==S.containerInfo||k.stateNode.implementation!==S.implementation?(k=zl(S,w.mode,P),k.return=w,k):(k=s(k,S.children||[]),k.return=w,k)}function m(w,k,S,P,I){return k===null||k.tag!==7?(k=rn(S,w.mode,P,I),k.return=w,k):(k=s(k,S),k.return=w,k)}function p(w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return k=$l(""+k,w.mode,S),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eo:return S=Uo(k.type,k.key,k.props,null,w.mode,S),S.ref=Ps(w,null,k),S.return=w,S;case Cn:return k=zl(k,w.mode,S),k.return=w,k;case mr:var P=k._init;return p(w,P(k._payload),S)}if(Ls(k)||Es(k))return k=rn(k,w.mode,S,null),k.return=w,k;ho(w,k)}return null}function y(w,k,S,P){var I=k!==null?k.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:c(w,k,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eo:return S.key===I?u(w,k,S,P):null;case Cn:return S.key===I?d(w,k,S,P):null;case mr:return I=S._init,y(w,k,I(S._payload),P)}if(Ls(S)||Es(S))return I!==null?null:m(w,k,S,P,null);ho(w,S)}return null}function v(w,k,S,P,I){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(S)||null,c(k,w,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case eo:return w=w.get(P.key===null?S:P.key)||null,u(k,w,P,I);case Cn:return w=w.get(P.key===null?S:P.key)||null,d(k,w,P,I);case mr:var O=P._init;return v(w,k,S,O(P._payload),I)}if(Ls(P)||Es(P))return w=w.get(S)||null,m(k,w,P,I,null);ho(k,P)}return null}function b(w,k,S,P){for(var I=null,O=null,j=k,g=k=0,x=null;j!==null&&g<S.length;g++){j.index>g?(x=j,j=null):x=j.sibling;var C=y(w,j,S[g],P);if(C===null){j===null&&(j=x);break}t&&j&&C.alternate===null&&e(w,j),k=i(C,k,g),O===null?I=C:O.sibling=C,O=C,j=x}if(g===S.length)return r(w,j),fe&&Hr(w,g),I;if(j===null){for(;g<S.length;g++)j=p(w,S[g],P),j!==null&&(k=i(j,k,g),O===null?I=j:O.sibling=j,O=j);return fe&&Hr(w,g),I}for(j=n(w,j);g<S.length;g++)x=v(j,w,g,S[g],P),x!==null&&(t&&x.alternate!==null&&j.delete(x.key===null?g:x.key),k=i(x,k,g),O===null?I=x:O.sibling=x,O=x);return t&&j.forEach(function(A){return e(w,A)}),fe&&Hr(w,g),I}function N(w,k,S,P){var I=Es(S);if(typeof I!="function")throw Error(z(150));if(S=I.call(S),S==null)throw Error(z(151));for(var O=I=null,j=k,g=k=0,x=null,C=S.next();j!==null&&!C.done;g++,C=S.next()){j.index>g?(x=j,j=null):x=j.sibling;var A=y(w,j,C.value,P);if(A===null){j===null&&(j=x);break}t&&j&&A.alternate===null&&e(w,j),k=i(A,k,g),O===null?I=A:O.sibling=A,O=A,j=x}if(C.done)return r(w,j),fe&&Hr(w,g),I;if(j===null){for(;!C.done;g++,C=S.next())C=p(w,C.value,P),C!==null&&(k=i(C,k,g),O===null?I=C:O.sibling=C,O=C);return fe&&Hr(w,g),I}for(j=n(w,j);!C.done;g++,C=S.next())C=v(j,w,g,C.value,P),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?g:C.key),k=i(C,k,g),O===null?I=C:O.sibling=C,O=C);return t&&j.forEach(function(R){return e(w,R)}),fe&&Hr(w,g),I}function E(w,k,S,P){if(typeof S=="object"&&S!==null&&S.type===Nn&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case eo:e:{for(var I=S.key,O=k;O!==null;){if(O.key===I){if(I=S.type,I===Nn){if(O.tag===7){r(w,O.sibling),k=s(O,S.props.children),k.return=w,w=k;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===mr&&hp(I)===O.type){r(w,O.sibling),k=s(O,S.props),k.ref=Ps(w,O,S),k.return=w,w=k;break e}r(w,O);break}else e(w,O);O=O.sibling}S.type===Nn?(k=rn(S.props.children,w.mode,P,S.key),k.return=w,w=k):(P=Uo(S.type,S.key,S.props,null,w.mode,P),P.ref=Ps(w,k,S),P.return=w,w=P)}return a(w);case Cn:e:{for(O=S.key;k!==null;){if(k.key===O)if(k.tag===4&&k.stateNode.containerInfo===S.containerInfo&&k.stateNode.implementation===S.implementation){r(w,k.sibling),k=s(k,S.children||[]),k.return=w,w=k;break e}else{r(w,k);break}else e(w,k);k=k.sibling}k=zl(S,w.mode,P),k.return=w,w=k}return a(w);case mr:return O=S._init,E(w,k,O(S._payload),P)}if(Ls(S))return b(w,k,S,P);if(Es(S))return N(w,k,S,P);ho(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,k!==null&&k.tag===6?(r(w,k.sibling),k=s(k,S),k.return=w,w=k):(r(w,k),k=$l(S,w.mode,P),k.return=w,w=k),a(w)):r(w,k)}return E}var Jn=gg(!0),yg=gg(!1),na=Lr(null),sa=null,Ln=null,Vu=null;function Hu(){Vu=Ln=sa=null}function qu(t){var e=na.current;me(na),t._currentValue=e}function Lc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vn(t,e){sa=t,Vu=Ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(Vu!==t)if(t={context:t,memoizedValue:e,next:null},Ln===null){if(sa===null)throw Error(z(308));Ln=t,sa.dependencies={lanes:0,firstContext:t}}else Ln=Ln.next=t;return e}var Xr=null;function Wu(t){Xr===null?Xr=[t]:Xr.push(t)}function vg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Wu(e)):(r.next=s.next,s.next=r),e.interleaved=r,nr(t,n)}function nr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fr=!1;function Gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Er(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,nr(t,r)}return s=n.interleaved,s===null?(e.next=e,Wu(n)):(e.next=s.next,s.next=e),n.interleaved=e,nr(t,r)}function Oo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Iu(t,r)}}function pp(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ia(t,e,r,n){var s=t.updateQueue;fr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,m=d=u=null,c=i;do{var y=c.lane,v=c.eventTime;if((n&y)===y){m!==null&&(m=m.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,N=c;switch(y=e,v=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){p=b.call(v,p,y);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,y=typeof b=="function"?b.call(v,p,y):b,y==null)break e;p=be({},p,y);break e;case 2:fr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else v={eventTime:v,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=v,u=p):m=m.next=v,a|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(m===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=m,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);an|=a,t.lanes=a,t.memoizedState=p}}function mp(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Pi={},Vt=Lr(Pi),di=Lr(Pi),hi=Lr(Pi);function Zr(t){if(t===Pi)throw Error(z(174));return t}function Ku(t,e){switch(ue(hi,e),ue(di,t),ue(Vt,Pi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gc(e,t)}me(Vt),ue(Vt,e)}function Qn(){me(Vt),me(di),me(hi)}function bg(t){Zr(hi.current);var e=Zr(Vt.current),r=gc(e,t.type);e!==r&&(ue(di,t),ue(Vt,r))}function Yu(t){di.current===t&&(me(Vt),me(di))}var ye=Lr(0);function oa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dl=[];function Ju(){for(var t=0;t<Dl.length;t++)Dl[t]._workInProgressVersionPrimary=null;Dl.length=0}var Do=ar.ReactCurrentDispatcher,Ll=ar.ReactCurrentBatchConfig,on=0,ve=null,Te=null,Pe=null,aa=!1,qs=!1,pi=0,Tb=0;function Ve(){throw Error(z(321))}function Qu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mt(t[r],e[r]))return!1;return!0}function Xu(t,e,r,n,s,i){if(on=i,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Do.current=t===null||t.memoizedState===null?Rb:Ob,t=r(n,s),qs){i=0;do{if(qs=!1,pi=0,25<=i)throw Error(z(301));i+=1,Pe=Te=null,e.updateQueue=null,Do.current=Db,t=r(n,s)}while(qs)}if(Do.current=la,e=Te!==null&&Te.next!==null,on=0,Pe=Te=ve=null,aa=!1,e)throw Error(z(300));return t}function Zu(){var t=pi!==0;return pi=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ve.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function jt(){if(Te===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Pe===null?ve.memoizedState:Pe.next;if(e!==null)Pe=e,Te=t;else{if(t===null)throw Error(z(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?ve.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function mi(t,e){return typeof e=="function"?e(t):e}function Ml(t){var e=jt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=Te,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=a=null,u=null,d=i;do{var m=d.lane;if((on&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=n):u=u.next=p,ve.lanes|=m,an|=m}d=d.next}while(d!==null&&d!==i);u===null?a=n:u.next=c,Mt(n,e.memoizedState)||(it=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ve.lanes|=i,an|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Bl(t){var e=jt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Mt(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function xg(){}function Sg(t,e){var r=ve,n=jt(),s=e(),i=!Mt(n.memoizedState,s);if(i&&(n.memoizedState=s,it=!0),n=n.queue,ed(jg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,fi(9,_g.bind(null,r,n,s,e),void 0,null),Ie===null)throw Error(z(349));on&30||kg(r,e,s)}return s}function kg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _g(t,e,r,n){e.value=r,e.getSnapshot=n,Eg(e)&&Cg(t)}function jg(t,e,r){return r(function(){Eg(e)&&Cg(t)})}function Eg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mt(t,r)}catch{return!0}}function Cg(t){var e=nr(t,1);e!==null&&Lt(e,t,1,-1)}function fp(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},e.queue=t,t=t.dispatch=Ib.bind(null,ve,t),[e.memoizedState,t]}function fi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ng(){return jt().memoizedState}function Lo(t,e,r,n){var s=Ut();ve.flags|=t,s.memoizedState=fi(1|e,r,void 0,n===void 0?null:n)}function Ia(t,e,r,n){var s=jt();n=n===void 0?null:n;var i=void 0;if(Te!==null){var a=Te.memoizedState;if(i=a.destroy,n!==null&&Qu(n,a.deps)){s.memoizedState=fi(e,r,i,n);return}}ve.flags|=t,s.memoizedState=fi(1|e,r,i,n)}function gp(t,e){return Lo(8390656,8,t,e)}function ed(t,e){return Ia(2048,8,t,e)}function Tg(t,e){return Ia(4,2,t,e)}function Ag(t,e){return Ia(4,4,t,e)}function Pg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ig(t,e,r){return r=r!=null?r.concat([t]):null,Ia(4,4,Pg.bind(null,e,t),r)}function td(){}function Rg(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Og(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dg(t,e,r){return on&21?(Mt(r,e)||(r=Uf(),ve.lanes|=r,an|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=r)}function Ab(t,e){var r=oe;oe=r!==0&&4>r?r:4,t(!0);var n=Ll.transition;Ll.transition={};try{t(!1),e()}finally{oe=r,Ll.transition=n}}function Lg(){return jt().memoizedState}function Pb(t,e,r){var n=Nr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mg(t))Bg(e,r);else if(r=vg(t,e,r,n),r!==null){var s=Ze();Lt(r,t,n,s),Fg(r,e,n)}}function Ib(t,e,r){var n=Nr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mg(t))Bg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,r);if(s.hasEagerState=!0,s.eagerState=c,Mt(c,a)){var u=e.interleaved;u===null?(s.next=s,Wu(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=vg(t,e,s,n),r!==null&&(s=Ze(),Lt(r,t,n,s),Fg(r,e,n))}}function Mg(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Bg(t,e){qs=aa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Fg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Iu(t,r)}}var la={readContext:_t,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Rb={readContext:_t,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:gp,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lo(4194308,4,Pg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lo(4,2,t,e)},useMemo:function(t,e){var r=Ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Pb.bind(null,ve,t),[n.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:fp,useDebugValue:td,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=fp(!1),e=t[0];return t=Ab.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ve,s=Ut();if(fe){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),Ie===null)throw Error(z(349));on&30||kg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,gp(jg.bind(null,n,i,t),[t]),n.flags|=2048,fi(9,_g.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ut(),e=Ie.identifierPrefix;if(fe){var r=Xt,n=Qt;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Tb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ob={readContext:_t,useCallback:Rg,useContext:_t,useEffect:ed,useImperativeHandle:Ig,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Og,useReducer:Ml,useRef:Ng,useState:function(){return Ml(mi)},useDebugValue:td,useDeferredValue:function(t){var e=jt();return Dg(e,Te.memoizedState,t)},useTransition:function(){var t=Ml(mi)[0],e=jt().memoizedState;return[t,e]},useMutableSource:xg,useSyncExternalStore:Sg,useId:Lg,unstable_isNewReconciler:!1},Db={readContext:_t,useCallback:Rg,useContext:_t,useEffect:ed,useImperativeHandle:Ig,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Og,useReducer:Bl,useRef:Ng,useState:function(){return Bl(mi)},useDebugValue:td,useDeferredValue:function(t){var e=jt();return Te===null?e.memoizedState=t:Dg(e,Te.memoizedState,t)},useTransition:function(){var t=Bl(mi)[0],e=jt().memoizedState;return[t,e]},useMutableSource:xg,useSyncExternalStore:Sg,useId:Lg,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Mc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:be({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ra={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ze(),s=Nr(t),i=Zt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Er(t,i,s),e!==null&&(Lt(e,t,s,n),Oo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ze(),s=Nr(t),i=Zt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Er(t,i,s),e!==null&&(Lt(e,t,s,n),Oo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ze(),n=Nr(t),s=Zt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Er(t,s,n),e!==null&&(Lt(e,t,n,r),Oo(e,t,n))}};function yp(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!ai(r,n)||!ai(s,i):!0}function Ug(t,e,r){var n=!1,s=Or,i=e.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=at(e)?nn:Ge.current,n=e.contextTypes,i=(n=n!=null)?Kn(t,s):Or),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ra,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vp(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ra.enqueueReplaceState(e,e.state,null)}function Bc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Gu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=at(e)?nn:Ge.current,s.context=Kn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ra.enqueueReplaceState(s,s.state,null),ia(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xn(t,e){try{var r="",n=e;do r+=cw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Fc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function $g(t,e,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ua||(ua=!0,Yc=n),Fc(t,e)},r}function zg(t,e,r){r=Zt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Fc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Fc(t,e),typeof n!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function wp(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Lb;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Jb.bind(null,t,e,r),e.then(t,t))}function bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xp(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zt(-1,1),e.tag=2,Er(r,e,1))),r.lanes|=1),t)}var Mb=ar.ReactCurrentOwner,it=!1;function Je(t,e,r,n){e.child=t===null?yg(e,null,r,n):Jn(e,t.child,r,n)}function Sp(t,e,r,n,s){r=r.render;var i=e.ref;return Vn(e,s),n=Xu(t,e,r,n,i,s),r=Zu(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(fe&&r&&Uu(e),e.flags|=1,Je(t,e,n,s),e.child)}function kp(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!cd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Vg(t,e,i,n,s)):(t=Uo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ai,r(a,n)&&t.ref===e.ref)return sr(t,e,s)}return e.flags|=1,t=Tr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Vg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ai(i,n)&&t.ref===e.ref)if(it=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,sr(t,e,s)}return Uc(t,e,r,n,s)}function Hg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Bn,ut),ut|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Bn,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(Bn,ut),ut|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ue(Bn,ut),ut|=n;return Je(t,e,s,r),e.child}function qg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Uc(t,e,r,n,s){var i=at(r)?nn:Ge.current;return i=Kn(e,i),Vn(e,s),r=Xu(t,e,r,n,i,s),n=Zu(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(fe&&n&&Uu(e),e.flags|=1,Je(t,e,r,s),e.child)}function _p(t,e,r,n,s){if(at(r)){var i=!0;ea(e)}else i=!1;if(Vn(e,s),e.stateNode===null)Mo(t,e),Ug(e,r,n),Bc(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=_t(d):(d=at(r)?nn:Ge.current,d=Kn(e,d));var m=r.getDerivedStateFromProps,p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||u!==d)&&vp(e,a,n,d),fr=!1;var y=e.memoizedState;a.state=y,ia(e,n,a,s),u=e.memoizedState,c!==n||y!==u||ot.current||fr?(typeof m=="function"&&(Mc(e,r,m,n),u=e.memoizedState),(c=fr||yp(e,r,c,n,y,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=d,n=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wg(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Tt(e.type,c),a.props=d,p=e.pendingProps,y=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=_t(u):(u=at(r)?nn:Ge.current,u=Kn(e,u));var v=r.getDerivedStateFromProps;(m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||y!==u)&&vp(e,a,n,u),fr=!1,y=e.memoizedState,a.state=y,ia(e,n,a,s);var b=e.memoizedState;c!==p||y!==b||ot.current||fr?(typeof v=="function"&&(Mc(e,r,v,n),b=e.memoizedState),(d=fr||yp(e,r,d,n,y,b,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=u,n=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return $c(t,e,r,n,i,s)}function $c(t,e,r,n,s,i){qg(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&cp(e,r,!1),sr(t,e,i);n=e.stateNode,Mb.current=e;var c=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Jn(e,t.child,null,i),e.child=Jn(e,null,c,i)):Je(t,e,c,i),e.memoizedState=n.state,s&&cp(e,r,!0),e.child}function Wg(t){var e=t.stateNode;e.pendingContext?lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lp(t,e.context,!1),Ku(t,e.containerInfo)}function jp(t,e,r,n,s){return Yn(),zu(s),e.flags|=256,Je(t,e,r,n),e.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function Vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gg(t,e,r){var n=e.pendingProps,s=ye.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ue(ye,s&1),t===null)return Dc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=La(a,n,0,null),t=rn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vc(r),e.memoizedState=zc,t):rd(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Bb(t,e,a,n,c,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Tr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Tr(c,i):(i=rn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Vc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=zc,n}return i=t.child,t=i.sibling,n=Tr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function rd(t,e){return e=La({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function po(t,e,r,n){return n!==null&&zu(n),Jn(e,t.child,null,r),t=rd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bb(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Fl(Error(z(422))),po(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=La({mode:"visible",children:n.children},s,0,null),i=rn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Jn(e,t.child,null,a),e.child.memoizedState=Vc(a),e.memoizedState=zc,i);if(!(e.mode&1))return po(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(z(419)),n=Fl(i,n,void 0),po(t,e,a,n)}if(c=(a&t.childLanes)!==0,it||c){if(n=Ie,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(t,s),Lt(n,t,s,-1))}return ld(),n=Fl(Error(z(421))),po(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Qb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pt=jr(s.nextSibling),mt=e,fe=!0,Rt=null,t!==null&&(bt[xt++]=Qt,bt[xt++]=Xt,bt[xt++]=sn,Qt=t.id,Xt=t.overflow,sn=e),e=rd(e,n.children),e.flags|=4096,e)}function Ep(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Lc(t.return,e,r)}function Ul(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Kg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Je(t,e,n.children,r),n=ye.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,r,e);else if(t.tag===19)Ep(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ue(ye,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&oa(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ul(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oa(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ul(e,!0,r,null,i);break;case"together":Ul(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,r=Tr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Tr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Fb(t,e,r){switch(e.tag){case 3:Wg(e),Yn();break;case 5:bg(e);break;case 1:at(e.type)&&ea(e);break;case 4:Ku(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ue(na,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):r&e.child.childLanes?Gg(t,e,r):(ue(ye,ye.current&1),t=sr(t,e,r),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Kg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),n)break;return null;case 22:case 23:return e.lanes=0,Hg(t,e,r)}return sr(t,e,r)}var Yg,Hc,Jg,Qg;Yg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hc=function(){};Jg=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Zr(Vt.current);var i=null;switch(r){case"input":s=hc(t,s),n=hc(t,n),i=[];break;case"select":s=be({},s,{value:void 0}),n=be({},n,{value:void 0}),i=[];break;case"textarea":s=fc(t,s),n=fc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xo)}yc(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ei.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(c=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ei.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&pe("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Qg=function(t,e,r,n){r!==n&&(e.flags|=4)};function Is(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ub(t,e,r){var n=e.pendingProps;switch($u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return at(e.type)&&Zo(),He(e),null;case 3:return n=e.stateNode,Qn(),me(ot),me(Ge),Ju(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rt!==null&&(Xc(Rt),Rt=null))),Hc(t,e),He(e),null;case 5:Yu(e);var s=Zr(hi.current);if(r=e.type,t!==null&&e.stateNode!=null)Jg(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(z(166));return He(e),null}if(t=Zr(Vt.current),uo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[$t]=e,n[ui]=i,t=(e.mode&1)!==0,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(s=0;s<Bs.length;s++)pe(Bs[s],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":Dh(n,i),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pe("invalid",n);break;case"textarea":Mh(n,i),pe("invalid",n)}yc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&co(n.textContent,c,t),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&co(n.textContent,c,t),s=["children",""+c]):ei.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&pe("scroll",n)}switch(r){case"input":to(n),Lh(n,i,!0);break;case"textarea":to(n),Bh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[$t]=e,t[ui]=n,Yg(t,e,!1,!1),e.stateNode=t;e:{switch(a=vc(r,n),r){case"dialog":pe("cancel",t),pe("close",t),s=n;break;case"iframe":case"object":case"embed":pe("load",t),s=n;break;case"video":case"audio":for(s=0;s<Bs.length;s++)pe(Bs[s],t);s=n;break;case"source":pe("error",t),s=n;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=n;break;case"details":pe("toggle",t),s=n;break;case"input":Dh(t,n),s=hc(t,n),pe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=be({},n,{value:void 0}),pe("invalid",t);break;case"textarea":Mh(t,n),s=fc(t,n),pe("invalid",t);break;default:s=n}yc(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?Nf(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ef(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ti(t,u):typeof u=="number"&&ti(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ei.hasOwnProperty(i)?u!=null&&i==="onScroll"&&pe("scroll",t):u!=null&&Eu(t,i,u,a))}switch(r){case"input":to(t),Lh(t,n,!1);break;case"textarea":to(t),Bh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Fn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Qg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(z(166));if(r=Zr(hi.current),Zr(Vt.current),uo(e)){if(n=e.stateNode,r=e.memoizedProps,n[$t]=e,(i=n.nodeValue!==r)&&(t=mt,t!==null))switch(t.tag){case 3:co(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=e,e.stateNode=n}return He(e),null;case 13:if(me(ye),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&pt!==null&&e.mode&1&&!(e.flags&128))fg(),Yn(),e.flags|=98560,i=!1;else if(i=uo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[$t]=e}else Yn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Rt!==null&&(Xc(Rt),Rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Ae===0&&(Ae=3):ld())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Qn(),Hc(t,e),t===null&&li(e.stateNode.containerInfo),He(e),null;case 10:return qu(e.type._context),He(e),null;case 17:return at(e.type)&&Zo(),He(e),null;case 19:if(me(ye),i=e.memoizedState,i===null)return He(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Is(i,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=oa(t),a!==null){for(e.flags|=128,Is(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>Zn&&(e.flags|=128,n=!0,Is(i,!1),e.lanes=4194304)}else{if(!n)if(t=oa(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fe)return He(e),null}else 2*_e()-i.renderingStartTime>Zn&&r!==1073741824&&(e.flags|=128,n=!0,Is(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,r=ye.current,ue(ye,n?r&1|2:r&1),e):(He(e),null);case 22:case 23:return ad(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ut&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function $b(t,e){switch($u(e),e.tag){case 1:return at(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qn(),me(ot),me(Ge),Ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yu(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Yn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return Qn(),null;case 10:return qu(e.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var mo=!1,qe=!1,zb=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(t,e,n)}else r.current=null}function qc(t,e,r){try{r()}catch(n){Se(t,e,n)}}var Cp=!1;function Vb(t,e){if(Nc=Yo,t=rg(),Fu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,c=-1,u=-1,d=0,m=0,p=t,y=null;t:for(;;){for(var v;p!==r||s!==0&&p.nodeType!==3||(c=a+s),p!==i||n!==0&&p.nodeType!==3||(u=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)y=p,p=v;for(;;){if(p===t)break t;if(y===r&&++d===s&&(c=a),y===i&&++m===n&&(u=a),(v=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=v}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tc={focusedElem:t,selectionRange:r},Yo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,E=b.memoizedState,w=e.stateNode,k=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:Tt(e.type,N),E);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){Se(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return b=Cp,Cp=!1,b}function Ws(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qc(e,r,i)}s=s.next}while(s!==n)}}function Oa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Wc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Xg(t){var e=t.alternate;e!==null&&(t.alternate=null,Xg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[ui],delete e[Ic],delete e[jb],delete e[Eb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zg(t){return t.tag===5||t.tag===3||t.tag===4}function Np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xo));else if(n!==4&&(t=t.child,t!==null))for(Gc(t,e,r),t=t.sibling;t!==null;)Gc(t,e,r),t=t.sibling}function Kc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kc(t,e,r),t=t.sibling;t!==null;)Kc(t,e,r),t=t.sibling}var Me=null,Pt=!1;function hr(t,e,r){for(r=r.child;r!==null;)ey(t,e,r),r=r.sibling}function ey(t,e,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Ea,r)}catch{}switch(r.tag){case 5:qe||Mn(r,e);case 6:var n=Me,s=Pt;Me=null,hr(t,e,r),Me=n,Pt=s,Me!==null&&(Pt?(t=Me,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(Pt?(t=Me,r=r.stateNode,t.nodeType===8?Rl(t.parentNode,r):t.nodeType===1&&Rl(t,r),ii(t)):Rl(Me,r.stateNode));break;case 4:n=Me,s=Pt,Me=r.stateNode.containerInfo,Pt=!0,hr(t,e,r),Me=n,Pt=s;break;case 0:case 11:case 14:case 15:if(!qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&qc(r,e,a),s=s.next}while(s!==n)}hr(t,e,r);break;case 1:if(!qe&&(Mn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Se(r,e,c)}hr(t,e,r);break;case 21:hr(t,e,r);break;case 22:r.mode&1?(qe=(n=qe)||r.memoizedState!==null,hr(t,e,r),qe=n):hr(t,e,r);break;default:hr(t,e,r)}}function Tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zb),e.forEach(function(n){var s=Xb.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ct(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Me=c.stateNode,Pt=!1;break e;case 3:Me=c.stateNode.containerInfo,Pt=!0;break e;case 4:Me=c.stateNode.containerInfo,Pt=!0;break e}c=c.return}if(Me===null)throw Error(z(160));ey(i,a,s),Me=null,Pt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Se(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ty(e,t),e=e.sibling}function ty(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ct(e,t),Ft(t),n&4){try{Ws(3,t,t.return),Oa(3,t)}catch(N){Se(t,t.return,N)}try{Ws(5,t,t.return)}catch(N){Se(t,t.return,N)}}break;case 1:Ct(e,t),Ft(t),n&512&&r!==null&&Mn(r,r.return);break;case 5:if(Ct(e,t),Ft(t),n&512&&r!==null&&Mn(r,r.return),t.flags&32){var s=t.stateNode;try{ti(s,"")}catch(N){Se(t,t.return,N)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&kf(s,i),vc(c,a);var d=vc(c,i);for(a=0;a<u.length;a+=2){var m=u[a],p=u[a+1];m==="style"?Nf(s,p):m==="dangerouslySetInnerHTML"?Ef(s,p):m==="children"?ti(s,p):Eu(s,m,p,d)}switch(c){case"input":pc(s,i);break;case"textarea":_f(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Fn(s,!!i.multiple,v,!1):y!==!!i.multiple&&(i.defaultValue!=null?Fn(s,!!i.multiple,i.defaultValue,!0):Fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ui]=i}catch(N){Se(t,t.return,N)}}break;case 6:if(Ct(e,t),Ft(t),n&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){Se(t,t.return,N)}}break;case 3:if(Ct(e,t),Ft(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ii(e.containerInfo)}catch(N){Se(t,t.return,N)}break;case 4:Ct(e,t),Ft(t);break;case 13:Ct(e,t),Ft(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(id=_e())),n&4&&Tp(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(qe=(d=qe)||m,Ct(e,t),qe=d):Ct(e,t),Ft(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(W=t,m=t.child;m!==null;){for(p=W=m;W!==null;){switch(y=W,v=y.child,y.tag){case 0:case 11:case 14:case 15:Ws(4,y,y.return);break;case 1:Mn(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){Se(n,r,N)}}break;case 5:Mn(y,y.return);break;case 22:if(y.memoizedState!==null){Pp(p);continue}}v!==null?(v.return=y,W=v):Pp(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Cf("display",a))}catch(N){Se(t,t.return,N)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(N){Se(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ct(e,t),Ft(t),n&4&&Tp(t);break;case 21:break;default:Ct(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Zg(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ti(s,""),n.flags&=-33);var i=Np(t);Kc(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,c=Np(t);Gc(t,c,a);break;default:throw Error(z(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hb(t,e,r){W=t,ry(t)}function ry(t,e,r){for(var n=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||mo;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||qe;c=mo;var d=qe;if(mo=a,(qe=u)&&!d)for(W=s;W!==null;)a=W,u=a.child,a.tag===22&&a.memoizedState!==null?Ip(s):u!==null?(u.return=a,W=u):Ip(s);for(;i!==null;)W=i,ry(i),i=i.sibling;W=s,mo=c,qe=d}Ap(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Ap(t)}}function Ap(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||Oa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mp(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mp(e,a,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&ii(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}qe||e.flags&512&&Wc(e)}catch(y){Se(e,e.return,y)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function Pp(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function Ip(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Oa(4,e)}catch(u){Se(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){Se(e,s,u)}}var i=e.return;try{Wc(e)}catch(u){Se(e,i,u)}break;case 5:var a=e.return;try{Wc(e)}catch(u){Se(e,a,u)}}}catch(u){Se(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var qb=Math.ceil,ca=ar.ReactCurrentDispatcher,nd=ar.ReactCurrentOwner,kt=ar.ReactCurrentBatchConfig,se=0,Ie=null,Ce=null,Be=0,ut=0,Bn=Lr(0),Ae=0,gi=null,an=0,Da=0,sd=0,Gs=null,rt=null,id=0,Zn=1/0,Kt=null,ua=!1,Yc=null,Cr=null,fo=!1,xr=null,da=0,Ks=0,Jc=null,Bo=-1,Fo=0;function Ze(){return se&6?_e():Bo!==-1?Bo:Bo=_e()}function Nr(t){return t.mode&1?se&2&&Be!==0?Be&-Be:Nb.transition!==null?(Fo===0&&(Fo=Uf()),Fo):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Gf(t.type)),t):1}function Lt(t,e,r,n){if(50<Ks)throw Ks=0,Jc=null,Error(z(185));Ni(t,r,n),(!(se&2)||t!==Ie)&&(t===Ie&&(!(se&2)&&(Da|=r),Ae===4&&vr(t,Be)),lt(t,n),r===1&&se===0&&!(e.mode&1)&&(Zn=_e()+500,Pa&&Mr()))}function lt(t,e){var r=t.callbackNode;Nw(t,e);var n=Ko(t,t===Ie?Be:0);if(n===0)r!==null&&$h(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$h(r),e===1)t.tag===0?Cb(Rp.bind(null,t)):hg(Rp.bind(null,t)),kb(function(){!(se&6)&&Mr()}),r=null;else{switch($f(n)){case 1:r=Pu;break;case 4:r=Bf;break;case 16:r=Go;break;case 536870912:r=Ff;break;default:r=Go}r=uy(r,ny.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ny(t,e){if(Bo=-1,Fo=0,se&6)throw Error(z(327));var r=t.callbackNode;if(Hn()&&t.callbackNode!==r)return null;var n=Ko(t,t===Ie?Be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ha(t,n);else{e=n;var s=se;se|=2;var i=iy();(Ie!==t||Be!==e)&&(Kt=null,Zn=_e()+500,tn(t,e));do try{Kb();break}catch(c){sy(t,c)}while(!0);Hu(),ca.current=i,se=s,Ce!==null?e=0:(Ie=null,Be=0,e=Ae)}if(e!==0){if(e===2&&(s=kc(t),s!==0&&(n=s,e=Qc(t,s))),e===1)throw r=gi,tn(t,0),vr(t,n),lt(t,_e()),r;if(e===6)vr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Wb(s)&&(e=ha(t,n),e===2&&(i=kc(t),i!==0&&(n=i,e=Qc(t,i))),e===1))throw r=gi,tn(t,0),vr(t,n),lt(t,_e()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(z(345));case 2:qr(t,rt,Kt);break;case 3:if(vr(t,n),(n&130023424)===n&&(e=id+500-_e(),10<e)){if(Ko(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pc(qr.bind(null,t,rt,Kt),e);break}qr(t,rt,Kt);break;case 4:if(vr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Dt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=_e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qb(n/1960))-n,10<n){t.timeoutHandle=Pc(qr.bind(null,t,rt,Kt),n);break}qr(t,rt,Kt);break;case 5:qr(t,rt,Kt);break;default:throw Error(z(329))}}}return lt(t,_e()),t.callbackNode===r?ny.bind(null,t):null}function Qc(t,e){var r=Gs;return t.current.memoizedState.isDehydrated&&(tn(t,e).flags|=256),t=ha(t,e),t!==2&&(e=rt,rt=r,e!==null&&Xc(e)),t}function Xc(t){rt===null?rt=t:rt.push.apply(rt,t)}function Wb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vr(t,e){for(e&=~sd,e&=~Da,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function Rp(t){if(se&6)throw Error(z(327));Hn();var e=Ko(t,0);if(!(e&1))return lt(t,_e()),null;var r=ha(t,e);if(t.tag!==0&&r===2){var n=kc(t);n!==0&&(e=n,r=Qc(t,n))}if(r===1)throw r=gi,tn(t,0),vr(t,e),lt(t,_e()),r;if(r===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,rt,Kt),lt(t,_e()),null}function od(t,e){var r=se;se|=1;try{return t(e)}finally{se=r,se===0&&(Zn=_e()+500,Pa&&Mr())}}function ln(t){xr!==null&&xr.tag===0&&!(se&6)&&Hn();var e=se;se|=1;var r=kt.transition,n=oe;try{if(kt.transition=null,oe=1,t)return t()}finally{oe=n,kt.transition=r,se=e,!(se&6)&&Mr()}}function ad(){ut=Bn.current,me(Bn)}function tn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sb(r)),Ce!==null)for(r=Ce.return;r!==null;){var n=r;switch($u(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zo();break;case 3:Qn(),me(ot),me(Ge),Ju();break;case 5:Yu(n);break;case 4:Qn();break;case 13:me(ye);break;case 19:me(ye);break;case 10:qu(n.type._context);break;case 22:case 23:ad()}r=r.return}if(Ie=t,Ce=t=Tr(t.current,null),Be=ut=e,Ae=0,gi=null,sd=Da=an=0,rt=Gs=null,Xr!==null){for(e=0;e<Xr.length;e++)if(r=Xr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Xr=null}return t}function sy(t,e){do{var r=Ce;try{if(Hu(),Do.current=la,aa){for(var n=ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}aa=!1}if(on=0,Pe=Te=ve=null,qs=!1,pi=0,nd.current=null,r===null||r.return===null){Ae=1,gi=e,Ce=null;break}e:{var i=t,a=r.return,c=r,u=e;if(e=Be,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=c,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=bp(a);if(v!==null){v.flags&=-257,xp(v,a,c,i,e),v.mode&1&&wp(i,d,e),e=v,u=d;var b=e.updateQueue;if(b===null){var N=new Set;N.add(u),e.updateQueue=N}else b.add(u);break e}else{if(!(e&1)){wp(i,d,e),ld();break e}u=Error(z(426))}}else if(fe&&c.mode&1){var E=bp(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xp(E,a,c,i,e),zu(Xn(u,c));break e}}i=u=Xn(u,c),Ae!==4&&(Ae=2),Gs===null?Gs=[i]:Gs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=$g(i,u,e);pp(i,w);break e;case 1:c=u;var k=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof k.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cr===null||!Cr.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=zg(i,c,e);pp(i,P);break e}}i=i.return}while(i!==null)}ay(r)}catch(I){e=I,Ce===r&&r!==null&&(Ce=r=r.return);continue}break}while(!0)}function iy(){var t=ca.current;return ca.current=la,t===null?la:t}function ld(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ie===null||!(an&268435455)&&!(Da&268435455)||vr(Ie,Be)}function ha(t,e){var r=se;se|=2;var n=iy();(Ie!==t||Be!==e)&&(Kt=null,tn(t,e));do try{Gb();break}catch(s){sy(t,s)}while(!0);if(Hu(),se=r,ca.current=n,Ce!==null)throw Error(z(261));return Ie=null,Be=0,Ae}function Gb(){for(;Ce!==null;)oy(Ce)}function Kb(){for(;Ce!==null&&!ww();)oy(Ce)}function oy(t){var e=cy(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?ay(t):Ce=e,nd.current=null}function ay(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$b(r,e),r!==null){r.flags&=32767,Ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,Ce=null;return}}else if(r=Ub(r,e,ut),r!==null){Ce=r;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Ae===0&&(Ae=5)}function qr(t,e,r){var n=oe,s=kt.transition;try{kt.transition=null,oe=1,Yb(t,e,r,n)}finally{kt.transition=s,oe=n}return null}function Yb(t,e,r,n){do Hn();while(xr!==null);if(se&6)throw Error(z(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tw(t,i),t===Ie&&(Ce=Ie=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fo||(fo=!0,uy(Go,function(){return Hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var a=oe;oe=1;var c=se;se|=4,nd.current=null,Vb(t,r),ty(r,t),fb(Tc),Yo=!!Nc,Tc=Nc=null,t.current=r,Hb(r),bw(),se=c,oe=a,kt.transition=i}else t.current=r;if(fo&&(fo=!1,xr=t,da=s),i=t.pendingLanes,i===0&&(Cr=null),kw(r.stateNode),lt(t,_e()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ua)throw ua=!1,t=Yc,Yc=null,t;return da&1&&t.tag!==0&&Hn(),i=t.pendingLanes,i&1?t===Jc?Ks++:(Ks=0,Jc=t):Ks=0,Mr(),null}function Hn(){if(xr!==null){var t=$f(da),e=kt.transition,r=oe;try{if(kt.transition=null,oe=16>t?16:t,xr===null)var n=!1;else{if(t=xr,xr=null,da=0,se&6)throw Error(z(331));var s=se;for(se|=4,W=t.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(W=d;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:Ws(8,m,i)}var p=m.child;if(p!==null)p.return=m,W=p;else for(;W!==null;){m=W;var y=m.sibling,v=m.return;if(Xg(m),m===d){W=null;break}if(y!==null){y.return=v,W=y;break}W=v}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var E=N.sibling;N.sibling=null,N=E}while(N!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ws(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var k=t.current;for(W=k;W!==null;){a=W;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,W=S;else e:for(a=k;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Oa(9,c)}}catch(I){Se(c,c.return,I)}if(c===a){W=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,W=P;break e}W=c.return}}if(se=s,Mr(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Ea,t)}catch{}n=!0}return n}finally{oe=r,kt.transition=e}}return!1}function Op(t,e,r){e=Xn(r,e),e=$g(t,e,1),t=Er(t,e,1),e=Ze(),t!==null&&(Ni(t,1,e),lt(t,e))}function Se(t,e,r){if(t.tag===3)Op(t,t,r);else for(;e!==null;){if(e.tag===3){Op(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cr===null||!Cr.has(n))){t=Xn(r,t),t=zg(e,t,1),e=Er(e,t,1),t=Ze(),e!==null&&(Ni(e,1,t),lt(e,t));break}}e=e.return}}function Jb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&r,Ie===t&&(Be&r)===r&&(Ae===4||Ae===3&&(Be&130023424)===Be&&500>_e()-id?tn(t,0):sd|=r),lt(t,e)}function ly(t,e){e===0&&(t.mode&1?(e=so,so<<=1,!(so&130023424)&&(so=4194304)):e=1);var r=Ze();t=nr(t,e),t!==null&&(Ni(t,e,r),lt(t,r))}function Qb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ly(t,r)}function Xb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(e),ly(t,r)}var cy;cy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return it=!1,Fb(t,e,r);it=!!(t.flags&131072)}else it=!1,fe&&e.flags&1048576&&pg(e,ra,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mo(t,e),t=e.pendingProps;var s=Kn(e,Ge.current);Vn(e,r),s=Xu(null,e,n,t,s,r);var i=Zu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(n)?(i=!0,ea(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gu(e),s.updater=Ra,e.stateNode=s,s._reactInternals=e,Bc(e,n,t,r),e=$c(null,e,n,!0,i,r)):(e.tag=0,fe&&i&&Uu(e),Je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ex(n),t=Tt(n,t),s){case 0:e=Uc(null,e,n,t,r);break e;case 1:e=_p(null,e,n,t,r);break e;case 11:e=Sp(null,e,n,t,r);break e;case 14:e=kp(null,e,n,Tt(n.type,t),r);break e}throw Error(z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Uc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),_p(t,e,n,s,r);case 3:e:{if(Wg(e),t===null)throw Error(z(387));n=e.pendingProps,i=e.memoizedState,s=i.element,wg(t,e),ia(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xn(Error(z(423)),e),e=jp(t,e,n,r,s);break e}else if(n!==s){s=Xn(Error(z(424)),e),e=jp(t,e,n,r,s);break e}else for(pt=jr(e.stateNode.containerInfo.firstChild),mt=e,fe=!0,Rt=null,r=yg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yn(),n===s){e=sr(t,e,r);break e}Je(t,e,n,r)}e=e.child}return e;case 5:return bg(e),t===null&&Dc(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ac(n,s)?a=null:i!==null&&Ac(n,i)&&(e.flags|=32),qg(t,e),Je(t,e,a,r),e.child;case 6:return t===null&&Dc(e),null;case 13:return Gg(t,e,r);case 4:return Ku(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jn(e,null,n,r):Je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Sp(t,e,n,s,r);case 7:return Je(t,e,e.pendingProps,r),e.child;case 8:return Je(t,e,e.pendingProps.children,r),e.child;case 12:return Je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ue(na,n._currentValue),n._currentValue=a,i!==null)if(Mt(i.value,a)){if(i.children===s.children&&!ot.current){e=sr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var u=c.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Zt(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Lc(i.return,r,e),c.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Lc(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Vn(e,r),s=_t(s),n=n(s),e.flags|=1,Je(t,e,n,r),e.child;case 14:return n=e.type,s=Tt(n,e.pendingProps),s=Tt(n.type,s),kp(t,e,n,s,r);case 15:return Vg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Mo(t,e),e.tag=1,at(n)?(t=!0,ea(e)):t=!1,Vn(e,r),Ug(e,n,s),Bc(e,n,s,r),$c(null,e,n,!0,t,r);case 19:return Kg(t,e,r);case 22:return Hg(t,e,r)}throw Error(z(156,e.tag))};function uy(t,e){return Mf(t,e)}function Zb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,r,n){return new Zb(t,e,r,n)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ex(t){if(typeof t=="function")return cd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nu)return 11;if(t===Tu)return 14}return 2}function Tr(t,e){var r=t.alternate;return r===null?(r=St(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Uo(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")cd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nn:return rn(r.children,s,i,e);case Cu:a=8,s|=8;break;case lc:return t=St(12,r,e,s|2),t.elementType=lc,t.lanes=i,t;case cc:return t=St(13,r,e,s),t.elementType=cc,t.lanes=i,t;case uc:return t=St(19,r,e,s),t.elementType=uc,t.lanes=i,t;case bf:return La(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vf:a=10;break e;case wf:a=9;break e;case Nu:a=11;break e;case Tu:a=14;break e;case mr:a=16,n=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=St(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rn(t,e,r,n){return t=St(7,t,n,e),t.lanes=r,t}function La(t,e,r,n){return t=St(22,t,n,e),t.elementType=bf,t.lanes=r,t.stateNode={isHidden:!1},t}function $l(t,e,r){return t=St(6,t,null,e),t.lanes=r,t}function zl(t,e,r){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tx(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ud(t,e,r,n,s,i,a,c,u){return t=new tx(t,e,r,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(i),t}function rx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function dy(t){if(!t)return Or;t=t._reactInternals;e:{if(dn(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var r=t.type;if(at(r))return dg(t,r,e)}return e}function hy(t,e,r,n,s,i,a,c,u){return t=ud(r,n,!0,t,s,i,a,c,u),t.context=dy(null),r=t.current,n=Ze(),s=Nr(r),i=Zt(n,s),i.callback=e??null,Er(r,i,s),t.current.lanes=s,Ni(t,s,n),lt(t,n),t}function Ma(t,e,r,n){var s=e.current,i=Ze(),a=Nr(s);return r=dy(r),e.context===null?e.context=r:e.pendingContext=r,e=Zt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Er(s,e,a),t!==null&&(Lt(t,s,a,i),Oo(t,s,a)),a}function pa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function dd(t,e){Dp(t,e),(t=t.alternate)&&Dp(t,e)}function nx(){return null}var py=typeof reportError=="function"?reportError:function(t){console.error(t)};function hd(t){this._internalRoot=t}Ba.prototype.render=hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ma(t,e,null,null)};Ba.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ln(function(){Ma(null,t,null,null)}),e[rr]=null}};function Ba(t){this._internalRoot=t}Ba.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<yr.length&&e!==0&&e<yr[r].priority;r++);yr.splice(r,0,t),r===0&&Wf(t)}};function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function sx(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=pa(a);i.call(d)}}var a=hy(e,n,t,0,null,!1,!1,"",Lp);return t._reactRootContainer=a,t[rr]=a.current,li(t.nodeType===8?t.parentNode:t),ln(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var d=pa(u);c.call(d)}}var u=ud(t,0,!1,null,null,!1,!1,"",Lp);return t._reactRootContainer=u,t[rr]=u.current,li(t.nodeType===8?t.parentNode:t),ln(function(){Ma(e,u,r,n)}),u}function Ua(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var u=pa(a);c.call(u)}}Ma(e,a,t,s)}else a=sx(r,e,t,s,n);return pa(a)}zf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ms(e.pendingLanes);r!==0&&(Iu(e,r|1),lt(e,_e()),!(se&6)&&(Zn=_e()+500,Mr()))}break;case 13:ln(function(){var n=nr(t,1);if(n!==null){var s=Ze();Lt(n,t,1,s)}}),dd(t,1)}};Ru=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var r=Ze();Lt(e,t,134217728,r)}dd(t,134217728)}};Vf=function(t){if(t.tag===13){var e=Nr(t),r=nr(t,e);if(r!==null){var n=Ze();Lt(r,t,e,n)}dd(t,e)}};Hf=function(){return oe};qf=function(t,e){var r=oe;try{return oe=t,e()}finally{oe=r}};bc=function(t,e,r){switch(e){case"input":if(pc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Aa(n);if(!s)throw Error(z(90));Sf(n),pc(n,s)}}}break;case"textarea":_f(t,r);break;case"select":e=r.value,e!=null&&Fn(t,!!r.multiple,e,!1)}};Pf=od;If=ln;var ix={usingClientEntryPoint:!1,Events:[Ai,In,Aa,Tf,Af,od]},Rs={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Df(t),t===null?null:t.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Ea=go.inject(ox),zt=go}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(e))throw Error(z(200));return rx(t,e,null,r)};gt.createRoot=function(t,e){if(!pd(t))throw Error(z(299));var r=!1,n="",s=py;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ud(t,1,!1,null,null,r,!1,n,s),t[rr]=e.current,li(t.nodeType===8?t.parentNode:t),new hd(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Df(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return ln(t)};gt.hydrate=function(t,e,r){if(!Fa(e))throw Error(z(200));return Ua(null,t,e,!0,r)};gt.hydrateRoot=function(t,e,r){if(!pd(t))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=py;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=hy(e,null,t,1,r??null,s,!1,i,a),t[rr]=e.current,li(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ba(e)};gt.render=function(t,e,r){if(!Fa(e))throw Error(z(200));return Ua(null,t,e,!1,r)};gt.unmountComponentAtNode=function(t){if(!Fa(t))throw Error(z(40));return t._reactRootContainer?(ln(function(){Ua(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};gt.unstable_batchedUpdates=od;gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Fa(r))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ua(t,e,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function my(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(my)}catch(t){console.error(t)}}my(),mf.exports=gt;var ax=mf.exports,Mp=ax;oc.createRoot=Mp.createRoot,oc.hydrateRoot=Mp.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bp="popstate";function lx(t={}){function e(n,s){let{pathname:i,search:a,hash:c}=n.location;return Zc("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yi(s)}return ux(e,r,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substring(2,10)}function Fp(t,e){return{usr:t.state,key:t.key,idx:e}}function Zc(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:r,key:e&&e.key||n||cx()}}function yi({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function is(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function ux(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,c="POP",u=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function p(){c="POP";let E=m(),w=E==null?null:E-d;d=E,u&&u({action:c,location:N.location,delta:w})}function y(E,w){c="PUSH";let k=Zc(N.location,E,w);d=m()+1;let S=Fp(k,d),P=N.createHref(k);try{a.pushState(S,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(P)}i&&u&&u({action:c,location:N.location,delta:1})}function v(E,w){c="REPLACE";let k=Zc(N.location,E,w);d=m();let S=Fp(k,d),P=N.createHref(k);a.replaceState(S,"",P),i&&u&&u({action:c,location:N.location,delta:0})}function b(E){return dx(E)}let N={get action(){return c},get location(){return t(s,a)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Bp,p),u=E,()=>{s.removeEventListener(Bp,p),u=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let w=b(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:v,go(E){return a.go(E)}};return N}function dx(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),we(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:yi(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function fy(t,e,r="/"){return hx(t,e,r,!1)}function hx(t,e,r,n){let s=typeof e=="string"?is(e):e,i=ir(s.pathname||"/",r);if(i==null)return null;let a=gy(t);px(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=_x(i);c=Sx(a[u],d,n)}return c}function gy(t,e=[],r=[],n="",s=!1){let i=(a,c,u=s,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&u)return;we(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=er([n,m.relativePath]),y=r.concat(m);a.children&&a.children.length>0&&(we(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gy(a.children,e,y,p,u)),!(a.path==null&&!a.index)&&e.push({path:p,score:bx(p,a.index),routesMeta:y})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let d of yy(a.path))i(a,c,!0,d)}),e}function yy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=yy(n.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function px(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xx(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var mx=/^:[\w-]+$/,fx=3,gx=2,yx=1,vx=10,wx=-2,Up=t=>t==="*";function bx(t,e){let r=t.split("/"),n=r.length;return r.some(Up)&&(n+=wx),e&&(n+=gx),r.filter(s=>!Up(s)).reduce((s,i)=>s+(mx.test(i)?fx:i===""?yx:vx),n)}function xx(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Sx(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",a=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=ma({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),y=u.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=ma({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:er([i,p.pathname]),pathnameBase:Tx(er([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=er([i,p.pathnameBase]))}return a}function ma(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kx(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:p},y)=>{if(m==="*"){let b=c[y]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[y];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function kx(t,e=!1,r=!0){Bt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function _x(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ex=t=>jx.test(t);function Cx(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?is(t):t,i;if(r)if(Ex(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Bt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=$p(r.substring(1),"/"):i=$p(r,e)}else i=e;return{pathname:i,search:Ax(n),hash:Px(s)}}function $p(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vl(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nx(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vy(t){let e=Nx(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function wy(t,e,r,n=!1){let s;typeof t=="string"?s=is(t):(s={...t},we(!s.pathname||!s.pathname.includes("?"),Vl("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Vl("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Vl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}c=p>=0?e[p]:"/"}let u=Cx(s,c),d=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var er=t=>t.join("/").replace(/\/\/+/g,"/"),Tx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Px=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var by=["POST","PUT","PATCH","DELETE"];new Set(by);var Rx=["GET",...by];new Set(Rx);var os=D.createContext(null);os.displayName="DataRouter";var $a=D.createContext(null);$a.displayName="DataRouterState";D.createContext(!1);var xy=D.createContext({isTransitioning:!1});xy.displayName="ViewTransition";var Ox=D.createContext(new Map);Ox.displayName="Fetchers";var Dx=D.createContext(null);Dx.displayName="Await";var Ht=D.createContext(null);Ht.displayName="Navigation";var Ii=D.createContext(null);Ii.displayName="Location";var lr=D.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var md=D.createContext(null);md.displayName="RouteError";function Lx(t,{relative:e}={}){we(Ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(Ht),{hash:s,pathname:i,search:a}=Oi(t,{relative:e}),c=i;return r!=="/"&&(c=i==="/"?r:er([r,i])),n.createHref({pathname:c,search:a,hash:s})}function Ri(){return D.useContext(Ii)!=null}function qt(){return we(Ri(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ii).location}var Sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ky(t){D.useContext(Ht).static||D.useLayoutEffect(t)}function as(){let{isDataRoute:t}=D.useContext(lr);return t?Yx():Mx()}function Mx(){we(Ri(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(os),{basename:e,navigator:r}=D.useContext(Ht),{matches:n}=D.useContext(lr),{pathname:s}=qt(),i=JSON.stringify(vy(n)),a=D.useRef(!1);return ky(()=>{a.current=!0}),D.useCallback((u,d={})=>{if(Bt(a.current,Sy),!a.current)return;if(typeof u=="number"){r.go(u);return}let m=wy(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:er([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,i,s,t])}D.createContext(null);function Oi(t,{relative:e}={}){let{matches:r}=D.useContext(lr),{pathname:n}=qt(),s=JSON.stringify(vy(r));return D.useMemo(()=>wy(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Bx(t,e){return _y(t,e)}function _y(t,e,r,n,s){var k;we(Ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(Ht),{matches:a}=D.useContext(lr),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";jy(d,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=qt(),v;if(e){let S=typeof e=="string"?is(e):e;we(m==="/"||((k=S.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=y;let b=v.pathname||"/",N=b;if(m!=="/"){let S=m.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=fy(t,{pathname:N});Bt(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Bt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Vx(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:er([m,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:er([m,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,s);return e&&w?D.createElement(Ii.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function Fx(){let t=Kx(),e=Ix(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:i},"ErrorBoundary")," or"," ",D.createElement("code",{style:i},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:s},r):null,a)}var Ux=D.createElement(Fx,null),$x=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(lr.Provider,{value:this.props.routeContext},D.createElement(md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zx({routeContext:t,match:e,children:r}){let n=D.useContext(os);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(lr.Provider,{value:t},r)}function Vx(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let m=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);we(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,u=-1;if(r)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:y,errors:v}=r,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(m,p)=>{var y,v;n(m,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},errorInfo:p})}:void 0;return i.reduceRight((m,p,y)=>{let v,b=!1,N=null,E=null;r&&(v=a&&p.route.id?a[p.route.id]:void 0,N=p.route.errorElement||Ux,c&&(u<0&&y===0?(jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===y&&(b=!0,E=p.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,y+1)),k=()=>{let S;return v?S=N:b?S=E:p.route.Component?S=D.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=m,D.createElement(zx,{match:p,routeContext:{outlet:m,matches:w,isDataRoute:r!=null},children:S})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?D.createElement($x,{location:r.location,revalidation:r.revalidation,component:N,error:v,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:d}):k()},null)}function fd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(t){let e=D.useContext(os);return we(e,fd(t)),e}function qx(t){let e=D.useContext($a);return we(e,fd(t)),e}function Wx(t){let e=D.useContext(lr);return we(e,fd(t)),e}function gd(t){let e=Wx(t),r=e.matches[e.matches.length-1];return we(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Gx(){return gd("useRouteId")}function Kx(){var n;let t=D.useContext(md),e=qx("useRouteError"),r=gd("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Yx(){let{router:t}=Hx("useNavigate"),e=gd("useNavigate"),r=D.useRef(!1);return ky(()=>{r.current=!0}),D.useCallback(async(s,i={})=>{Bt(r.current,Sy),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var zp={};function jy(t,e,r){!e&&!zp[t]&&(zp[t]=!0,Bt(!1,r))}D.memo(Jx);function Jx({routes:t,future:e,state:r,unstable_onError:n}){return _y(t,void 0,r,n,e)}function wt(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qx({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){we(!Ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=is(r));let{pathname:u="/",search:d="",hash:m="",state:p=null,key:y="default"}=r,v=D.useMemo(()=>{let b=ir(u,a);return b==null?null:{location:{pathname:b,search:d,hash:m,state:p,key:y},navigationType:n}},[a,u,d,m,p,y,n]);return Bt(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement(Ht.Provider,{value:c},D.createElement(Ii.Provider,{children:e,value:v}))}function Xx({children:t,location:e}){return Bx(eu(t),e)}function eu(t,e=[]){let r=[];return D.Children.forEach(t,(n,s)=>{if(!D.isValidElement(n))return;let i=[...e,s];if(n.type===D.Fragment){r.push.apply(r,eu(n.props.children,i));return}we(n.type===wt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=eu(n.props.children,i)),r.push(a)}),r}var $o="get",zo="application/x-www-form-urlencoded";function za(t){return t!=null&&typeof t.tagName=="string"}function Zx(t){return za(t)&&t.tagName.toLowerCase()==="button"}function eS(t){return za(t)&&t.tagName.toLowerCase()==="form"}function tS(t){return za(t)&&t.tagName.toLowerCase()==="input"}function rS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nS(t,e){return t.button===0&&(!e||e==="_self")&&!rS(t)}var yo=null;function sS(){if(yo===null)try{new FormData(document.createElement("form"),0),yo=!1}catch{yo=!0}return yo}var iS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hl(t){return t!=null&&!iS.has(t)?(Bt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zo}"`),null):t}function oS(t,e){let r,n,s,i,a;if(eS(t)){let c=t.getAttribute("action");n=c?ir(c,e):null,r=t.getAttribute("method")||$o,s=Hl(t.getAttribute("enctype"))||zo,i=new FormData(t)}else if(Zx(t)||tS(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(n=u?ir(u,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||$o,s=Hl(t.getAttribute("formenctype"))||Hl(c.getAttribute("enctype"))||zo,i=new FormData(c,t),!sS()){let{name:d,type:m,value:p}=t;if(m==="image"){let y=d?`${d}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else d&&i.append(d,p)}}else{if(za(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$o,n=null,s=zo,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aS(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ir(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function lS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uS(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await lS(i,r);return a.links?a.links():[]}return[]}));return mS(n.flat(1).filter(cS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vp(t,e,r,n,s,i){let a=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,c=(u,d)=>{var m;return r[d].pathname!==u.pathname||((m=r[d].route.path)==null?void 0:m.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,d)=>a(u,d)||c(u,d)):i==="data"?e.filter((u,d)=>{var p;let m=n.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function dS(t,e,{includeHydrateFallback:r}={}){return hS(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function hS(t){return[...new Set(t)]}function pS(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function mS(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(pS(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Ey(){let t=D.useContext(os);return yd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fS(){let t=D.useContext($a);return yd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vd=D.createContext(void 0);vd.displayName="FrameworkContext";function Cy(){let t=D.useContext(vd);return yd(t,"You must render this element inside a <HydratedRouter> element"),t}function gS(t,e){let r=D.useContext(vd),[n,s]=D.useState(!1),[i,a]=D.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=e,y=D.useRef(null);D.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let N=w=>{w.forEach(k=>{a(k.isIntersecting)})},E=new IntersectionObserver(N,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),D.useEffect(()=>{if(n){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[n]);let v=()=>{s(!0)},b=()=>{s(!1),a(!1)};return r?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Os(c,v),onBlur:Os(u,b),onMouseEnter:Os(d,v),onMouseLeave:Os(m,b),onTouchStart:Os(p,v)}]:[!1,y,{}]}function Os(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function yS({page:t,...e}){let{router:r}=Ey(),n=D.useMemo(()=>fy(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(wS,{page:t,matches:n,...e}):null}function vS(t){let{manifest:e,routeModules:r}=Cy(),[n,s]=D.useState([]);return D.useEffect(()=>{let i=!1;return uS(t,e,r).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,r]),n}function wS({page:t,matches:e,...r}){let n=qt(),{manifest:s,routeModules:i}=Cy(),{basename:a}=Ey(),{loaderData:c,matches:u}=fS(),d=D.useMemo(()=>Vp(t,e,u,s,n,"data"),[t,e,u,s,n]),m=D.useMemo(()=>Vp(t,e,u,s,n,"assets"),[t,e,u,s,n]),p=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let b=new Set,N=!1;if(e.forEach(w=>{var S;let k=s.routes[w.route.id];!k||!k.hasLoader||(!d.some(P=>P.route.id===w.route.id)&&w.route.id in c&&((S=i[w.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?N=!0:b.add(w.route.id))}),b.size===0)return[];let E=aS(t,a,"data");return N&&b.size>0&&E.searchParams.set("_routes",e.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[a,c,n,s,d,e,t,i]),y=D.useMemo(()=>dS(m,s),[m,s]),v=vS(m);return D.createElement(D.Fragment,null,p.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),y.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),v.map(({key:b,link:N})=>D.createElement("link",{key:b,nonce:r.nonce,...N})))}function bS(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ny&&(window.__reactRouterVersion="7.9.6")}catch{}function xS({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=lx({window:r,v5Compat:!0}));let s=n.current,[i,a]=D.useState({action:s.action,location:s.location}),c=D.useCallback(u=>{D.startTransition(()=>a(u))},[a]);return D.useLayoutEffect(()=>s.listen(c),[s,c]),D.createElement(Qx,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ay=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:c,target:u,to:d,preventScrollReset:m,viewTransition:p,...y},v){let{basename:b}=D.useContext(Ht),N=typeof d=="string"&&Ty.test(d),E,w=!1;if(typeof d=="string"&&N&&(E=d,Ny))try{let x=new URL(window.location.href),C=d.startsWith("//")?new URL(x.protocol+d):new URL(d),A=ir(C.pathname,b);C.origin===x.origin&&A!=null?d=A+C.search+C.hash:w=!0}catch{Bt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Lx(d,{relative:s}),[S,P,I]=gS(n,y),O=jS(d,{replace:a,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:p});function j(x){e&&e(x),x.defaultPrevented||O(x)}let g=D.createElement("a",{...y,...I,href:E||k,onClick:w||i?e:j,ref:bS(v,P),target:u,"data-discover":!N&&r==="render"?"true":void 0});return S&&!N?D.createElement(D.Fragment,null,g,D.createElement(yS,{page:k})):g});Ay.displayName="Link";var SS=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:c,children:u,...d},m){let p=Oi(a,{relative:d.relative}),y=qt(),v=D.useContext($a),{navigator:b,basename:N}=D.useContext(Ht),E=v!=null&&AS(p)&&c===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,k=y.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&N&&(S=ir(S,N)||S);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let I=k===w||!s&&k.startsWith(w)&&k.charAt(P)==="/",O=S!=null&&(S===w||!s&&S.startsWith(w)&&S.charAt(w.length)==="/"),j={isActive:I,isPending:O,isTransitioning:E},g=I?e:void 0,x;typeof n=="function"?x=n(j):x=[n,I?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(j):i;return D.createElement(Ay,{...d,"aria-current":g,className:x,ref:m,style:C,to:a,viewTransition:c},typeof u=="function"?u(j):u)});SS.displayName="NavLink";var kS=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:a=$o,action:c,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:p,...y},v)=>{let b=NS(),N=TS(c,{relative:d}),E=a.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&Ty.test(c),k=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let P=S.nativeEvent.submitter,I=(P==null?void 0:P.getAttribute("formmethod"))||a;b(P||S.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:p})};return D.createElement("form",{ref:v,method:E,action:N,onSubmit:n?u:k,...y,"data-discover":!w&&t==="render"?"true":void 0})});kS.displayName="Form";function _S(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Py(t){let e=D.useContext(os);return we(e,_S(t)),e}function jS(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let c=as(),u=qt(),d=Oi(t,{relative:i});return D.useCallback(m=>{if(nS(m,e)){m.preventDefault();let p=r!==void 0?r:yi(u)===yi(d);c(t,{replace:p,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[u,c,d,r,n,e,t,s,i,a])}var ES=0,CS=()=>`__${String(++ES)}__`;function NS(){let{router:t}=Py("useSubmit"),{basename:e}=D.useContext(Ht),r=Gx();return D.useCallback(async(n,s={})=>{let{action:i,method:a,encType:c,formData:u,body:d}=oS(n,e);if(s.navigate===!1){let m=s.fetcherKey||CS();await t.fetch(m,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function TS(t,{relative:e}={}){let{basename:r}=D.useContext(Ht),n=D.useContext(lr);we(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Oi(t||".",{relative:e})},a=qt();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:er([r,i.pathname])),yi(i)}function AS(t,{relative:e}={}){let r=D.useContext(xy);we(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Py("useViewTransitionState"),s=Oi(t,{relative:e});if(!r.isTransitioning)return!1;let i=ir(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ir(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ma(s.pathname,a)!=null||ma(s.pathname,i)!=null}var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},PS=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],a=t[r++],c=t[r++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const i=t[r++],a=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,m=i>>2,p=(i&3)<<4|c>>4;let y=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(y=64)),n.push(r[m],r[p],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],c=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const p=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||p==null)throw new IS;const y=i<<2|c>>4;if(n.push(y),d!==64){const v=c<<4&240|d>>2;if(n.push(v),p!==64){const b=d<<6&192|p;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(t){const e=Iy(t);return Ry.encodeByteArray(e,!0)},fa=function(t){return RS(t).replace(/\./g,"")},OS=function(t){try{return Ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=()=>DS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof Hp>"u")return;const t=Hp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OS(t[1]);return e&&JSON.parse(e)},Oy=()=>{try{return LS()||MS()||BS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FS=t=>{var e,r;return(r=(e=Oy())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},US=t=>{const e=FS(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Dy=()=>{var t;return(t=Oy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $S=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(r)),fa(JSON.stringify(a)),""].join(".")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="FirebaseError";class ls extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=qS,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ly.prototype.create)}}class Ly{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?WS(i,n):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new ls(s,c,n)}}function WS(t,e){return t.replace(GS,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const GS=/\{\$([^}]+)}/g;function tu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],a=e[s];if(qp(i)&&qp(a)){if(!tu(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function qp(t){return t!==null&&typeof t=="object"}class vi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $S;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&a.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YS(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(t){return t===Wr?void 0:t}function JS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new KS(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const XS={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ZS=ae.INFO,ek={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},tk=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=ek[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const rk=(t,e)=>e.some(r=>t instanceof r);let Wp,Gp;function nk(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sk(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const By=new WeakMap,ru=new WeakMap,Fy=new WeakMap,ql=new WeakMap,wd=new WeakMap;function ik(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{r(Ar(t.result)),s()},a=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&By.set(r,t)}).catch(()=>{}),wd.set(e,t),e}function ok(t){if(ru.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});ru.set(t,e)}let nu={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ru.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fy.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ar(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ak(t){nu=t(nu)}function lk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Wl(this),e,...r);return Fy.set(n,e.sort?e.sort():[e]),Ar(n)}:sk().includes(t)?function(...e){return t.apply(Wl(this),e),Ar(By.get(this))}:function(...e){return Ar(t.apply(Wl(this),e))}}function ck(t){return typeof t=="function"?lk(t):(t instanceof IDBTransaction&&ok(t),rk(t,nk())?new Proxy(t,nu):t)}function Ar(t){if(t instanceof IDBRequest)return ik(t);if(ql.has(t))return ql.get(t);const e=ck(t);return e!==t&&(ql.set(t,e),wd.set(e,t)),e}const Wl=t=>wd.get(t);function uk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=Ar(a);return n&&a.addEventListener("upgradeneeded",u=>{n(Ar(a.result),u.oldVersion,u.newVersion,Ar(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const dk=["get","getKey","getAll","getAllKeys","count"],hk=["put","add","delete","clear"],Gl=new Map;function Kp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gl.get(e))return Gl.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=hk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||dk.includes(r)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),s&&u.done]))[0]};return Gl.set(e,i),i}ak(t=>({...t,get:(e,r,n)=>Kp(e,r)||t.get(e,r,n),has:(e,r)=>!!Kp(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(mk(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function mk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const su="@firebase/app",Yp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new My("@firebase/app"),fk="@firebase/app-compat",gk="@firebase/analytics-compat",yk="@firebase/analytics",vk="@firebase/app-check-compat",wk="@firebase/app-check",bk="@firebase/auth",xk="@firebase/auth-compat",Sk="@firebase/database",kk="@firebase/data-connect",_k="@firebase/database-compat",jk="@firebase/functions",Ek="@firebase/functions-compat",Ck="@firebase/installations",Nk="@firebase/installations-compat",Tk="@firebase/messaging",Ak="@firebase/messaging-compat",Pk="@firebase/performance",Ik="@firebase/performance-compat",Rk="@firebase/remote-config",Ok="@firebase/remote-config-compat",Dk="@firebase/storage",Lk="@firebase/storage-compat",Mk="@firebase/firestore",Bk="@firebase/vertexai-preview",Fk="@firebase/firestore-compat",Uk="firebase",$k="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]",zk={[su]:"fire-core",[fk]:"fire-core-compat",[yk]:"fire-analytics",[gk]:"fire-analytics-compat",[wk]:"fire-app-check",[vk]:"fire-app-check-compat",[bk]:"fire-auth",[xk]:"fire-auth-compat",[Sk]:"fire-rtdb",[kk]:"fire-data-connect",[_k]:"fire-rtdb-compat",[jk]:"fire-fn",[Ek]:"fire-fn-compat",[Ck]:"fire-iid",[Nk]:"fire-iid-compat",[Tk]:"fire-fcm",[Ak]:"fire-fcm-compat",[Pk]:"fire-perf",[Ik]:"fire-perf-compat",[Rk]:"fire-rc",[Ok]:"fire-rc-compat",[Dk]:"fire-gcs",[Lk]:"fire-gcs-compat",[Mk]:"fire-fst",[Fk]:"fire-fst-compat",[Bk]:"fire-vertex","fire-js":"fire-js",[Uk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Map,Vk=new Map,ou=new Map;function Jp(t,e){try{t.container.addComponent(e)}catch(r){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ya(t){const e=t.name;if(ou.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;ou.set(e,t);for(const r of ga.values())Jp(r,t);for(const r of Vk.values())Jp(r,t);return!0}function Hk(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Ly("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=$k;function Uy(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:iu,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Pr.create("bad-app-name",{appName:String(s)});if(r||(r=Dy()),!r)throw Pr.create("no-options");const i=ga.get(s);if(i){if(tu(r,i.options)&&tu(n,i.config))return i;throw Pr.create("duplicate-app",{appName:s})}const a=new QS(s);for(const u of ou.values())a.addComponent(u);const c=new Wk(r,n,a);return ga.set(s,c),c}function Kk(t=iu){const e=ga.get(t);if(!e&&t===iu&&Dy())return Uy();if(!e)throw Pr.create("no-app",{appName:t});return e}function qn(t,e,r){var n;let s=(n=zk[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}ya(new vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebase-heartbeat-database",Jk=1,wi="firebase-heartbeat-store";let Kl=null;function $y(){return Kl||(Kl=uk(Yk,Jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wi)}catch(r){console.warn(r)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Kl}async function Qk(t){try{const r=(await $y()).transaction(wi),n=await r.objectStore(wi).get(zy(t));return await r.done,n}catch(e){if(e instanceof ls)or.warn(e.message);else{const r=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(r.message)}}}async function Qp(t,e){try{const n=(await $y()).transaction(wi,"readwrite");await n.objectStore(wi).put(e,zy(t)),await n.done}catch(r){if(r instanceof ls)or.warn(r.message);else{const n=Pr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});or.warn(n.message)}}}function zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Zk=30*24*60*60*1e3;class e_{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new r_(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=Zk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){or.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Xp(),{heartbeatsToSend:n,unsentEntries:s}=t_(this._heartbeatsCache.heartbeats),i=fa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return or.warn(r),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function t_(t,e=Xk){const r=[];let n=t.slice();for(const s of t){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Zp(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Zp(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class r_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Qk(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zp(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){ya(new vi("platform-logger",e=>new pk(e),"PRIVATE")),ya(new vi("heartbeat",e=>new e_(e),"PRIVATE")),qn(su,Yp,t),qn(su,Yp,"esm2017"),qn("fire-js","")}n_("");var s_="firebase",i_="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(s_,i_,"app");var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,g){function x(){}x.prototype=g.prototype,j.D=g.prototype,j.prototype=new x,j.prototype.constructor=j,j.C=function(C,A,R){for(var T=Array(arguments.length-2),q=2;q<arguments.length;q++)T[q-2]=arguments[q];return g.prototype[A].apply(C,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,g,x){x||(x=0);var C=Array(16);if(typeof g=="string")for(var A=0;16>A;++A)C[A]=g.charCodeAt(x++)|g.charCodeAt(x++)<<8|g.charCodeAt(x++)<<16|g.charCodeAt(x++)<<24;else for(A=0;16>A;++A)C[A]=g[x++]|g[x++]<<8|g[x++]<<16|g[x++]<<24;g=j.g[0],x=j.g[1],A=j.g[2];var R=j.g[3],T=g+(R^x&(A^R))+C[0]+3614090360&4294967295;g=x+(T<<7&4294967295|T>>>25),T=R+(A^g&(x^A))+C[1]+3905402710&4294967295,R=g+(T<<12&4294967295|T>>>20),T=A+(x^R&(g^x))+C[2]+606105819&4294967295,A=R+(T<<17&4294967295|T>>>15),T=x+(g^A&(R^g))+C[3]+3250441966&4294967295,x=A+(T<<22&4294967295|T>>>10),T=g+(R^x&(A^R))+C[4]+4118548399&4294967295,g=x+(T<<7&4294967295|T>>>25),T=R+(A^g&(x^A))+C[5]+1200080426&4294967295,R=g+(T<<12&4294967295|T>>>20),T=A+(x^R&(g^x))+C[6]+2821735955&4294967295,A=R+(T<<17&4294967295|T>>>15),T=x+(g^A&(R^g))+C[7]+4249261313&4294967295,x=A+(T<<22&4294967295|T>>>10),T=g+(R^x&(A^R))+C[8]+1770035416&4294967295,g=x+(T<<7&4294967295|T>>>25),T=R+(A^g&(x^A))+C[9]+2336552879&4294967295,R=g+(T<<12&4294967295|T>>>20),T=A+(x^R&(g^x))+C[10]+4294925233&4294967295,A=R+(T<<17&4294967295|T>>>15),T=x+(g^A&(R^g))+C[11]+2304563134&4294967295,x=A+(T<<22&4294967295|T>>>10),T=g+(R^x&(A^R))+C[12]+1804603682&4294967295,g=x+(T<<7&4294967295|T>>>25),T=R+(A^g&(x^A))+C[13]+4254626195&4294967295,R=g+(T<<12&4294967295|T>>>20),T=A+(x^R&(g^x))+C[14]+2792965006&4294967295,A=R+(T<<17&4294967295|T>>>15),T=x+(g^A&(R^g))+C[15]+1236535329&4294967295,x=A+(T<<22&4294967295|T>>>10),T=g+(A^R&(x^A))+C[1]+4129170786&4294967295,g=x+(T<<5&4294967295|T>>>27),T=R+(x^A&(g^x))+C[6]+3225465664&4294967295,R=g+(T<<9&4294967295|T>>>23),T=A+(g^x&(R^g))+C[11]+643717713&4294967295,A=R+(T<<14&4294967295|T>>>18),T=x+(R^g&(A^R))+C[0]+3921069994&4294967295,x=A+(T<<20&4294967295|T>>>12),T=g+(A^R&(x^A))+C[5]+3593408605&4294967295,g=x+(T<<5&4294967295|T>>>27),T=R+(x^A&(g^x))+C[10]+38016083&4294967295,R=g+(T<<9&4294967295|T>>>23),T=A+(g^x&(R^g))+C[15]+3634488961&4294967295,A=R+(T<<14&4294967295|T>>>18),T=x+(R^g&(A^R))+C[4]+3889429448&4294967295,x=A+(T<<20&4294967295|T>>>12),T=g+(A^R&(x^A))+C[9]+568446438&4294967295,g=x+(T<<5&4294967295|T>>>27),T=R+(x^A&(g^x))+C[14]+3275163606&4294967295,R=g+(T<<9&4294967295|T>>>23),T=A+(g^x&(R^g))+C[3]+4107603335&4294967295,A=R+(T<<14&4294967295|T>>>18),T=x+(R^g&(A^R))+C[8]+1163531501&4294967295,x=A+(T<<20&4294967295|T>>>12),T=g+(A^R&(x^A))+C[13]+2850285829&4294967295,g=x+(T<<5&4294967295|T>>>27),T=R+(x^A&(g^x))+C[2]+4243563512&4294967295,R=g+(T<<9&4294967295|T>>>23),T=A+(g^x&(R^g))+C[7]+1735328473&4294967295,A=R+(T<<14&4294967295|T>>>18),T=x+(R^g&(A^R))+C[12]+2368359562&4294967295,x=A+(T<<20&4294967295|T>>>12),T=g+(x^A^R)+C[5]+4294588738&4294967295,g=x+(T<<4&4294967295|T>>>28),T=R+(g^x^A)+C[8]+2272392833&4294967295,R=g+(T<<11&4294967295|T>>>21),T=A+(R^g^x)+C[11]+1839030562&4294967295,A=R+(T<<16&4294967295|T>>>16),T=x+(A^R^g)+C[14]+4259657740&4294967295,x=A+(T<<23&4294967295|T>>>9),T=g+(x^A^R)+C[1]+2763975236&4294967295,g=x+(T<<4&4294967295|T>>>28),T=R+(g^x^A)+C[4]+1272893353&4294967295,R=g+(T<<11&4294967295|T>>>21),T=A+(R^g^x)+C[7]+4139469664&4294967295,A=R+(T<<16&4294967295|T>>>16),T=x+(A^R^g)+C[10]+3200236656&4294967295,x=A+(T<<23&4294967295|T>>>9),T=g+(x^A^R)+C[13]+681279174&4294967295,g=x+(T<<4&4294967295|T>>>28),T=R+(g^x^A)+C[0]+3936430074&4294967295,R=g+(T<<11&4294967295|T>>>21),T=A+(R^g^x)+C[3]+3572445317&4294967295,A=R+(T<<16&4294967295|T>>>16),T=x+(A^R^g)+C[6]+76029189&4294967295,x=A+(T<<23&4294967295|T>>>9),T=g+(x^A^R)+C[9]+3654602809&4294967295,g=x+(T<<4&4294967295|T>>>28),T=R+(g^x^A)+C[12]+3873151461&4294967295,R=g+(T<<11&4294967295|T>>>21),T=A+(R^g^x)+C[15]+530742520&4294967295,A=R+(T<<16&4294967295|T>>>16),T=x+(A^R^g)+C[2]+3299628645&4294967295,x=A+(T<<23&4294967295|T>>>9),T=g+(A^(x|~R))+C[0]+4096336452&4294967295,g=x+(T<<6&4294967295|T>>>26),T=R+(x^(g|~A))+C[7]+1126891415&4294967295,R=g+(T<<10&4294967295|T>>>22),T=A+(g^(R|~x))+C[14]+2878612391&4294967295,A=R+(T<<15&4294967295|T>>>17),T=x+(R^(A|~g))+C[5]+4237533241&4294967295,x=A+(T<<21&4294967295|T>>>11),T=g+(A^(x|~R))+C[12]+1700485571&4294967295,g=x+(T<<6&4294967295|T>>>26),T=R+(x^(g|~A))+C[3]+2399980690&4294967295,R=g+(T<<10&4294967295|T>>>22),T=A+(g^(R|~x))+C[10]+4293915773&4294967295,A=R+(T<<15&4294967295|T>>>17),T=x+(R^(A|~g))+C[1]+2240044497&4294967295,x=A+(T<<21&4294967295|T>>>11),T=g+(A^(x|~R))+C[8]+1873313359&4294967295,g=x+(T<<6&4294967295|T>>>26),T=R+(x^(g|~A))+C[15]+4264355552&4294967295,R=g+(T<<10&4294967295|T>>>22),T=A+(g^(R|~x))+C[6]+2734768916&4294967295,A=R+(T<<15&4294967295|T>>>17),T=x+(R^(A|~g))+C[13]+1309151649&4294967295,x=A+(T<<21&4294967295|T>>>11),T=g+(A^(x|~R))+C[4]+4149444226&4294967295,g=x+(T<<6&4294967295|T>>>26),T=R+(x^(g|~A))+C[11]+3174756917&4294967295,R=g+(T<<10&4294967295|T>>>22),T=A+(g^(R|~x))+C[2]+718787259&4294967295,A=R+(T<<15&4294967295|T>>>17),T=x+(R^(A|~g))+C[9]+3951481745&4294967295,j.g[0]=j.g[0]+g&4294967295,j.g[1]=j.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,j.g[2]=j.g[2]+A&4294967295,j.g[3]=j.g[3]+R&4294967295}n.prototype.u=function(j,g){g===void 0&&(g=j.length);for(var x=g-this.blockSize,C=this.B,A=this.h,R=0;R<g;){if(A==0)for(;R<=x;)s(this,j,R),R+=this.blockSize;if(typeof j=="string"){for(;R<g;)if(C[A++]=j.charCodeAt(R++),A==this.blockSize){s(this,C),A=0;break}}else for(;R<g;)if(C[A++]=j[R++],A==this.blockSize){s(this,C),A=0;break}}this.h=A,this.o+=g},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var g=1;g<j.length-8;++g)j[g]=0;var x=8*this.o;for(g=j.length-8;g<j.length;++g)j[g]=x&255,x/=256;for(this.u(j),j=Array(16),g=x=0;4>g;++g)for(var C=0;32>C;C+=8)j[x++]=this.g[g]>>>C&255;return j};function i(j,g){var x=c;return Object.prototype.hasOwnProperty.call(x,j)?x[j]:x[j]=g(j)}function a(j,g){this.h=g;for(var x=[],C=!0,A=j.length-1;0<=A;A--){var R=j[A]|0;C&&R==g||(x[A]=R,C=!1)}this.g=x}var c={};function u(j){return-128<=j&&128>j?i(j,function(g){return new a([g|0],0>g?-1:0)}):new a([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return p;if(0>j)return E(d(-j));for(var g=[],x=1,C=0;j>=x;C++)g[C]=j/x|0,x*=4294967296;return new a(g,0)}function m(j,g){if(j.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(j.charAt(0)=="-")return E(m(j.substring(1),g));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(g,8)),C=p,A=0;A<j.length;A+=8){var R=Math.min(8,j.length-A),T=parseInt(j.substring(A,A+R),g);8>R?(R=d(Math.pow(g,R)),C=C.j(R).add(d(T))):(C=C.j(x),C=C.add(d(T)))}return C}var p=u(0),y=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-E(this).m();for(var j=0,g=1,x=0;x<this.g.length;x++){var C=this.i(x);j+=(0<=C?C:4294967296+C)*g,g*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(N(this))return"-"+E(this).toString(j);for(var g=d(Math.pow(j,6)),x=this,C="";;){var A=P(x,g).g;x=w(x,A.j(g));var R=((0<x.g.length?x.g[0]:x.h)>>>0).toString(j);if(x=A,b(x))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(var g=0;g<j.g.length;g++)if(j.g[g]!=0)return!1;return!0}function N(j){return j.h==-1}t.l=function(j){return j=w(this,j),N(j)?-1:b(j)?0:1};function E(j){for(var g=j.g.length,x=[],C=0;C<g;C++)x[C]=~j.g[C];return new a(x,~j.h).add(y)}t.abs=function(){return N(this)?E(this):this},t.add=function(j){for(var g=Math.max(this.g.length,j.g.length),x=[],C=0,A=0;A<=g;A++){var R=C+(this.i(A)&65535)+(j.i(A)&65535),T=(R>>>16)+(this.i(A)>>>16)+(j.i(A)>>>16);C=T>>>16,R&=65535,T&=65535,x[A]=T<<16|R}return new a(x,x[x.length-1]&-2147483648?-1:0)};function w(j,g){return j.add(E(g))}t.j=function(j){if(b(this)||b(j))return p;if(N(this))return N(j)?E(this).j(E(j)):E(E(this).j(j));if(N(j))return E(this.j(E(j)));if(0>this.l(v)&&0>j.l(v))return d(this.m()*j.m());for(var g=this.g.length+j.g.length,x=[],C=0;C<2*g;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<j.g.length;A++){var R=this.i(C)>>>16,T=this.i(C)&65535,q=j.i(A)>>>16,te=j.i(A)&65535;x[2*C+2*A]+=T*te,k(x,2*C+2*A),x[2*C+2*A+1]+=R*te,k(x,2*C+2*A+1),x[2*C+2*A+1]+=T*q,k(x,2*C+2*A+1),x[2*C+2*A+2]+=R*q,k(x,2*C+2*A+2)}for(C=0;C<g;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=g;C<2*g;C++)x[C]=0;return new a(x,0)};function k(j,g){for(;(j[g]&65535)!=j[g];)j[g+1]+=j[g]>>>16,j[g]&=65535,g++}function S(j,g){this.g=j,this.h=g}function P(j,g){if(b(g))throw Error("division by zero");if(b(j))return new S(p,p);if(N(j))return g=P(E(j),g),new S(E(g.g),E(g.h));if(N(g))return g=P(j,E(g)),new S(E(g.g),g.h);if(30<j.g.length){if(N(j)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var x=y,C=g;0>=C.l(j);)x=I(x),C=I(C);var A=O(x,1),R=O(C,1);for(C=O(C,2),x=O(x,2);!b(C);){var T=R.add(C);0>=T.l(j)&&(A=A.add(x),R=T),C=O(C,1),x=O(x,1)}return g=w(j,A.j(g)),new S(A,g)}for(A=p;0<=j.l(g);){for(x=Math.max(1,Math.floor(j.m()/g.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=d(x),T=R.j(g);N(T)||0<T.l(j);)x-=C,R=d(x),T=R.j(g);b(R)&&(R=y),A=A.add(R),j=w(j,T)}return new S(A,j)}t.A=function(j){return P(this,j).h},t.and=function(j){for(var g=Math.max(this.g.length,j.g.length),x=[],C=0;C<g;C++)x[C]=this.i(C)&j.i(C);return new a(x,this.h&j.h)},t.or=function(j){for(var g=Math.max(this.g.length,j.g.length),x=[],C=0;C<g;C++)x[C]=this.i(C)|j.i(C);return new a(x,this.h|j.h)},t.xor=function(j){for(var g=Math.max(this.g.length,j.g.length),x=[],C=0;C<g;C++)x[C]=this.i(C)^j.i(C);return new a(x,this.h^j.h)};function I(j){for(var g=j.g.length+1,x=[],C=0;C<g;C++)x[C]=j.i(C)<<1|j.i(C-1)>>>31;return new a(x,j.h)}function O(j,g){var x=g>>5;g%=32;for(var C=j.g.length-x,A=[],R=0;R<C;R++)A[R]=0<g?j.i(R+x)>>>g|j.i(R+x+1)<<32-g:j.i(R+x);return new a(A,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,Vy=a}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof vo=="object"&&vo];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var n=r(this);function s(l,h){if(h)e:{var f=n;l=l.split(".");for(var _=0;_<l.length-1;_++){var L=l[_];if(!(L in f))break e;f=f[L]}l=l[l.length-1],_=f[l],h=h(_),h!=_&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var f=0,_=!1,L={next:function(){if(!_&&f<l.length){var B=f++;return{value:h(B,l[B]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function m(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function y(l,h,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,y.apply(null,arguments)}function v(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function b(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(_,L,B){for(var V=Array(arguments.length-2),le=2;le<arguments.length;le++)V[le-2]=arguments[le];return h.prototype[L].apply(_,V)}}function N(l){const h=l.length;if(0<h){const f=Array(h);for(let _=0;_<h;_++)f[_]=l[_];return f}return[]}function E(l,h){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const L=l.length||0,B=_.length||0;l.length=L+B;for(let V=0;V<B;V++)l[L+V]=_[V]}else l.push(_)}}class w{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var I=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(l,h,f){for(const _ in l)h.call(f,l[_],_,l)}function j(l,h){for(const f in l)h.call(void 0,l[f],f,l)}function g(l){const h={};for(const f in l)h[f]=l[f];return h}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let f,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(f in _)l[f]=_[f];for(let B=0;B<x.length;B++)f=x[B],Object.prototype.hasOwnProperty.call(_,f)&&(l[f]=_[f])}}function A(l){var h=1;l=l.split(":");const f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function R(l){c.setTimeout(()=>{throw l},0)}function T(){var l=M;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class q{constructor(){this.h=this.g=null}add(h,f){const _=te.get();_.set(h,f),this.h?this.h.next=_:this.g=_,this.h=_}}var te=new w(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,M=new q,$=()=>{const l=c.Promise.resolve(void 0);F=()=>{l.then(H)}};var H=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(f){R(f)}var h=te;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}U=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};c.addEventListener("test",f,h),c.removeEventListener("test",f,h)}catch{}return l}();function je(l,h){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(I){e:{try{P(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&je.aa.h.call(this)}}b(je,X);var Re={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),de=0;function hs(l,h,f,_,L){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!_,this.ha=L,this.key=++de,this.da=this.fa=!1}function Bi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fi(l){this.src=l,this.g={},this.h=0}Fi.prototype.add=function(l,h,f,_,L){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var V=Ga(l,h,_,L);return-1<V?(h=l[V],f||(h.fa=!1)):(h=new hs(h,this.src,B,!!_,L),h.fa=f,l.push(h)),h};function Wa(l,h){var f=h.type;if(f in l.g){var _=l.g[f],L=Array.prototype.indexOf.call(_,h,void 0),B;(B=0<=L)&&Array.prototype.splice.call(_,L,1),B&&(Bi(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Ga(l,h,f,_){for(var L=0;L<l.length;++L){var B=l[L];if(!B.da&&B.listener==h&&B.capture==!!f&&B.ha==_)return L}return-1}var Ka="closure_lm_"+(1e6*Math.random()|0),Ya={};function Id(l,h,f,_,L){if(Array.isArray(h)){for(var B=0;B<h.length;B++)Id(l,h[B],f,_,L);return null}return f=Dd(f),l&&l[Oe]?l.K(h,f,d(_)?!!_.capture:!1,L):r0(l,h,f,!1,_,L)}function r0(l,h,f,_,L,B){if(!h)throw Error("Invalid event type");var V=d(L)?!!L.capture:!!L,le=Qa(l);if(le||(l[Ka]=le=new Fi(l)),f=le.add(h,f,_,V,B),f.proxy)return f;if(_=n0(),f.proxy=_,_.src=l,_.listener=f,l.addEventListener)xe||(L=V),L===void 0&&(L=!1),l.addEventListener(h.toString(),_,L);else if(l.attachEvent)l.attachEvent(Od(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function n0(){function l(f){return h.call(l.src,l.listener,f)}const h=s0;return l}function Rd(l,h,f,_,L){if(Array.isArray(h))for(var B=0;B<h.length;B++)Rd(l,h[B],f,_,L);else _=d(_)?!!_.capture:!!_,f=Dd(f),l&&l[Oe]?(l=l.i,h=String(h).toString(),h in l.g&&(B=l.g[h],f=Ga(B,f,_,L),-1<f&&(Bi(B[f]),Array.prototype.splice.call(B,f,1),B.length==0&&(delete l.g[h],l.h--)))):l&&(l=Qa(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ga(h,f,_,L)),(f=-1<l?h[l]:null)&&Ja(f))}function Ja(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Oe])Wa(h.i,l);else{var f=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(f,_,l.capture):h.detachEvent?h.detachEvent(Od(f),_):h.addListener&&h.removeListener&&h.removeListener(_),(f=Qa(h))?(Wa(f,l),f.h==0&&(f.src=null,h[Ka]=null)):Bi(l)}}}function Od(l){return l in Ya?Ya[l]:Ya[l]="on"+l}function s0(l,h){if(l.da)l=!0;else{h=new je(h,this);var f=l.listener,_=l.ha||l.src;l.fa&&Ja(l),l=f.call(_,h)}return l}function Qa(l){return l=l[Ka],l instanceof Fi?l:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dd(l){return typeof l=="function"?l:(l[Xa]||(l[Xa]=function(h){return l.handleEvent(h)}),l[Xa])}function Ue(){Y.call(this),this.i=new Fi(this),this.M=this,this.F=null}b(Ue,Y),Ue.prototype[Oe]=!0,Ue.prototype.removeEventListener=function(l,h,f,_){Rd(this,l,h,f,_)};function Ke(l,h){var f,_=l.F;if(_)for(f=[];_;_=_.F)f.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new X(h,l);else if(h instanceof X)h.target=h.target||l;else{var L=h;h=new X(_,l),C(h,L)}if(L=!0,f)for(var B=f.length-1;0<=B;B--){var V=h.g=f[B];L=Ui(V,_,!0,h)&&L}if(V=h.g=l,L=Ui(V,_,!0,h)&&L,L=Ui(V,_,!1,h)&&L,f)for(B=0;B<f.length;B++)V=h.g=f[B],L=Ui(V,_,!1,h)&&L}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],_=0;_<f.length;_++)Bi(f[_]);delete l.g[h],l.h--}}this.F=null},Ue.prototype.K=function(l,h,f,_){return this.i.add(String(l),h,!1,f,_)},Ue.prototype.L=function(l,h,f,_){return this.i.add(String(l),h,!0,f,_)};function Ui(l,h,f,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,B=0;B<h.length;++B){var V=h[B];if(V&&!V.da&&V.capture==f){var le=V.listener,De=V.ha||V.src;V.fa&&Wa(l.i,V),L=le.call(De,_)!==!1&&L}}return L&&!_.defaultPrevented}function Ld(l,h,f){if(typeof l=="function")f&&(l=y(l,f));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Md(l){l.g=Ld(()=>{l.g=null,l.i&&(l.i=!1,Md(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class i0 extends Y{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Md(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(l){Y.call(this),this.h=l,this.g={}}b(ps,Y);var Bd=[];function Fd(l){O(l.g,function(h,f){this.g.hasOwnProperty(f)&&Ja(h)},l),l.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Fd(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Za=c.JSON.stringify,o0=c.JSON.parse,a0=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function el(){}el.prototype.h=null;function Ud(l){return l.h||(l.h=l.i())}function l0(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tl(){X.call(this,"d")}b(tl,X);function rl(){X.call(this,"c")}b(rl,X);var hn={},$d=null;function nl(){return $d=$d||new Ue}hn.La="serverreachability";function zd(l){X.call(this,hn.La,l)}b(zd,X);function fs(l){const h=nl();Ke(h,new zd(h))}hn.STAT_EVENT="statevent";function Vd(l,h){X.call(this,hn.STAT_EVENT,l),this.stat=h}b(Vd,X);function Ye(l){const h=nl();Ke(h,new Vd(h,l))}hn.Ma="timingevent";function Hd(l,h){X.call(this,hn.Ma,l),this.size=h}b(Hd,X);function gs(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function c0(l,h,f,_,L,B){l.info(function(){if(l.g)if(B)for(var V="",le=B.split("&"),De=0;De<le.length;De++){var ie=le[De].split("=");if(1<ie.length){var $e=ie[0];ie=ie[1];var ze=$e.split("_");V=2<=ze.length&&ze[1]=="type"?V+($e+"="+ie+"&"):V+($e+"=redacted&")}}else V=null;else V=B;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+`
`+f+`
`+V})}function u0(l,h,f,_,L,B,V){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+`
`+f+`
`+B+" "+V})}function pn(l,h,f,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+h0(l,f)+(_?" "+_:"")})}function d0(l,h){l.info(function(){return"TIMEOUT: "+h})}ys.prototype.info=function(){};function h0(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var _=f[l];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var V=1;V<L.length;V++)L[V]=""}}}}return Za(f)}catch{return h}}var sl={NO_ERROR:0,TIMEOUT:8},p0={},il;function $i(){}b($i,el),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},il=new $i;function cr(l,h,f,_){this.j=l,this.i=h,this.l=f,this.R=_||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qd}function qd(){this.i=null,this.g="",this.h=!1}var Wd={},ol={};function al(l,h,f){l.L=1,l.v=qi(Wt(h)),l.m=f,l.P=!0,Gd(l,null)}function Gd(l,h){l.F=Date.now(),zi(l),l.A=Wt(l.v);var f=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),ah(f.i,"t",_),l.C=0,f=l.j.J,l.h=new qd,l.g=jh(l.j,f?h:null,!l.m),0<l.O&&(l.M=new i0(y(l.Y,l,l.g),l.O)),h=l.U,f=l.g,_=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Bd[0]=L.toString()),L=Bd);for(var B=0;B<L.length;B++){var V=Id(f,L[B],_||h.handleEvent,!1,h.h||h);if(!V)break;h.g[V.key]=V}h=l.H?g(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),fs(),c0(l.i,l.u,l.A,l.l,l.R,l.m)}cr.prototype.ca=function(l){l=l.target;const h=this.M;h&&Gt(l)==3?h.j():this.Y(l)},cr.prototype.Y=function(l){try{if(l==this.g)e:{const ze=Gt(this.g);var h=this.g.Ba();const gn=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||mh(this.g)))){this.J||ze!=4||h==7||(h==8||0>=gn?fs(3):fs(2)),ll(this);var f=this.g.Z();this.X=f;t:if(Kd(this)){var _=mh(this.g);l="";var L=_.length,B=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),vs(this);var V="";break t}this.h.i=new c.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(B&&h==L-1)});_.length=0,this.h.g+=l,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,u0(this.i,this.u,this.A,this.l,this.R,ze,f),this.o){if(this.T&&!this.K){t:{if(this.g){var le,De=this.g;if((le=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(le)){var ie=le;break t}}ie=null}if(f=ie)pn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cl(this,f);else{this.o=!1,this.s=3,Ye(12),Fr(this),vs(this);break e}}if(this.P){f=!0;let Et;for(;!this.J&&this.C<V.length;)if(Et=m0(this,V),Et==ol){ze==4&&(this.s=4,Ye(14),f=!1),pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Wd){this.s=4,Ye(15),pn(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else pn(this.i,this.l,Et,null),cl(this,Et);if(Kd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||V.length!=0||this.h.h||(this.s=1,Ye(16),f=!1),this.o=this.o&&f,!f)pn(this.i,this.l,V,"[Invalid Chunked Response]"),Fr(this),vs(this);else if(0<V.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),fl($e),$e.M=!0,Ye(11))}}else pn(this.i,this.l,V,null),cl(this,V);ze==4&&Fr(this),this.o&&!this.J&&(ze==4?xh(this.j,this):(this.o=!1,zi(this)))}else P0(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Fr(this),vs(this)}}}catch{}finally{}};function Kd(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function m0(l,h){var f=l.C,_=h.indexOf(`
`,f);return _==-1?ol:(f=Number(h.substring(f,_)),isNaN(f)?Wd:(_+=1,_+f>h.length?ol:(h=h.slice(_,_+f),l.C=_+f,h)))}cr.prototype.cancel=function(){this.J=!0,Fr(this)};function zi(l){l.S=Date.now()+l.I,Yd(l,l.I)}function Yd(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gs(y(l.ba,l),h)}function ll(l){l.B&&(c.clearTimeout(l.B),l.B=null)}cr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(d0(this.i,this.A),this.L!=2&&(fs(),Ye(17)),Fr(this),this.s=2,vs(this)):Yd(this,this.S-l)};function vs(l){l.j.G==0||l.J||xh(l.j,l)}function Fr(l){ll(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Fd(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function cl(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||ul(f.h,l))){if(!l.K&&ul(f.h,l)&&f.G==3){try{var _=f.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Qi(f),Yi(f);else break e;ml(f),Ye(18)}}else f.za=L[1],0<f.za-f.T&&37500>L[2]&&f.F&&f.v==0&&!f.C&&(f.C=gs(y(f.Za,f),6e3));if(1>=Xd(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else $r(f,11)}else if((l.K||f.g==l)&&Qi(f),!k(h))for(L=f.Da.g.parse(h),h=0;h<L.length;h++){let ie=L[h];if(f.T=ie[0],ie=ie[1],f.G==2)if(ie[0]=="c"){f.K=ie[1],f.ia=ie[2];const $e=ie[3];$e!=null&&(f.la=$e,f.j.info("VER="+f.la));const ze=ie[4];ze!=null&&(f.Aa=ze,f.j.info("SVER="+f.Aa));const gn=ie[5];gn!=null&&typeof gn=="number"&&0<gn&&(_=1.5*gn,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const Et=l.g;if(Et){const Xi=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var B=_.h;B.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(dl(B,B.h),B.h=null))}if(_.D){const gl=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(_.ya=gl,he(_.I,_.D,gl))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var V=l;if(_.qa=_h(_,_.J?_.ia:null,_.W),V.K){Zd(_.h,V);var le=V,De=_.L;De&&(le.I=De),le.B&&(ll(le),zi(le)),_.g=V}else wh(_);0<f.i.length&&Ji(f)}else ie[0]!="stop"&&ie[0]!="close"||$r(f,7);else f.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?$r(f,7):pl(f):ie[0]!="noop"&&f.l&&f.l.ta(ie),f.v=0)}}fs(4)}catch{}}var f0=class{constructor(l,h){this.g=l,this.map=h}};function Jd(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qd(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Xd(l){return l.h?1:l.g?l.g.size:0}function ul(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function dl(l,h){l.g?l.g.add(h):l.h=h}function Zd(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Jd.prototype.cancel=function(){if(this.i=eh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function eh(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const f of l.g.values())h=h.concat(f.D);return h}return N(l.i)}function g0(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],f=l.length,_=0;_<f;_++)h.push(l[_]);return h}h=[],f=0;for(_ in l)h[f++]=l[_];return h}function y0(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(const _ in l)h[f++]=_;return h}}}function th(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=y0(l),_=g0(l),L=_.length,B=0;B<L;B++)h.call(void 0,_[B],f&&f[B],l)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v0(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var _=l[f].indexOf("="),L=null;if(0<=_){var B=l[f].substring(0,_);L=l[f].substring(_+1)}else B=l[f];h(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ur){this.h=l.h,Vi(this,l.j),this.o=l.o,this.g=l.g,Hi(this,l.s),this.l=l.l;var h=l.i,f=new xs;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),nh(this,f),this.m=l.m}else l&&(h=String(l).match(rh))?(this.h=!1,Vi(this,h[1]||"",!0),this.o=ws(h[2]||""),this.g=ws(h[3]||"",!0),Hi(this,h[4]),this.l=ws(h[5]||"",!0),nh(this,h[6]||"",!0),this.m=ws(h[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}Ur.prototype.toString=function(){var l=[],h=this.j;h&&l.push(bs(h,sh,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(bs(h,sh,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(bs(f,f.charAt(0)=="/"?x0:b0,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",bs(f,k0)),l.join("")};function Wt(l){return new Ur(l)}function Vi(l,h,f){l.j=f?ws(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Hi(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function nh(l,h,f){h instanceof xs?(l.i=h,_0(l.i,l.h)):(f||(h=bs(h,S0)),l.i=new xs(h,l.h))}function he(l,h,f){l.i.set(h,f)}function qi(l){return he(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ws(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function bs(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,w0),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function w0(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var sh=/[#\/\?@]/g,b0=/[#\?:]/g,x0=/[#\?]/g,S0=/[#\?@]/g,k0=/#/g;function xs(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ur(l){l.g||(l.g=new Map,l.h=0,l.i&&v0(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=xs.prototype,t.add=function(l,h){ur(this),this.i=null,l=mn(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function ih(l,h){ur(l),h=mn(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function oh(l,h){return ur(l),h=mn(l,h),l.g.has(h)}t.forEach=function(l,h){ur(this),this.g.forEach(function(f,_){f.forEach(function(L){l.call(h,L,_,this)},this)},this)},t.na=function(){ur(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let _=0;_<h.length;_++){const L=l[_];for(let B=0;B<L.length;B++)f.push(h[_])}return f},t.V=function(l){ur(this);let h=[];if(typeof l=="string")oh(this,l)&&(h=h.concat(this.g.get(mn(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},t.set=function(l,h){return ur(this),this.i=null,l=mn(this,l),oh(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ah(l,h,f){ih(l,h),0<f.length&&(l.i=null,l.g.set(mn(l,h),N(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var _=h[f];const B=encodeURIComponent(String(_)),V=this.V(_);for(_=0;_<V.length;_++){var L=B;V[_]!==""&&(L+="="+encodeURIComponent(String(V[_]))),l.push(L)}}return this.i=l.join("&")};function mn(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function _0(l,h){h&&!l.j&&(ur(l),l.i=null,l.g.forEach(function(f,_){var L=_.toLowerCase();_!=L&&(ih(this,_),ah(this,L,f))},l)),l.j=h}function j0(l,h){const f=new ys;if(c.Image){const _=new Image;_.onload=v(dr,f,"TestLoadImage: loaded",!0,h,_),_.onerror=v(dr,f,"TestLoadImage: error",!1,h,_),_.onabort=v(dr,f,"TestLoadImage: abort",!1,h,_),_.ontimeout=v(dr,f,"TestLoadImage: timeout",!1,h,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function E0(l,h){const f=new ys,_=new AbortController,L=setTimeout(()=>{_.abort(),dr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(B=>{clearTimeout(L),B.ok?dr(f,"TestPingServer: ok",!0,h):dr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),dr(f,"TestPingServer: error",!1,h)})}function dr(l,h,f,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(f)}catch{}}function C0(){this.g=new a0}function N0(l,h,f){const _=f||"";try{th(l,function(L,B){let V=L;d(L)&&(V=Za(L)),h.push(_+B+"="+encodeURIComponent(V))})}catch(L){throw h.push(_+"type="+encodeURIComponent("_badmap")),L}}function Wi(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Wi,el),Wi.prototype.g=function(){return new Gi(this.l,this.j)},Wi.prototype.i=function(l){return function(){return l}}({});function Gi(l,h){Ue.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Gi,Ue),t=Gi.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ks(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ss(this):ks(this),this.readyState==3&&lh(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ss(this))},t.Qa=function(l){this.g&&(this.response=l,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ks(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function ks(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ch(l){let h="";return O(l,function(f,_){h+=_,h+=":",h+=f,h+=`\r
`}),h}function hl(l,h,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=ch(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):he(l,h,f))}function ke(l){Ue.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ke,Ue);var T0=/^https?$/i,A0=["POST","PUT"];t=ke.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():il.g(),this.v=this.o?Ud(this.o):Ud(il),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(B){uh(this,B);return}if(l=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)f.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const B of _.keys())f.set(B,_.get(B));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(B=>B.toLowerCase()=="content-type"),L=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(A0,h,void 0))||_||L||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,V]of f)this.g.setRequestHeader(B,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ph(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){uh(this,B)}};function uh(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,dh(l),Ki(l)}function dh(l){l.A||(l.A=!0,Ke(l,"complete"),Ke(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ke(this,"complete"),Ke(this,"abort"),Ki(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hh(this):this.bb())},t.bb=function(){hh(this)};function hh(l){if(l.h&&typeof a<"u"&&(!l.v[1]||Gt(l)!=4||l.Z()!=2)){if(l.u&&Gt(l)==4)Ld(l.Ea,0,l);else if(Ke(l,"readystatechange"),Gt(l)==4){l.h=!1;try{const V=l.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var _;if(_=V===0){var L=String(l.D).match(rh)[1]||null;!L&&c.self&&c.self.location&&(L=c.self.location.protocol.slice(0,-1)),_=!T0.test(L?L.toLowerCase():"")}f=_}if(f)Ke(l,"complete"),Ke(l,"success");else{l.m=6;try{var B=2<Gt(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",dh(l)}}finally{Ki(l)}}}}function Ki(l,h){if(l.g){ph(l);const f=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ke(l,"ready");try{f.onreadystatechange=_}catch{}}}function ph(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Gt(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),o0(h)}};function mh(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function P0(l){const h={};l=(l.g&&2<=Gt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(k(l[_]))continue;var f=A(l[_]);const L=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const B=h[L]||[];h[L]=B,B.push(f)}j(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function fh(l){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,l),this.cb=_s("retryDelaySeedMs",1e4,l),this.Wa=_s("forwardChannelMaxRetries",2,l),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Jd(l&&l.concurrentRequestLimit),this.Da=new C0,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fh.prototype,t.la=8,t.G=1,t.connect=function(l,h,f,_){Ye(0),this.W=l,this.H=h||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=_h(this,null,this.W),Ji(this)};function pl(l){if(gh(l),l.G==3){var h=l.U++,f=Wt(l.I);if(he(f,"SID",l.K),he(f,"RID",h),he(f,"TYPE","terminate"),js(l,f),h=new cr(l,l.j,h),h.L=2,h.v=qi(Wt(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=h.v,f=!0),f||(h.g=jh(h.j,null),h.g.ea(h.v)),h.F=Date.now(),zi(h)}kh(l)}function Yi(l){l.g&&(fl(l),l.g.cancel(),l.g=null)}function gh(l){Yi(l),l.u&&(c.clearTimeout(l.u),l.u=null),Qi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function Ji(l){if(!Qd(l.h)&&!l.s){l.s=!0;var h=l.Ga;F||$(),U||(F(),U=!0),M.add(h,l),l.B=0}}function I0(l,h){return Xd(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gs(y(l.Ga,l,h),Sh(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new cr(this,this.j,l);let B=this.o;if(this.S&&(B?(B=g(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=vh(this,L,h),f=Wt(this.I),he(f,"RID",l),he(f,"CVER",22),this.D&&he(f,"X-HTTP-Session-Id",this.D),js(this,f),B&&(this.O?h="headers="+encodeURIComponent(String(ch(B)))+"&"+h:this.m&&hl(f,this.m,B)),dl(this.h,L),this.Ua&&he(f,"TYPE","init"),this.P?(he(f,"$req",h),he(f,"SID","null"),L.T=!0,al(L,f,null)):al(L,f,h),this.G=2}}else this.G==3&&(l?yh(this,l):this.i.length==0||Qd(this.h)||yh(this))};function yh(l,h){var f;h?f=h.l:f=l.U++;const _=Wt(l.I);he(_,"SID",l.K),he(_,"RID",f),he(_,"AID",l.T),js(l,_),l.m&&l.o&&hl(_,l.m,l.o),f=new cr(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=vh(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),dl(l.h,f),al(f,_,h)}function js(l,h){l.H&&O(l.H,function(f,_){he(h,_,f)}),l.l&&th({},function(f,_){he(h,_,f)})}function vh(l,h,f){f=Math.min(l.i.length,f);var _=l.l?y(l.l.Na,l.l,l):null;e:{var L=l.i;let B=-1;for(;;){const V=["count="+f];B==-1?0<f?(B=L[0].g,V.push("ofs="+B)):B=0:V.push("ofs="+B);let le=!0;for(let De=0;De<f;De++){let ie=L[De].g;const $e=L[De].map;if(ie-=B,0>ie)B=Math.max(0,L[De].g-100),le=!1;else try{N0($e,V,"req"+ie+"_")}catch{_&&_($e)}}if(le){_=V.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,_}function wh(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;F||$(),U||(F(),U=!0),M.add(h,l),l.v=0}}function ml(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gs(y(l.Fa,l),Sh(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gs(y(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Yi(this),bh(this))};function fl(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function bh(l){l.g=new cr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Wt(l.qa);he(h,"RID","rpc"),he(h,"SID",l.K),he(h,"AID",l.T),he(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&he(h,"TO",l.ja),he(h,"TYPE","xmlhttp"),js(l,h),l.m&&l.o&&hl(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=qi(Wt(h)),f.m=null,f.P=!0,Gd(f,l)}t.Za=function(){this.C!=null&&(this.C=null,Yi(this),ml(this),Ye(19))};function Qi(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function xh(l,h){var f=null;if(l.g==h){Qi(l),fl(l),l.g=null;var _=2}else if(ul(l.h,h))f=h.D,Zd(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;_=nl(),Ke(_,new Hd(_,f)),Ji(l)}else wh(l);else if(L=h.s,L==3||L==0&&0<h.X||!(_==1&&I0(l,h)||_==2&&ml(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),L){case 1:$r(l,5);break;case 4:$r(l,10);break;case 3:$r(l,6);break;default:$r(l,2)}}}function Sh(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function $r(l,h){if(l.j.info("Error code "+h),h==2){var f=y(l.fb,l),_=l.Xa;const L=!_;_=new Ur(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vi(_,"https"),qi(_),L?j0(_.toString(),f):E0(_.toString(),f)}else Ye(2);l.G=0,l.l&&l.l.sa(h),kh(l),gh(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function kh(l){if(l.G=0,l.ka=[],l.l){const h=eh(l.h);(h.length!=0||l.i.length!=0)&&(E(l.ka,h),E(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function _h(l,h,f){var _=f instanceof Ur?Wt(f):new Ur(f);if(_.g!="")h&&(_.g=h+"."+_.g),Hi(_,_.s);else{var L=c.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var B=new Ur(null);_&&Vi(B,_),h&&(B.g=h),L&&Hi(B,L),f&&(B.l=f),_=B}return f=l.D,h=l.ya,f&&h&&he(_,f,h),he(_,"VER",l.la),js(l,_),_}function jh(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ke(new Wi({eb:f})):new ke(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eh(){}t=Eh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vt(l,h){Ue.call(this),this.g=new fh(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!k(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!k(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new fn(this)}b(vt,Ue),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){pl(this.g)},vt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Za(l),l=f);h.i.push(new f0(h.Ya++,l)),h.G==3&&Ji(h)},vt.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,vt.aa.N.call(this)};function Ch(l){tl.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}b(Ch,tl);function Nh(){rl.call(this),this.status=1}b(Nh,rl);function fn(l){this.g=l}b(fn,Eh),fn.prototype.ua=function(){Ke(this.g,"a")},fn.prototype.ta=function(l){Ke(this.g,new Ch(l))},fn.prototype.sa=function(l){Ke(this.g,new Nh)},fn.prototype.ra=function(){Ke(this.g,"b")},vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,p0.COMPLETE="complete",l0.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha}).apply(typeof vo<"u"?vo:typeof self<"u"?self:typeof window<"u"?window:{});const tm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new My("@firebase/firestore");function Ot(t,...e){if(es.logLevel<=ae.DEBUG){const r=e.map(bd);es.debug(`Firestore (${Di}): ${t}`,...r)}}function Hy(t,...e){if(es.logLevel<=ae.ERROR){const r=e.map(bd);es.error(`Firestore (${Di}): ${t}`,...r)}}function o_(t,...e){if(es.logLevel<=ae.WARN){const r=e.map(bd);es.warn(`Firestore (${Di}): ${t}`,...r)}}function bd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t="Unexpected state"){const e=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+t;throw Hy(e),new Error(e)}function Ys(t,e){t||xd()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class st extends ls{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qe.UNAUTHENTICATED))}shutdown(){}}class l_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class c_{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ys(this.o===void 0);let n=this.i;const s=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let i=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Js,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Js)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ys(typeof n.accessToken=="string"),new qy(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ys(e===null||typeof e=="string"),new Qe(e)}}class u_{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class d_{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new u_(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p_{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ys(this.o===void 0);const n=i=>{i.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,Ot("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ys(typeof r.token=="string"),this.R=r.token,new h_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m_(t){return t.name==="IndexedDbTransactionError"}class va{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm,ne;(ne=rm||(rm={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Vy([4294967295,4294967295],0);function Yl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&Ot("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const a=Date.now()+n,c=new Sd(e,r,a,s,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var nm,sm;(sm=nm||(nm={})).ea="default",sm.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map;function y_(t,e,r,n){if(e===!0&&n===!0)throw new st(nt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function v_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xd()}function w_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=v_(t);throw new st(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new st(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new st(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g_((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new st(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new st(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new st(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wy{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new a_;switch(n.type){case"firstParty":return new d_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=im.get(r);n&&(Ot("ComponentProvider","Removing Datastore"),im.delete(r),n.terminate())}(this),Promise.resolve()}}function b_(t,e,r,n={}){var s;const i=(t=w_(t,Wy))._getSettings(),a=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&o_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),n.mockUserToken){let c,u;if(typeof n.mockUserToken=="string")c=n.mockUserToken,u=Qe.MOCK_USER;else{c=zS(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new st(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(d)}t._authCredentials=new l_(new qy(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new f_(this,"async_queue_retry"),this.Vu=()=>{const n=Yl();n&&Ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Yl();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Yl();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Js;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!m_(e))throw e;Ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(n);throw Hy("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=Sd.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&xd()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class x_ extends Wy{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new am,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new am(e),this._firestoreClient=void 0,await e}}}function S_(t,e){const r=typeof t=="object"?t:Kk(),n=typeof t=="string"?t:"(default)",s=Hk(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=US("firestore");i&&b_(s,...i)}return s}(function(e,r=!0){(function(s){Di=s})(Gk),ya(new vi("firestore",(n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),c=new x_(new c_(n.getProvider("auth-internal")),new p_(n.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new st(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(d.options.projectId,m)}(a,s),a);return i=Object.assign({useFetchStreams:r},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),qn(tm,"4.7.3",e),qn(tm,"4.7.3","esm2017")})();var au=function(t,e){return au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},au(t,e)};function Gy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");au(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wa=function(){return wa=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wa.apply(this,arguments)};function cs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ky(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Yy(t,e){return function(r,n){e(r,n,t)}}function Jy(t,e,r,n,s,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var c=n.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,m=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,y=!1,v=r.length-1;v>=0;v--){var b={};for(var N in n)b[N]=N==="access"?{}:n[N];for(var N in n.access)b.access[N]=n.access[N];b.addInitializer=function(w){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var E=(0,r[v])(c==="accessor"?{get:m.get,set:m.set}:m[u],b);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=a(E.get))&&(m.get=p),(p=a(E.set))&&(m.set=p),(p=a(E.init))&&s.unshift(p)}else(p=a(E))&&(c==="field"?s.unshift(p):m[u]=p)}d&&Object.defineProperty(d,n.name,m),y=!0}function Qy(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Xy(t){return typeof t=="symbol"?t:"".concat(t)}function Zy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ev(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function G(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(m){try{d(n.next(m))}catch(p){a(p)}}function u(m){try{d(n.throw(m))}catch(p){a(p)}}function d(m){m.done?i(m.value):s(m.value).then(c,u)}d((n=n.apply(t,e||[])).next())})}function tv(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(m){return u([d,m])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(m){d=[6,m],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Va=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function rv(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Va(e,t,r)}function ba(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function nv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kd(arguments[e]));return t}function sv(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,s++)n[s]=i[a];return n}function iv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function ts(t){return this instanceof ts?(this.v=t,this):new ts(t)}function ov(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(v){return function(b){return Promise.resolve(b).then(v,p)}}function c(v,b){n[v]&&(s[v]=function(N){return new Promise(function(E,w){i.push([v,N,E,w])>1||u(v,N)})},b&&(s[v]=b(s[v])))}function u(v,b){try{d(n[v](b))}catch(N){y(i[0][3],N)}}function d(v){v.value instanceof ts?Promise.resolve(v.value.v).then(m,p):y(i[0][2],v)}function m(v){u("next",v)}function p(v){u("throw",v)}function y(v,b){v(b),i.shift(),i.length&&u(i[0][0],i[0][1])}}function av(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:ts(t[s](a)),done:!1}:i?i(a):a}:i}}function lv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ba=="function"?ba(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(c,u){a=t[i](a),s(c,u,a.done,a.value)})}}function s(i,a,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},a)}}function cv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var k_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},lu=function(t){return lu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},lu(t)};function uv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=lu(t),n=0;n<r.length;n++)r[n]!=="default"&&Va(e,t,r[n]);return k_(e,t),e}function dv(t){return t&&t.__esModule?t:{default:t}}function hv(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function pv(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function mv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function fv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var __=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function gv(t){function e(i){t.error=t.hasError?new __(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function yv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const j_={__extends:Gy,__assign:wa,__rest:cs,__decorate:Ky,__param:Yy,__esDecorate:Jy,__runInitializers:Qy,__propKey:Xy,__setFunctionName:Zy,__metadata:ev,__awaiter:G,__generator:tv,__createBinding:Va,__exportStar:rv,__values:ba,__read:kd,__spread:nv,__spreadArrays:sv,__spreadArray:iv,__await:ts,__asyncGenerator:ov,__asyncDelegator:av,__asyncValues:lv,__makeTemplateObject:cv,__importStar:uv,__importDefault:dv,__classPrivateFieldGet:hv,__classPrivateFieldSet:pv,__classPrivateFieldIn:mv,__addDisposableResource:fv,__disposeResources:gv,__rewriteRelativeImportExtension:yv},E_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fv,get __assign(){return wa},__asyncDelegator:av,__asyncGenerator:ov,__asyncValues:lv,__await:ts,__awaiter:G,__classPrivateFieldGet:hv,__classPrivateFieldIn:mv,__classPrivateFieldSet:pv,__createBinding:Va,__decorate:Ky,__disposeResources:gv,__esDecorate:Jy,__exportStar:rv,__extends:Gy,__generator:tv,__importDefault:dv,__importStar:uv,__makeTemplateObject:cv,__metadata:ev,__param:Yy,__propKey:Xy,__read:kd,__rest:cs,__rewriteRelativeImportExtension:yv,__runInitializers:Qy,__setFunctionName:Zy,__spread:nv,__spreadArray:iv,__spreadArrays:sv,__values:ba,default:j_},Symbol.toStringTag,{value:"Module"})),C_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class _d extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class N_ extends _d{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lm extends _d{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cm extends _d{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cu||(cu={}));class T_{constructor(e,{headers:r={},customFetch:n,region:s=cu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=C_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return G(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:c,method:u,body:d,signal:m,timeout:p}=n;let y={},{region:v}=n;v||(v=this.region);const b=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let N;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",N=d):typeof d=="string"?(y["Content-Type"]="text/plain",N=d):typeof FormData<"u"&&d instanceof FormData?N=d:(y["Content-Type"]="application/json",N=JSON.stringify(d)):N=d;let E=m;p&&(a=new AbortController,i=setTimeout(()=>a.abort(),p),m?(E=a.signal,m.addEventListener("abort",()=>a.abort())):E=a.signal);const w=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:N,signal:E}).catch(I=>{throw new N_(I)}),k=w.headers.get("x-relay-error");if(k&&k==="true")throw new lm(w);if(!w.ok)throw new cm(w);let S=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return S==="application/json"?P=yield w.json():S==="application/octet-stream"||S==="application/pdf"?P=yield w.blob():S==="text/event-stream"?P=w:S==="multipart/form-data"?P=yield w.formData():P=yield w.text(),{data:P,error:null,response:w}}catch(c){return{data:null,error:c,response:c instanceof cm||c instanceof lm?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var Xe={};const us=D0(E_);var wo={},bo={},xo={},So={},ko={},_o={},um;function vv(){if(um)return _o;um=1,Object.defineProperty(_o,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _o.default=t,_o}var dm;function wv(){if(dm)return ko;dm=1,Object.defineProperty(ko,"__esModule",{value:!0});const e=us.__importDefault(vv());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,m,p,y;let v=null,b=null,N=null,E=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const I=await u.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=I:b=JSON.parse(I))}const S=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&P&&P.length>1&&(N=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,N=null,E=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await u.text();try{v=JSON.parse(S),Array.isArray(v)&&u.status===404&&(b=[],v=null,E=200,w="OK")}catch{u.status===404&&S===""?(E=204,w="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((y=v==null?void 0:v.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,E=200,w="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:b,count:N,status:E,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,m,p,y,v,b;let N="";const E=u==null?void 0:u.cause;if(E){const w=(d=E==null?void 0:E.message)!==null&&d!==void 0?d:"",k=(m=E==null?void 0:E.code)!==null&&m!==void 0?m:"";N=`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,N+=`

Caused by: ${(y=E==null?void 0:E.name)!==null&&y!==void 0?y:"Error"}: ${w}`,k&&(N+=` (${k})`),E!=null&&E.stack&&(N+=`
${E.stack}`)}else N=(v=u==null?void 0:u.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(b=u==null?void 0:u.name)!==null&&b!==void 0?b:"FetchError"}: ${u==null?void 0:u.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return ko.default=r,ko}var hm;function bv(){if(hm)return So;hm=1,Object.defineProperty(So,"__esModule",{value:!0});const e=us.__importDefault(wv());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var m;const p=[s?"analyze":null,i?"verbose":null,a?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return So.default=r,So}var pm;function jd(){if(pm)return xo;pm=1,Object.defineProperty(xo,"__esModule",{value:!0});const e=us.__importDefault(bv()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${m}.${a}`),this}match(i){return Object.entries(i).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(i,a,c){return this.url.searchParams.append(i,`not.${a}.${c}`),this}or(i,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,c){return this.url.searchParams.append(i,`${a}.${c}`),this}}return xo.default=n,xo}var mm;function xv(){if(mm)return bo;mm=1,Object.defineProperty(bo,"__esModule",{value:!0});const e=us.__importDefault(jd());class r{constructor(s,{headers:i={},schema:a,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=c}select(s,i){const{head:a=!1,count:c}=i??{},u=a?"HEAD":"GET";let d=!1;const m=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var c;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:c,defaultToNull:u=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var a;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return bo.default=r,bo}var fm;function A_(){if(fm)return wo;fm=1,Object.defineProperty(wo,"__esModule",{value:!0});const t=us,e=t.__importDefault(xv()),r=t.__importDefault(jd());class n{constructor(i,{headers:a={},schema:c,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=c,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:c=!1,get:u=!1,count:d}={}){var m;let p;const y=new URL(`${this.url}/rpc/${i}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(a).filter(([N,E])=>E!==void 0).map(([N,E])=>[N,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([N,E])=>{y.searchParams.append(N,E)})):(p="POST",v=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:p,url:y,headers:b,schema:this.schemaName,body:v,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return wo.default=n,wo}Object.defineProperty(Xe,"__esModule",{value:!0});var Sv=Xe.PostgrestError=Iv=Xe.PostgrestBuilder=Av=Xe.PostgrestTransformBuilder=Nv=Xe.PostgrestFilterBuilder=Ev=Xe.PostgrestQueryBuilder=_v=Xe.PostgrestClient=void 0;const ds=us,kv=ds.__importDefault(A_());var _v=Xe.PostgrestClient=kv.default;const jv=ds.__importDefault(xv());var Ev=Xe.PostgrestQueryBuilder=jv.default;const Cv=ds.__importDefault(jd());var Nv=Xe.PostgrestFilterBuilder=Cv.default;const Tv=ds.__importDefault(bv());var Av=Xe.PostgrestTransformBuilder=Tv.default;const Pv=ds.__importDefault(wv());var Iv=Xe.PostgrestBuilder=Pv.default;const Rv=ds.__importDefault(vv());Sv=Xe.PostgrestError=Rv.default;var Ov=Xe.default={PostgrestClient:kv.default,PostgrestQueryBuilder:jv.default,PostgrestFilterBuilder:Cv.default,PostgrestTransformBuilder:Tv.default,PostgrestBuilder:Pv.default,PostgrestError:Rv.default};const P_=R0({__proto__:null,get PostgrestBuilder(){return Iv},get PostgrestClient(){return _v},get PostgrestError(){return Sv},get PostgrestFilterBuilder(){return Nv},get PostgrestQueryBuilder(){return Ev},get PostgrestTransformBuilder(){return Av},default:Ov},[Xe]),{PostgrestClient:I_,PostgrestQueryBuilder:iN,PostgrestFilterBuilder:oN,PostgrestTransformBuilder:aN,PostgrestBuilder:lN,PostgrestError:cN}=Ov||P_;class R_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const O_="2.86.0",D_=`realtime-js/${O_}`,Dv="1.0.0",L_="2.0.0",gm=Dv,uu=1e4,M_=1e3,B_=100;var Kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kr||(Kr={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var It;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(It||(It={}));var du;(function(t){t.websocket="websocket"})(du||(du={}));var Yr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yr||(Yr={}));class F_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",u=(i=e.join_ref)!==null&&i!==void 0?i:"",d=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+a.length+d.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let b=new DataView(v),N=0;b.setUint8(N++,this.KINDS.userBroadcastPush),b.setUint8(N++,u.length),b.setUint8(N++,c.length),b.setUint8(N++,a.length),b.setUint8(N++,d.length),b.setUint8(N++,p.length),b.setUint8(N++,r),Array.from(u,w=>b.setUint8(N++,w.charCodeAt(0))),Array.from(c,w=>b.setUint8(N++,w.charCodeAt(0))),Array.from(a,w=>b.setUint8(N++,w.charCodeAt(0))),Array.from(d,w=>b.setUint8(N++,w.charCodeAt(0))),Array.from(p,w=>b.setUint8(N++,w.charCodeAt(0)));var E=new Uint8Array(v.byteLength+n.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(n),v.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,c,u]=n;return r({join_ref:s,ref:i,topic:a,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const d=n.decode(e.slice(u,u+s));u=u+s;const m=n.decode(e.slice(u,u+i));u=u+i;const p=n.decode(e.slice(u,u+a));u=u+a;const y=e.slice(u,e.byteLength),v=c===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,b={type:this.BROADCAST_EVENT,event:m,payload:v};return a>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Lv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const ym=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=U_(a,t,e,s),i),{}):{}},U_=(t,e,r,n)=>{const s=e.find(c=>c.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Mv(i,a):hu(a)},Mv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return H_(e,r)}switch(t){case ce.bool:return $_(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return z_(e);case ce.json:case ce.jsonb:return V_(e);case ce.timestamp:return q_(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return hu(e);default:return hu(e)}},hu=t=>t,$_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},z_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},V_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},H_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>Mv(e,c))}return t},q_=t=>typeof t=="string"?t.replace(" ","T"):t,Bv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jl{constructor(e,r,n={},s=uu){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vm||(vm={}));class Qs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Qs.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qs.syncDiff(this.state,s,i,a),c())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),c={},u={};return this.map(i,(d,m)=>{a[d]||(u[d]=m)}),this.map(a,(d,m)=>{const p=i[d];if(p){const y=m.map(E=>E.presence_ref),v=p.map(E=>E.presence_ref),b=m.filter(E=>v.indexOf(E.presence_ref)<0),N=p.filter(E=>y.indexOf(E.presence_ref)<0);b.length>0&&(c[d]=b),N.length>0&&(u[d]=N)}else c[d]=m}),this.syncDiff(i,{joins:c,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var d;const m=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(u),m.length>0){const p=e[c].map(v=>v.presence_ref),y=m.filter(v=>p.indexOf(v.presence_ref)<0);e[c].unshift(...y)}n(c,m,u)}),this.map(a,(c,u)=>{let d=e[c];if(!d)return;const m=u.map(p=>p.presence_ref);d=d.filter(p=>m.indexOf(p.presence_ref)<0),e[c]=d,s(c,d,u),d.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wm||(wm={}));var Xs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xs||(Xs={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Ed{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,It.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Qs(this),this.broadcastEndpointURL=Bv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Xs.PRESENCE]&&this.bindings[Xs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},y={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,E=(b=N==null?void 0:N.length)!==null&&b!==void 0?b:0,w=[];for(let k=0;k<E;k++){const S=N[k],{filter:{event:P,schema:I,table:O,filter:j}}=S,g=v&&v[k];if(g&&g.event===P&&g.schema===I&&g.table===O&&g.filter===j)w.push(Object.assign(Object.assign({},S),{id:g.id}));else{this.unsubscribe(),this.state=Ne.errored,e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ne.errored,e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ne.joined&&e===Xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jl(this,It.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jl(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>B_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:c,error:u,leave:d,join:m}=It;if(n&&[c,u,d,m].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,N,E;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(N=v.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(v=>v.callback(y,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var b,N,E,w,k,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const P=v.id,I=(b=v.filter)===null||b===void 0?void 0:b.event;return P&&((N=r.ids)===null||N===void 0?void 0:N.includes(P))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(k=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:N,table:E,commit_timestamp:w,type:k,errors:S}=b;y=Object.assign(Object.assign({},{schema:N,table:E,commit_timestamp:w,eventType:k,new:{},old:{},errors:S}),this._getPayloadRecords(b))}v.callback(y,n)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ed.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(It.close,{},e)}_onError(e){this._on(It.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ym(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ym(e.columns,e.old_record)),r}}const Ql=()=>{},jo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W_=[1e3,2e3,5e3,1e4],G_=1e4,K_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uu,this.transport=null,this.heartbeatIntervalMs=jo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ql,this.ref=0,this.reconnectTimer=null,this.vsn=gm,this.logger=Ql,this.conn=null,this.sendBuffer=[],this.serializer=new F_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${du.websocket}`,this.httpEndpoint=Bv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return Yr.Connecting;case Kr.open:return Yr.Open;case Kr.closing:return Yr.Closing;default:return Yr.Closed}}isConnected(){return this.connectionState()===Yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ed(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(M_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},jo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,c=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kr.open||this.conn.readyState===Kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(It.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([K_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:D_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(It.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Lv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,c,u,d,m,p,y,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:uu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:jo.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Ql,this.vsn=(u=e==null?void 0:e.vsn)!==null&&u!==void 0?u:gm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:b=>W_[b-1]||G_,this.vsn){case Dv:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:(b,N)=>N(JSON.stringify(b)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(b,N)=>N(JSON.parse(b));break;case L_:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ha extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class J_ extends Ha{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pu extends Ha{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Cd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q_=()=>Response,mu=t=>{if(Array.isArray(t))return t.map(r=>mu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=mu(n)}),e},X_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Z_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Xl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ej=(t,e,r)=>G(void 0,void 0,void 0,function*(){const n=yield Q_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new J_(Xl(s),i,a))}).catch(s=>{e(new pu(Xl(s),s))}):e(new pu(Xl(t),t))}),tj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(X_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Li(t,e,r,n,s,i){return G(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(r,tj(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>ej(u,c,n))})})}function bi(t,e,r,n){return G(this,void 0,void 0,function*(){return Li(t,"GET",e,r,n)})}function At(t,e,r,n,s){return G(this,void 0,void 0,function*(){return Li(t,"POST",e,n,s,r)})}function fu(t,e,r,n,s){return G(this,void 0,void 0,function*(){return Li(t,"PUT",e,n,s,r)})}function rj(t,e,r,n){return G(this,void 0,void 0,function*(){return Li(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nd(t,e,r,n,s){return G(this,void 0,void 0,function*(){return Li(t,"DELETE",e,n,s,r)})}class nj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return G(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var Fv;class sj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Fv]="BlobDownloadBuilder",this.promise=null}asStream(){return new nj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return G(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}Fv=Symbol.toStringTag;const ij={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oj{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return G(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},bm),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(r),m=this._getFinalPath(d),p=yield(e=="PUT"?fu:At)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return G(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:bm.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType);const p=yield fu(this.fetch,c.toString(),u,{headers:m});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),c=a.searchParams.get("token");if(!c)throw new Ha("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return G(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}copy(e,r,n){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return G(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return G(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",c=this._getFinalPath(e),u=()=>bi(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new sj(u,this.shouldThrowOnError)}info(e){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}exists(e){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n)&&n instanceof pu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(e){return G(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return G(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ij),r),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}listV2(e,r){return G(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Uv="2.86.0",$v={"X-Client-Info":`storage-js/${Uv}`};class aj{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$v),r),this.fetch=Cd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return G(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield bi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}getBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e){return G(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return G(this,void 0,void 0,function*(){try{return{data:yield fu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var xi=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lj(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function cj(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function uj(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const c=lj(t.baseUrl,n,s),u=await cj(t.auth),d=await e(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),m=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),y=p&&m?JSON.parse(m):m;if(!d.ok){const v=p?y:void 0,b=v==null?void 0:v.error;throw new xi((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:v})}return{status:d.status,headers:d.headers,data:y}}}}function Eo(t){return t.join("")}var dj=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Eo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(t.namespace)}`}),!0}catch(e){if(e instanceof xi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof xi&&r.status===409)return;throw r}}};function vn(t){return t.join("")}var hj=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof xi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof xi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},pj=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=uj({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new dj(this.client,e),this.tableOps=new hj(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class mj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$v),r),this.fetch=Cd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return G(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield bi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}from(e){if(!Z_(e))throw new Ha("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new pj({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>G(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Td={"X-Client-Info":`storage-js/${Uv}`,"Content-Type":"application/json"};class zv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Zl extends zv{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fj extends zv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var xm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xm||(xm={}));const Ad=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yj=(t,e,r)=>G(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Zl(Sm(a),s,c))}).catch(()=>{const a=s+"",c=i.statusText||`HTTP ${s} error`;e(new Zl(c,s,a))});else{const a=s+"",c=i.statusText||`HTTP ${s} error`;e(new Zl(c,s,a))}}else e(new fj(Sm(t),t))}),vj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(gj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function wj(t,e,r,n,s,i){return G(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(r,vj(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>yj(u,c,n))})})}function ht(t,e,r,n,s){return G(this,void 0,void 0,function*(){return wj(t,"POST",e,n,s,r)})}class bj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Td),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return G(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return G(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}listIndexes(e){return G(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return G(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}class xj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Td),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return G(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ht(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}getVectors(e){return G(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listVectors(e){return G(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ht(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}queryVectors(e){return G(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return G(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ht(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class Sj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Td),r),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return G(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}getBucket(e){return G(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(){return G(this,arguments,void 0,function*(e={}){try{return{data:yield ht(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return G(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class kj extends Sj{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new _j(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return G(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return G(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return G(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return G(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class _j extends bj{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return G(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return G(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return G(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return G(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new jj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class jj extends xj{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return G(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return G(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return G(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return G(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return G(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ej extends aj{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new oj(this.url,this.headers,e,this.fetch)}get vectors(){return new kj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mj(this.url+"/iceberg",this.headers,this.fetch)}}const Cj="2.86.0";let Fs="";typeof Deno<"u"?Fs="deno":typeof document<"u"?Fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fs="react-native":Fs="node";const Nj={"X-Client-Info":`supabase-js-${Fs}/${Cj}`},Tj={headers:Nj},Aj={schema:"public"},Pj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ij={},Rj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Oj=()=>Headers,Dj=(t,e,r)=>{const n=Rj(r),s=Oj();return async(i,a)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:d}))}};function Lj(t){return t.endsWith("/")?t:t+"/"}function Mj(t,e){var r,n;const{db:s,auth:i,realtime:a,global:c}=t,{db:u,auth:d,realtime:m,global:p}=e,y={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function Bj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vv="2.86.0",jn=30*1e3,gu=3,ec=gu*jn,Fj="http://localhost:9999",Uj="supabase.auth.token",$j={"X-Client-Info":`gotrue-js/${Vv}`},yu="X-Supabase-Api-Version",Hv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vj=10*60*1e3;class Si extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hj extends Si{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qj(t){return K(t)&&t.name==="AuthApiError"}class Jr extends Si{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Br extends Si{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ct extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wj(t){return K(t)&&t.name==="AuthSessionMissingError"}class wn extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Co extends Br{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class No extends Br{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gj(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class km extends Br{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends Br{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tc(t){return K(t)&&t.name==="AuthRetryableFetchError"}class _m extends Br{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wu extends Br{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),Kj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jm.length;e+=1)t[jm[e].charCodeAt(0)]=-2;for(let e=0;e<xa.length;e+=1)t[xa[e].charCodeAt(0)]=e;return t})();function Em(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(xa[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(xa[n]),e.queuedBits-=6}}function qv(t,e,r){const n=Kj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cm(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Qj(a,n,r)};for(let a=0;a<t.length;a+=1)qv(t.charCodeAt(a),s,i);return e.join("")}function Yj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Jj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Yj(n,e)}}function Qj(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)qv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Xj(t){const e=[];return Jj(t,r=>e.push(r)),new Uint8Array(e)}function en(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Em(s,r,n)),Em(null,r,n),e.join("")}function Zj(t){return Math.round(Date.now()/1e3)+t}function eE(){return Symbol("auth-callback")}const Le=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},Wv=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function tE(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Gv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",En=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pr=async(t,e)=>{await t.removeItem(e)};class qa{constructor(){this.promise=new qa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}qa.promiseConstructor=Promise;function rc(t){const e=t.split(".");if(e.length!==3)throw new wu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zj.test(e[n]))throw new wu("JWT not in base64url format");return{header:JSON.parse(Cm(e[0])),payload:JSON.parse(Cm(e[1])),signature:Wn(e[2]),raw:{header:e[0],payload:e[1]}}}async function nE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sE(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function iE(t){return("0"+t.toString(16)).substr(-2)}function oE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,iE).join("")}async function aE(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function lE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await aE(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(t,e,r=!1){const n=oE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await En(t,`${e}-code-verifier`,s);const i=await lE(n);return[i,n===i?"plain":"s256"]}const cE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uE(t){const e=t.headers.get(yu);if(!e||!e.match(cE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(t){if(!pE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mE(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Nm(t){return JSON.parse(JSON.stringify(t))}const Gr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fE=[502,503,504];async function Tm(t){var e;if(!rE(t))throw new vu(Gr(t),0);if(fE.includes(t.status))throw new vu(Gr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Jr(Gr(i),i)}let n;const s=uE(t);if(s&&s.getTime()>=Hv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _m(Gr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new _m(Gr(r),t.status,r.weak_password.reasons);throw new Hj(Gr(r),t.status||500,n)}const gE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[yu]||(i[yu]=Hv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await yE(t,e,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function yE(t,e,r,n,s,i){const a=gE(e,n,s,i);let c;try{c=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new vu(Gr(u),0)}if(c.ok||await Tm(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(u){await Tm(u)}}function Nt(t){var e;let r=null;bE(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Zj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Am(t){const e=Nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vE(t){return{data:t,error:null}}function wE(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=cs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:c,user:u},error:null}}function Pm(t){return t}function bE(t){return t.access_token&&t.refresh_token&&t.expires_in}const sc=["global","local","others"];class xE{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Gv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=sc[0]){if(sc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sc.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=cs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,c,u;try{const d={nextPage:null,lastPage:0,total:0},m=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Pm});if(m.error)throw m.error;const p=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);d[`${E}Page`]=N}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(K(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){xn(e);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xn(e);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){xn(e);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xn(e.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xn(e.userId),xn(e.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,c,u;try{const d={nextPage:null,lastPage:0,total:0},m=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Pm});if(m.error)throw m.error;const p=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);d[`${E}Page`]=N}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(K(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Im(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Sn={debug:!!(globalThis&&Wv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SE extends Kv{}async function kE(t,e,r){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new SE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _E(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jE(t){return parseInt(t,16)}function EE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function CE(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:c,requestId:u,resources:d,scheme:m,uri:p,version:y}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Yv(t.address),b=m?`${m}://${n}`:n,N=t.statement?`${t.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${v}

${N}`;let w=`URI: ${p}
Version: ${y}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),c&&(w+=`
Not Before: ${c.toISOString()}`),u&&(w+=`
Request ID: ${u}`),d){let k=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);k+=`
- ${S}`}w+=k}return`${E}
${w}`}class Ee extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sa extends Ee{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function NE({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Jv(a)){if(i.rp.id!==a)return new Ee({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function TE({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Jv(n)){if(r.rpId!==n)return new Ee({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class AE{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const PE=new AE;function IE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=cs(t,["challenge","user","excludeCredentials"]),i=Wn(e).buffer,a=Object.assign(Object.assign({},r),{id:Wn(r.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Wn(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function RE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=cs(t,["challenge","allowCredentials"]),s=Wn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Wn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function OE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:en(new Uint8Array(t.response.attestationObject)),clientDataJSON:en(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:en(new Uint8Array(s.authenticatorData)),clientDataJSON:en(new Uint8Array(s.clientDataJSON)),signature:en(new Uint8Array(s.signature)),userHandle:s.userHandle?en(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rm(){var t,e;return!!(Le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LE(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:NE({error:e,options:t})}}}async function ME(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:TE({error:e,options:t})}}}const BE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},FE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ka(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const c=n[i];e(c)?n[i]=ka(c,a):n[i]=ka(a)}else n[i]=a}return n}function UE(t,e){return ka(BE,t,e||{})}function $E(t,e){return ka(FE,t,e||{})}class zE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:c};const u=s??PE.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=UE(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:p}=await LE({publicKey:d,signal:u});return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const d=$E(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:p}=await ME(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Jr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Rm())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:c};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Jr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Rm())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return K(a)?{data:null,error:a}:{data:null,error:new Jr("Unexpected error in register",a)}}}}_E();const VE={url:Fj,storageKey:Uj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$j,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Om(t,e,r){return await r()}const kn={};class ki{get jwks(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},VE),e);if(this.storageKey=i.storageKey,this.instanceID=(r=ki.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ki.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Le()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gv(i.fetch),this.lock=i.lock||Om,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Le()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kE:this.lock=Om,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Im(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Im(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Le()&&(r=tE(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Le()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gj(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?this._returnResult({error:r}):this._returnResult({error:new Jr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nt}),{data:a,error:c}=i;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:m,password:p,options:y}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await bn(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:b},xform:Nt})}else if("phone"in e){const{phone:m,password:p,options:y}=e;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Nt})}else throw new Co("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:c}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Am})}else if("phone"in e){const{phone:i,password:a,options:c}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Am})}else throw new Co("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new wn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,c,u,d,m,p,y;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:N,wallet:E,statement:w,options:k}=e;let S;if(Le())if(typeof E=="object")S=E;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")S=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=E}const P=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),I=await S.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Yv(I[0]);let j=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const x=await S.request({method:"eth_chainId"});j=jE(x)}const g={domain:P.host,address:O,statement:w,uri:P.href,version:"1",chainId:j,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=CE(g),b=await S.request({method:"personal_sign",params:[EE(v),O]})}try{const{data:N,error:E}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nt});if(E)throw E;if(!N||!N.session||!N.user){const w=new wn;return this._returnResult({data:{user:null,session:null},error:w})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:E})}catch(N){if(K(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var r,n,s,i,a,c,u,d,m,p,y,v;let b,N;if("message"in e)b=e.message,N=e.signature;else{const{chain:E,wallet:w,statement:k,options:S}=e;let P;if(Le())if(typeof w=="object")P=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=w}const I=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),k?{statement:k}:null));let j;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")j=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)j=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),N=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${I.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(s=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(m=S==null?void 0:S.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=O}}try{const{data:E,error:w}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:en(N)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nt});if(w)throw w;if(!E||!E.session||!E.user){const k=new wn;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(K(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nt});if(await pr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const c=new wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,c=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nt}),{data:u,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const m=new wn;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:c,options:u}=e;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await bn(this.storage,this.storageKey));const{error:p}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:m},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:c,options:u}=e,{data:d,error:m}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new Co("You must provide either an email or phone number.")}catch(c){if(K(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await bn(this.storage,this.storageKey));const d=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:vE});return!((i=d.data)===null||i===void 0)&&i.url&&Le()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(K(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ct;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(K(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:c}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c})}throw new Co("You must provide either an email or phone number and a type")}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ec:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Vr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=nc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=mE(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ct}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wr})})}catch(r){if(K(r))return Wj(r)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ct;const a=s.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await bn(this.storage,this.storageKey));const{data:d,error:m}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:wr});if(m)throw m;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(K(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ct;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=rc(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(K(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:c}=r;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ct;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Le())throw new No("No browser detected.");if(e.error||e.error_description||e.error_code)throw new No(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new km("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new No("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new km("No code detected.");const{data:k,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:u,token_type:d}=e;if(!i||!c||!a||!d)throw new No("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;u&&(y=parseInt(u));const v=y-m;v*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=y-p;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,m);const{data:N,error:E}=await this._getUser(i);if(E)throw E;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:y,refresh_token:a,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(K(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(qj(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=eE(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await bn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,c,u,d,m;const{data:p,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Le()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(K(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:c,token:u,access_token:d,nonce:m}=e,p=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:d,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Nt}),{data:y,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new wn}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(s){if(K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sE(async s=>(s>0&&await nE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&tc(i)&&Date.now()+a-n<jn})}catch(n){if(this._debug(r,"error",n),K(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Le()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await En(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:nc()}else if(s&&!s.user&&!s.user){const a=await Vr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await pr(this.storage,this.storageKey+"-user"),await En(this.storage,this.storageKey,s)):s.user=nc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ec;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ec}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),tc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qa;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),K(i)){const a={data:null,error:i};return tc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await En(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Nm(s);await En(this.storage,this.storageKey,i)}else{const s=Nm(r);await En(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${gu} ticks`),s<=gu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await bn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OE(e.webauthn.credential_response):DE(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IE(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:RE(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=rc(n.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ct});const a=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ct});const a=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ct})})}catch(e){if(K(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ct})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Vj>s)return n;const{data:i,error:a}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:c,payload:u}}=rc(n);r!=null&&r.allowExpired||dE(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const m=hE(s.alg),p=await crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,a,Xj(`${c}.${u}`)))throw new wu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}}ki.nextInstanceID={};const HE=ki;class qE extends HE{constructor(e){super(e)}}class WE{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const c=Bj(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Aj,realtime:Ij,auth:Object.assign(Object.assign({},Pj),{storageKey:u}),global:Tj},m=Mj(n??{},d);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=Dj(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new I_(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Ej(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new T_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:c,lock:u,debug:d,throwOnError:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qE({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:c,lock:u,debug:d,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GE=(t,e,r)=>new WE(t,e,r);function KE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Dm;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Dm||(Dm={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lm;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Lm||(Lm={}));var Mm;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Mm||(Mm={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=["user","model","function","system"];var Fm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Fm||(Fm={}));var Um;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Um||(Um={}));var $m;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($m||($m={}));var zm;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(zm||(zm={}));var Zs;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Zs||(Zs={}));var Vm;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Vm||(Vm={}));var Hm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Hm||(Hm={}));var qm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qm||(qm={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class _n extends We{constructor(e,r){super(e),this.response=r}}class Qv extends We{constructor(e,r,n,s){super(e),this.status=r,this.statusText=n,this.errorDetails=s}}class Ir extends We{}class Xv extends We{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="https://generativelanguage.googleapis.com",JE="v1beta",QE="0.24.1",XE="genai-js";var cn;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cn||(cn={}));class ZE{constructor(e,r,n,s,i){this.model=e,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var e,r;const n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||JE;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||YE}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function eC(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${XE}/${QE}`),e.join(" ")}async function tC(t){var e;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",eC(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let n=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new Ir(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new Ir(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Ir(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function rC(t,e,r,n,s,i){const a=new ZE(t,e,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},oC(i)),{method:"POST",headers:await tC(a),body:s})}}async function Mi(t,e,r,n,s,i={},a=fetch){const{url:c,fetchOptions:u}=await rC(t,e,r,n,s,i);return nC(c,u,a)}async function nC(t,e,r=fetch){let n;try{n=await r(t,e)}catch(s){sC(s,t)}return n.ok||await iC(n,t),n}function sC(t,e){let r=t;throw r.name==="AbortError"?(r=new Xv(`Request aborted when fetching ${e.toString()}: ${t.message}`),r.stack=t.stack):t instanceof Qv||t instanceof Ir||(r=new We(`Error fetching from ${e.toString()}: ${t.message}`),r.stack=t.stack),r}async function iC(t,e){let r="",n;try{const s=await t.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new Qv(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,n)}function oC(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const r=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>r.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),e.signal=r.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Vo(t.candidates[0]))throw new _n(`${gr(t)}`,t);return aC(t)}else if(t.promptFeedback)throw new _n(`Text not available. ${gr(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vo(t.candidates[0]))throw new _n(`${gr(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Wm(t)[0]}else if(t.promptFeedback)throw new _n(`Function call not available. ${gr(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vo(t.candidates[0]))throw new _n(`${gr(t)}`,t);return Wm(t)}else if(t.promptFeedback)throw new _n(`Function call not available. ${gr(t)}`,t)},t}function aC(t){var e,r,n,s;const i=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Wm(t){var e,r,n,s;const i=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const lC=[Zs.RECITATION,Zs.SAFETY,Zs.LANGUAGE];function Vo(t){return!!t.finishReason&&lC.includes(t.finishReason)}function gr(t){var e,r,n;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((n=t.candidates)===null||n===void 0)&&n[0]){const i=t.candidates[0];Vo(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function _i(t){return this instanceof _i?(this.v=t,this):new _i(t)}function cC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(y){n[y]&&(s[y]=function(v){return new Promise(function(b,N){i.push([y,v,b,N])>1||c(y,v)})})}function c(y,v){try{u(n[y](v))}catch(b){p(i[0][3],b)}}function u(y){y.value instanceof _i?Promise.resolve(y.value.v).then(d,m):p(i[0][2],y)}function d(y){c("next",y)}function m(y){c("throw",y)}function p(y,v){y(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function uC(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=pC(e),[n,s]=r.tee();return{stream:hC(n),response:dC(s)}}async function dC(t){const e=[],r=t.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return Pd(mC(e));e.push(s)}}function hC(t){return cC(this,arguments,function*(){const r=t.getReader();for(;;){const{value:n,done:s}=yield _i(r.read());if(s)break;yield yield _i(Pd(n))}})}function pC(t){const e=t.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return e.read().then(({value:a,done:c})=>{if(c){if(s.trim()){n.error(new We("Failed to parse stream"));return}n.close();return}s+=a;let u=s.match(Gm),d;for(;u;){try{d=JSON.parse(u[1])}catch{n.error(new We(`Error parsing JSON response: "${u[1]}"`));return}n.enqueue(d),s=s.substring(u[0].length),u=s.match(Gm)}return i()}).catch(a=>{let c=a;throw c.stack=a.stack,c.name==="AbortError"?c=new Xv("Request aborted when reading from the stream"):c=new We("Error reading from the stream"),c})}}})}function mC(t){const e=t[t.length-1],r={promptFeedback:e==null?void 0:e.promptFeedback};for(const n of t){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const c of i.content.parts)c.text&&(a.text=c.text),c.functionCall&&(a.functionCall=c.functionCall),c.executableCode&&(a.executableCode=c.executableCode),c.codeExecutionResult&&(a.codeExecutionResult=c.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(t,e,r,n){const s=await Mi(e,cn.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),n);return uC(s)}async function e0(t,e,r,n){const i=await(await Mi(e,cn.GENERATE_CONTENT,t,!1,JSON.stringify(r),n)).json();return{response:Pd(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function ji(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const r of t)typeof r=="string"?e.push({text:r}):e.push(r);return fC(e)}function fC(t){const e={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of t)"functionResponse"in i?(r.parts.push(i),s=!0):(e.parts.push(i),n=!0);if(n&&s)throw new We("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new We("No content is provided for sending chat message.");return n?e:r}function gC(t,e){var r;let n={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(r=e==null?void 0:e.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new Ir("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=t.contents}else if(s)n=Object.assign(Object.assign({},n),t.generateContentRequest);else{const i=ji(t);n.contents=[i]}return{generateContentRequest:n}}function Km(t){let e;return t.contents?e=t:e={contents:[ji(t)]},t.systemInstruction&&(e.systemInstruction=t0(t.systemInstruction)),e}function yC(t){return typeof t=="string"||Array.isArray(t)?{content:ji(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],vC={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function wC(t){let e=!1;for(const r of t){const{role:n,parts:s}=r;if(!e&&n!=="user")throw new We(`First content should be with role 'user', got ${n}`);if(!Bm.includes(n))throw new We(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Bm)}`);if(!Array.isArray(s))throw new We("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new We("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of s)for(const u of Ym)u in c&&(i[u]+=1);const a=vC[n];for(const c of Ym)if(!a.includes(c)&&i[c]>0)throw new We(`Content with role '${n}' can't contain '${c}' part`);e=!0}}function Jm(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="SILENT_ERROR";class bC{constructor(e,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n!=null&&n.history&&(wC(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,r={}){var n,s,i,a,c,u;await this._sendPromise;const d=ji(e),m={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),r);let y;return this._sendPromise=this._sendPromise.then(()=>e0(this._apiKey,this.model,m,p)).then(v=>{var b;if(Jm(v.response)){this._history.push(d);const N=Object.assign({parts:[],role:"model"},(b=v.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(N)}else{const N=gr(v.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}y=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,y}async sendMessageStream(e,r={}){var n,s,i,a,c,u;await this._sendPromise;const d=ji(e),m={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},p=Object.assign(Object.assign({},this._requestOptions),r),y=Zv(this._apiKey,this.model,m,p);return this._sendPromise=this._sendPromise.then(()=>y).catch(v=>{throw new Error(Qm)}).then(v=>v.response).then(v=>{if(Jm(v)){this._history.push(d);const b=Object.assign({},v.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=gr(v);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(v=>{v.message!==Qm&&console.error(v)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,r,n){return(await Mi(e,cn.COUNT_TOKENS,t,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t,e,r,n){return(await Mi(e,cn.EMBED_CONTENT,t,!1,JSON.stringify(r),n)).json()}async function kC(t,e,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Mi(e,cn.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,r,n={}){this.apiKey=e,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=t0(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(e,r={}){var n;const s=Km(e),i=Object.assign(Object.assign({},this._requestOptions),r);return e0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(e,r={}){var n;const s=Km(e),i=Object.assign(Object.assign({},this._requestOptions),r);return Zv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(e){var r;return new bC(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},e),this._requestOptions)}async countTokens(e,r={}){const n=gC(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return xC(this.apiKey,this.model,n,s)}async embedContent(e,r={}){const n=yC(e),s=Object.assign(Object.assign({},this._requestOptions),r);return SC(this.apiKey,this.model,n,s)}async batchEmbedContents(e,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return kC(this.apiKey,this.model,e,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.apiKey=e}getGenerativeModel(e,r){if(!e.model)throw new We("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Xm(this.apiKey,e,r)}getGenerativeModelFromCachedContent(e,r,n){if(!e.name)throw new Ir("Cached content must contain a `name` field.");if(!e.model)throw new Ir("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&e[a]&&(r==null?void 0:r[a])!==e[a]){if(a==="model"){const c=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(c===u)continue}throw new Ir(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${e[a]})`)}const i=Object.assign(Object.assign({},r),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Xm(this.apiKey,i,n)}}const Ei={"CS 102: Data Structures & Functional Utility":{prereqs:["AP Computer Science A"],description:"The universal follow-up to AP CSA. Shifts focus from syntax to efficiency and data organization.",tier:1,weeks:[{week:1,topic:"Asymptotic Analysis: Big-O Notation",description:"Formal Big-O analysis of time and space complexity. Learn to analyze algorithm efficiency.",resources:[{title:"Big-O Notation Explained",url:"https://www.youtube.com/watch?v=__vX2sjlpXU",type:"Video"},{title:"Big-O Notation Tutorial",url:"https://www.youtube.com/watch?v=Mo4vesaut8g",type:"Video"},{title:"Understanding Big-O Notation",url:"https://www.youtube.com/watch?v=kS_gr2_-ws8",type:"Video"},{title:"Big-O Cheat Sheet",url:"https://www.bigocheatsheet.com/",type:"Article"}],deliverables:{builder:{title:"Big-O Analysis Template",description:"Complete a template file containing 4 partially implemented algorithms. Your task is to: (1) Implement the missing code sections marked with TODO comments, (2) Analyze and document the time complexity of each algorithm using Big-O notation, (3) Test each implementation with provided test cases, (4) Submit your completed file with all code working and complexity analysis included.",guidelines:["Step 1: Download the template file 'BigO_Analysis.java' from the download button below","Step 2: Open the file in your IDE. You will find 4 functions with TODO comments: findMax(), linearSearch(), bubbleSort(), and binarySearch()","Step 3: Implement each function according to the comments. For findMax(), return the maximum value in an array. For linearSearch(), find the index of a target value. For bubbleSort(), sort an array using bubble sort. For binarySearch(), find a target in a sorted array.","Step 4: Above each completed function, add a comment block explaining: (a) Time complexity in Big-O notation, (b) Space complexity, (c) Best case, average case, and worst case scenarios","Step 5: Run the provided test cases (included in the template) to verify your implementations work correctly","Step 6: Ensure your code compiles without errors and all test cases pass","Step 7: Submit your completed file. Your submission will be graded on: correctness (40%), complexity analysis accuracy (30%), code quality (20%), and test results (10%)"],template_file:{filename:"BigO_Analysis.java",content:`public class BigO_Analysis {
    
    // TODO: Implement this function to find the maximum value in an array
    // Time Complexity: ???
    // Space Complexity: ???
    public static int findMax(int[] arr) {
        // Your implementation here
        return -1;
    }
    
    // TODO: Implement linear search to find the index of target value
    // Return -1 if not found
    // Time Complexity: ???
    // Space Complexity: ???
    public static int linearSearch(int[] arr, int target) {
        // Your implementation here
        return -1;
    }
    
    // TODO: Implement bubble sort algorithm
    // Time Complexity: ???
    // Space Complexity: ???
    public static void bubbleSort(int[] arr) {
        // Your implementation here
    }
    
    // TODO: Implement binary search (assumes array is sorted)
    // Return -1 if not found
    // Time Complexity: ???
    // Space Complexity: ???
    public static int binarySearch(int[] arr, int target) {
        // Your implementation here
        return -1;
    }
    
    // Test cases - uncomment to test your implementations
    public static void main(String[] args) {
        int[] test1 = {3, 1, 4, 1, 5, 9, 2, 6};
        System.out.println("findMax test: " + (findMax(test1) == 9 ? "PASS" : "FAIL"));
        
        int[] test2 = {1, 2, 3, 4, 5};
        System.out.println("linearSearch test: " + (linearSearch(test2, 3) == 2 ? "PASS" : "FAIL"));
        
        int[] test3 = {5, 2, 8, 1, 9};
        bubbleSort(test3);
        System.out.println("bubbleSort test: " + (test3[0] == 1 && test3[4] == 9 ? "PASS" : "FAIL"));
        
        int[] test4 = {1, 3, 5, 7, 9};
        System.out.println("binarySearch test: " + (binarySearch(test4, 5) == 2 ? "PASS" : "FAIL"));
    }
}`}},academic:{title:"Big-O Notation Assessment",description:"Complete a comprehensive written assessment demonstrating mastery of asymptotic analysis. You will: (1) Analyze 10 code snippets to determine their time and space complexity, (2) Prove 3 Big-O bounds using formal mathematical definitions, (3) Compare algorithms within the same complexity class, (4) Analyze best, average, and worst case scenarios. Submit a PDF document with all solutions showing step-by-step work and clear mathematical reasoning.",guidelines:["Part 1 - Code Analysis (40 points): Analyze 10 provided code snippets. For each snippet: (a) Identify all loops and nested structures, (b) Count operations in terms of input size n, (c) Determine time complexity in Big-O notation, (d) Determine space complexity, (e) Provide 2-3 sentence justification for your answer","Part 2 - Formal Proofs (30 points): Prove 3 Big-O bounds using the formal definition: f(n) = O(g(n)) if there exist positive constants c and n such that f(n)  cg(n) for all n  n. Show: (a) Your choice of c and n, (b) Algebraic manipulation proving the inequality, (c) Clear conclusion","Part 3 - Algorithm Comparison (15 points): Compare 3 sorting algorithms (e.g., Merge Sort, Quick Sort, Heap Sort) all in O(n log n). Explain: (a) When each performs best, (b) Space requirements, (c) Stability, (d) Practical considerations","Part 4 - Case Analysis (15 points): For 2 algorithms with varying performance, analyze: (a) Best case scenario with example input, (b) Average case with expected input, (c) Worst case scenario with adversarial input, (d) Time complexity for each case","Format Requirements: Submit as a single PDF document. Use clear headings for each part. Show all work - partial credit will be given for correct reasoning even if final answer is wrong. Include your name and date on the first page","Grading: Correctness (60%), Mathematical rigor (25%), Clarity of explanation (15%)"]},communicator:{title:"Big-O Notation Teaching Presentation",description:"Create and deliver a 10-15 minute educational presentation teaching Big-O notation to fellow students. Your presentation must: (1) Explain what Big-O notation is and why it matters in software development, (2) Cover 5 common complexity classes with real code examples, (3) Demonstrate how to analyze code step-by-step, (4) Use visual graphs showing how different complexities scale, (5) Connect theory to real-world impact. Submit your slides (PDF or PowerPoint) and either a video recording or deliver live to the class.",guidelines:["Slide Structure (Required): (1) Title slide with your name, (2) Introduction: What is Big-O? (2-3 slides), (3) Why it matters: Real-world examples (2 slides), (4) Complexity classes: O(1), O(log n), O(n), O(n log n), O(n) with code examples (5-6 slides), (5) How to analyze: Step-by-step walkthrough of 2 code examples (3-4 slides), (6) Visual comparison: Graph showing growth rates (1-2 slides), (7) Conclusion: Key takeaways (1 slide)","Content Requirements: For each complexity class, include: (a) Definition in simple terms, (b) At least one code example, (c) Real-world use case (e.g., O(log n) for binary search in phone contacts), (d) Visual representation (graph or chart)","Code Examples: Include 2-3 complete code examples that you analyze step-by-step. Show: (a) The code, (b) Line-by-line complexity analysis, (c) Final Big-O result, (d) Explanation of why","Visual Aids: Create or use a graph showing how O(1), O(log n), O(n), O(n log n), and O(n) grow as input size increases. Use different colors for each line. Include axis labels and a legend","Delivery: Speak clearly and at an appropriate pace. Use transitions between slides. Engage the audience with questions or examples. If recording, ensure good audio quality and visible slides","Submission: Upload your presentation file (PDF, PowerPoint, or Google Slides link) and either: (a) A video recording (MP4, MOV, or YouTube link), or (b) Schedule a live presentation time with your instructor","Grading Criteria: Content accuracy (40%), Clarity of explanation (25%), Visual aids quality (15%), Delivery/presentation skills (20%)"]}}},{week:2,topic:"Linear Structures: Dynamic Arrays and Linked Lists",description:"Implement dynamic arrays with resize logic, and singly/doubly linked lists. Compare tradeoffs.",resources:[{title:"Dynamic Arrays Explained",url:"https://www.youtube.com/watch?v=8hly31xKli0",type:"Video"},{title:"Linked Lists Tutorial",url:"https://www.youtube.com/watch?v=WwfhLC16bis",type:"Video"},{title:"Arrays vs Linked Lists",url:"https://www.youtube.com/watch?v=lC-yYCOnN8Q",type:"Video"},{title:"Linked Lists Article",url:"https://www.geeksforgeeks.org/data-structures/linked-list/",type:"Article"}],deliverables:{builder:{title:"Dynamic Array and Linked List Template",description:"Complete a template file implementing two fundamental data structures: a DynamicArray class and a LinkedList class. Your task is to: (1) Implement all methods marked with TODO comments for both classes, (2) Ensure proper memory management (resizing for arrays, node management for lists), (3) Add time complexity comments for each method, (4) Pass all provided test cases, (5) Submit your working implementation. This project demonstrates understanding of linear data structures and their tradeoffs.",guidelines:["Step 1: Download 'DynamicArray_LinkedList.java' template file from the download button","Step 2: Implement DynamicArray class methods: (a) resize() - double capacity when full, (b) add(int index, T item) - insert at position with bounds checking, (c) remove(int index) - remove element and shift, (d) get(int index) - retrieve element, (e) size() - return current size","Step 3: Implement LinkedList class methods: (a) addFirst(T item) - add to head, (b) addLast(T item) - add to tail, (c) remove(T item) - find and remove first occurrence, (d) get(int index) - traverse to index and return, (e) Helper: findNode(T item) - locate node containing item","Step 4: For each implemented method, add a comment above it stating: (a) Time complexity in Big-O, (b) Space complexity if applicable, (c) Example: '// O(1) amortized time, O(1) space' for addLast()","Step 5: Run the test suite included in the template. All 15 test cases must pass. Fix any failing tests before submission","Step 6: Verify edge cases: empty list/array, single element, adding/removing at boundaries (index 0, last index)","Step 7: Code quality: Use meaningful variable names, add brief comments for complex logic, ensure no memory leaks (properly handle node references in LinkedList)","Step 8: Submit your completed file. Grading: Correctness (50%), Time complexity analysis (25%), Code quality (15%), Test results (10%)"],template_file:{filename:"DynamicArray_LinkedList.java",content:`public class DynamicArray<T> {
    private T[] array;
    private int size;
    private int capacity;
    
    // TODO: Implement constructor that initializes array with initial capacity of 10
    public DynamicArray() {
        // Your implementation here
    }
    
    // TODO: Implement resize method that doubles the capacity when array is full
    // Time Complexity: ???
    private void resize() {
        // Your implementation here
    }
    
    // TODO: Implement add method to insert item at given index
    // Time Complexity: ???
    public void add(int index, T item) {
        // Your implementation here
    }
    
    // TODO: Implement remove method to remove item at given index
    // Time Complexity: ???
    public T remove(int index) {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement get method to retrieve item at given index
    // Time Complexity: ???
    public T get(int index) {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement size method
    // Time Complexity: ???
    public int size() {
        // Your implementation here
        return 0;
    }
}

class Node<T> {
    T data;
    Node<T> next;
    
    Node(T data) {
        this.data = data;
        this.next = null;
    }
}

public class LinkedList<T> {
    private Node<T> head;
    private int size;
    
    // TODO: Implement constructor
    public LinkedList() {
        // Your implementation here
    }
    
    // TODO: Implement addFirst method
    // Time Complexity: ???
    public void addFirst(T item) {
        // Your implementation here
    }
    
    // TODO: Implement addLast method
    // Time Complexity: ???
    public void addLast(T item) {
        // Your implementation here
    }
    
    // TODO: Implement helper method to find node containing item
    // Time Complexity: ???
    private Node<T> findNode(T item) {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement remove method
    // Time Complexity: ???
    public boolean remove(T item) {
        // Your implementation here
        return false;
    }
    
    // TODO: Implement get method
    // Time Complexity: ???
    public T get(int index) {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement size method
    // Time Complexity: ???
    public int size() {
        // Your implementation here
        return 0;
    }
}

// Test cases - uncomment to test
class TestCases {
    public static void main(String[] args) {
        // Test DynamicArray
        DynamicArray<Integer> arr = new DynamicArray<>();
        arr.add(0, 10);
        arr.add(1, 20);
        System.out.println("DynamicArray test 1: " + (arr.get(0) == 10 ? "PASS" : "FAIL"));
        System.out.println("DynamicArray test 2: " + (arr.size() == 2 ? "PASS" : "FAIL"));
        
        // Test LinkedList
        LinkedList<Integer> list = new LinkedList<>();
        list.addFirst(5);
        list.addLast(15);
        System.out.println("LinkedList test 1: " + (list.get(0) == 5 ? "PASS" : "FAIL"));
        System.out.println("LinkedList test 2: " + (list.size() == 2 ? "PASS" : "FAIL"));
    }
}`}},academic:{title:"Linear Data Structures Assessment",description:"Complete a written test covering: (1) Time complexity analysis for dynamic arrays vs linked lists (insertion, deletion, access), (2) Space complexity comparison, (3) When to use arrays vs linked lists, (4) Implementation details (resizing strategy, memory allocation), (5) Tradeoffs between singly vs doubly linked lists. Submit detailed solutions with complexity analysis.",guidelines:["Analyze time complexity for all operations (access, insert, delete) for both structures","Compare space complexity: arrays vs linked lists (including overhead)","Explain when to use arrays vs linked lists with specific use cases","Describe dynamic array resizing strategies (doubling, geometric growth)","Compare singly vs doubly linked lists: advantages and disadvantages","All solutions must include Big-O notation with justification"]},communicator:{title:"Arrays vs Linked Lists Presentation",description:"Create a 10-15 minute presentation comparing dynamic arrays and linked lists. Include: (1) How each data structure works internally, (2) Time complexity comparison for common operations, (3) Memory layout and space efficiency, (4) When to choose arrays vs linked lists, (5) Real-world examples of each in use. Use visual diagrams and code examples.",guidelines:["10-15 minute presentation with visual diagrams","Explain internal structure of both arrays and linked lists with memory diagrams","Create comparison table showing time complexity for all operations","Discuss memory layout: contiguous (arrays) vs scattered (linked lists)","Provide 3-5 real-world scenarios and recommend which structure to use","Use code examples to demonstrate key concepts","Clear explanations and engaging delivery"]}}},{week:3,topic:"Stacks, Queues, and Deques",description:"Implement stacks, queues, and double-ended queues. Learn common use cases and applications.",resources:[{title:"Stacks and Queues Explained",url:"https://www.youtube.com/watch?v=wjI1WNcIntg",type:"Video"},{title:"Stack Data Structure",url:"https://www.youtube.com/watch?v=I37kGX-nZEI",type:"Video"},{title:"Queue Data Structure",url:"https://www.youtube.com/watch?v=XuCbpw6Bj1U",type:"Video"},{title:"Stack and Queue Tutorial",url:"https://www.programiz.com/dsa/stack",type:"Article"}],deliverables:{builder:{title:"Stack, Queue, and Deque Template",description:"Complete a template file implementing three fundamental linear data structures: Stack, Queue, and Deque. Your task is to: (1) Implement all methods marked with TODO comments for all three classes, (2) Build a balanced parentheses checker using the Stack, (3) Build a task scheduler using the Queue, (4) Add time complexity comments for each method, (5) Pass all provided test cases, (6) Submit your working implementation. This project demonstrates understanding of LIFO, FIFO, and double-ended queue operations.",guidelines:["Step 1: Download 'Stack_Queue_Deque.java' template file from the download button","Step 2: Implement Stack class methods: (a) push(T item) - add to top, (b) pop() - remove and return top element, (c) peek() - return top without removing, (d) isEmpty() - check if empty, (e) size() - return number of elements","Step 3: Implement Queue class methods: (a) enqueue(T item) - add to rear, (b) dequeue() - remove and return front element, (c) front() - return front without removing, (d) isEmpty() - check if empty, (e) size() - return number of elements","Step 4: Implement Deque class methods: (a) addFirst(T item) - add to front, (b) addLast(T item) - add to rear, (c) removeFirst() - remove and return front, (d) removeLast() - remove and return rear, (e) isEmpty() and size()","Step 5: Implement BalancedParenthesesChecker class using your Stack: (a) isBalanced(String expression) - returns true if parentheses are balanced, (b) Handle '(', ')', '[', ']', '{', '}' characters, (c) Use stack to track opening brackets","Step 6: Implement TaskScheduler class using your Queue: (a) scheduleTask(String task) - add task to queue, (b) executeNext() - remove and return next task, (c) hasTasks() - check if tasks remain","Step 7: For each implemented method, add a comment above it stating time complexity in Big-O notation","Step 8: Run the test suite included in the template. All test cases must pass. Fix any failing tests before submission","Step 9: Submit your completed file. Grading: Correctness (50%), Time complexity analysis (25%), Code quality (15%), Test results (10%)"],template_file:{filename:"Stack_Queue_Deque.java",content:`import java.util.LinkedList;

// Stack Implementation (LIFO - Last In First Out)
public class Stack<T> {
    private LinkedList<T> list;
    
    // TODO: Implement constructor
    public Stack() {
        // Your implementation here
    }
    
    // TODO: Implement push method to add item to top
    // Time Complexity: ???
    public void push(T item) {
        // Your implementation here
    }
    
    // TODO: Implement pop method to remove and return top item
    // Time Complexity: ???
    public T pop() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement peek method to return top without removing
    // Time Complexity: ???
    public T peek() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement isEmpty method
    // Time Complexity: ???
    public boolean isEmpty() {
        // Your implementation here
        return false;
    }
    
    // TODO: Implement size method
    // Time Complexity: ???
    public int size() {
        // Your implementation here
        return 0;
    }
}

// Queue Implementation (FIFO - First In First Out)
public class Queue<T> {
    private LinkedList<T> list;
    
    // TODO: Implement constructor
    public Queue() {
        // Your implementation here
    }
    
    // TODO: Implement enqueue method to add item to rear
    // Time Complexity: ???
    public void enqueue(T item) {
        // Your implementation here
    }
    
    // TODO: Implement dequeue method to remove and return front item
    // Time Complexity: ???
    public T dequeue() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement front method to return front without removing
    // Time Complexity: ???
    public T front() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement isEmpty method
    // Time Complexity: ???
    public boolean isEmpty() {
        // Your implementation here
        return false;
    }
    
    // TODO: Implement size method
    // Time Complexity: ???
    public int size() {
        // Your implementation here
        return 0;
    }
}

// Deque Implementation (Double-Ended Queue)
public class Deque<T> {
    private LinkedList<T> list;
    
    // TODO: Implement constructor
    public Deque() {
        // Your implementation here
    }
    
    // TODO: Implement addFirst method
    // Time Complexity: ???
    public void addFirst(T item) {
        // Your implementation here
    }
    
    // TODO: Implement addLast method
    // Time Complexity: ???
    public void addLast(T item) {
        // Your implementation here
    }
    
    // TODO: Implement removeFirst method
    // Time Complexity: ???
    public T removeFirst() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement removeLast method
    // Time Complexity: ???
    public T removeLast() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement isEmpty method
    // Time Complexity: ???
    public boolean isEmpty() {
        // Your implementation here
        return false;
    }
    
    // TODO: Implement size method
    // Time Complexity: ???
    public int size() {
        // Your implementation here
        return 0;
    }
}

// Balanced Parentheses Checker using Stack
class BalancedParenthesesChecker {
    // TODO: Implement isBalanced method using your Stack
    // Time Complexity: ???
    public static boolean isBalanced(String expression) {
        // Your implementation here
        // Hint: Use a Stack to track opening brackets
        // When you see '(', '[', '{' -> push to stack
        // When you see ')', ']', '}' -> pop from stack and check if it matches
        return false;
    }
}

// Task Scheduler using Queue
class TaskScheduler {
    private Queue<String> taskQueue;
    
    // TODO: Implement constructor
    public TaskScheduler() {
        // Your implementation here
    }
    
    // TODO: Implement scheduleTask method
    // Time Complexity: ???
    public void scheduleTask(String task) {
        // Your implementation here
    }
    
    // TODO: Implement executeNext method
    // Time Complexity: ???
    public String executeNext() {
        // Your implementation here
        return null;
    }
    
    // TODO: Implement hasTasks method
    // Time Complexity: ???
    public boolean hasTasks() {
        // Your implementation here
        return false;
    }
}

// Test cases - uncomment to test
class TestCases {
    public static void main(String[] args) {
        // Test Stack
        Stack<Integer> stack = new Stack<>();
        stack.push(1);
        stack.push(2);
        System.out.println(\\"Stack test 1: \\" + (stack.pop() == 2 ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Stack test 2: \\" + (stack.peek() == 1 ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test Queue
        Queue<String> queue = new Queue<>();
        queue.enqueue(\\"first\\");
        queue.enqueue(\\"second\\");
        System.out.println(\\"Queue test 1: \\" + (queue.dequeue().equals(\\"first\\") ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Queue test 2: \\" + (queue.front().equals(\\"second\\") ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test Deque
        Deque<Character> deque = new Deque<>();
        deque.addFirst('a');
        deque.addLast('b');
        System.out.println(\\"Deque test 1: \\" + (deque.removeFirst() == 'a' ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Deque test 2: \\" + (deque.removeLast() == 'b' ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test Balanced Parentheses
        System.out.println(\\"Parentheses test 1: \\" + (BalancedParenthesesChecker.isBalanced(\\"()\\") ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Parentheses test 2: \\" + (BalancedParenthesesChecker.isBalanced(\\"([{}])\\") ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Parentheses test 3: \\" + (!BalancedParenthesesChecker.isBalanced(\\"([)]\\") ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test Task Scheduler
        TaskScheduler scheduler = new TaskScheduler();
        scheduler.scheduleTask(\\"Task 1\\");
        scheduler.scheduleTask(\\"Task 2\\");
        System.out.println(\\"Scheduler test 1: \\" + (scheduler.executeNext().equals(\\"Task 1\\") ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"Scheduler test 2: \\" + (scheduler.hasTasks() ? \\"PASS\\" : \\"FAIL\\"));
    }
}`}},academic:{title:"Stacks, Queues, and Deques Assessment",description:"Complete a written test covering: (1) Time complexity analysis for all operations, (2) Implementation choices (array vs linked list), (3) Applications of stacks (parsing, recursion), (4) Applications of queues (BFS, scheduling), (5) When to use deque vs stack/queue, (6) Solving problems using these structures. Submit detailed solutions.",guidelines:["Analyze time complexity for push, pop, enqueue, dequeue operations","Compare array-based vs linked list-based implementations","Explain how stacks are used in recursion and parsing","Explain how queues are used in BFS and scheduling algorithms","Solve 3 problems using stacks (e.g., next greater element, histogram)","Solve 2 problems using queues (e.g., level-order traversal, sliding window)","All solutions must show step-by-step execution"]},communicator:{title:"Stacks and Queues Presentation",description:"Create a 10-15 minute presentation explaining stacks, queues, and deques. Include: (1) What each structure is and how it works, (2) LIFO vs FIFO principles, (3) Common applications with examples, (4) Implementation details, (5) Real-world use cases (browser back button, printer queue, etc.). Use visual demonstrations and code examples.",guidelines:["10-15 minute presentation with visual demonstrations","Explain LIFO (Last In First Out) for stacks and FIFO (First In First Out) for queues","Demonstrate at least 3 stack applications with live examples","Demonstrate at least 3 queue applications with live examples","Show implementation code and explain key operations","Discuss real-world examples: browser history, task scheduling, etc.","Engaging visuals and clear explanations"]}}},{week:4,topic:"Hash-Based Structures: HashMaps and HashSets",description:"Understand hashing, collision resolution (chaining vs probing), and load factors.",resources:[{title:"Hash Tables Explained",url:"https://www.youtube.com/watch?v=shs0KM3wKv8",type:"Video"},{title:"Hash Tables Tutorial",url:"https://www.youtube.com/watch?v=2Ti5yvumFTU",type:"Video"},{title:"Hash Maps and Hash Sets",url:"https://www.youtube.com/watch?v=U79Bo8c0rLk",type:"Video"},{title:"Hash Table Implementation",url:"https://www.geeksforgeeks.org/implementing-our-own-hash-table-with-separate-chaining-in-java/",type:"Article"}],deliverables:{builder:{title:"Hash Map Template",description:"Complete a template file implementing a HashMap class with collision resolution using chaining. Your task is to: (1) Implement a hash function for string keys, (2) Implement put(), get(), and remove() methods with collision handling, (3) Implement automatic resizing when load factor exceeds threshold, (4) Add time complexity comments for each method, (5) Pass all provided test cases, (6) Submit your working implementation. This project demonstrates understanding of hashing, collision resolution, and hash table performance.",guidelines:["Step 1: Download 'HashMap.java' template file from the download button","Step 2: Implement hash function: hash(String key) - use polynomial hashing: h = (h * 31 + char) % capacity. This distributes keys evenly across buckets","Step 3: Implement put(K key, V value) method: (a) Calculate hash index, (b) If bucket is empty, create new chain, (c) If key exists in chain, update value, (d) If key doesn't exist, add new entry to chain, (e) Check load factor and resize if needed","Step 4: Implement get(K key) method: (a) Calculate hash index, (b) Search through the chain at that index, (c) Return value if key found, null otherwise","Step 5: Implement remove(K key) method: (a) Calculate hash index, (b) Search chain for key, (c) Remove entry from chain if found, (d) Return removed value or null","Step 6: Implement resize() method: (a) Create new array with double capacity, (b) Rehash all existing entries into new array, (c) Update capacity and threshold","Step 7: For each implemented method, add a comment above it stating: (a) Time complexity in Big-O (average and worst case), (b) Space complexity if applicable","Step 8: Run the test suite included in the template. All test cases must pass. Test with various key types and collision scenarios","Step 9: Verify edge cases: empty map, single entry, many collisions, resizing triggers","Step 10: Submit your completed file. Grading: Correctness (50%), Hash function quality (15%), Collision handling (15%), Time complexity analysis (10%), Test results (10%)"],template_file:{filename:"HashMap.java",content:`import java.util.LinkedList;

// Entry class to store key-value pairs
class Entry<K, V> {
    K key;
    V value;
    
    Entry(K key, V value) {
        this.key = key;
        this.value = value;
    }
}

// HashMap Implementation with Chaining Collision Resolution
public class HashMap<K, V> {
    private LinkedList<Entry<K, V>>[] buckets;
    private int capacity;
    private int size;
    private static final double LOAD_FACTOR_THRESHOLD = 0.75;
    
    // TODO: Implement constructor that initializes buckets array with initial capacity of 16
    @SuppressWarnings("unchecked")
    public HashMap() {
        // Your implementation here
        // Initialize buckets as array of LinkedLists
        // Set initial capacity to 16
        // Initialize size to 0
    }
    
    // TODO: Implement hash function using polynomial hashing
    // Formula: h = (h * 31 + char) % capacity
    // Time Complexity: O(k) where k is length of key
    private int hash(K key) {
        // Your implementation here
        // Convert key to string, then apply polynomial hash
        return 0;
    }
    
    // TODO: Implement put method to insert or update key-value pair
    // Time Complexity: O(1) average, O(n) worst case (all keys hash to same bucket)
    public void put(K key, V value) {
        // Your implementation here
        // 1. Calculate hash index
        // 2. Get the chain (LinkedList) at that index
        // 3. If chain is null, create new LinkedList
        // 4. Search chain for existing key - if found, update value
        // 5. If not found, add new Entry to chain
        // 6. Increment size
        // 7. Check if resize needed (size / capacity > LOAD_FACTOR_THRESHOLD)
    }
    
    // TODO: Implement get method to retrieve value by key
    // Time Complexity: O(1) average, O(n) worst case
    public V get(K key) {
        // Your implementation here
        // 1. Calculate hash index
        // 2. Get the chain at that index
        // 3. Search chain for key
        // 4. Return value if found, null otherwise
        return null;
    }
    
    // TODO: Implement remove method to delete key-value pair
    // Time Complexity: O(1) average, O(n) worst case
    public V remove(K key) {
        // Your implementation here
        // 1. Calculate hash index
        // 2. Get the chain at that index
        // 3. Search chain for key
        // 4. Remove entry if found, decrement size
        // 5. Return removed value or null
        return null;
    }
    
    // TODO: Implement resize method to double capacity and rehash all entries
    // Time Complexity: O(n) where n is number of entries
    @SuppressWarnings("unchecked")
    private void resize() {
        // Your implementation here
        // 1. Save old buckets array
        // 2. Double the capacity
        // 3. Create new buckets array with new capacity
        // 4. Rehash all entries from old array to new array
        // 5. Update capacity
    }
    
    // TODO: Implement size method
    // Time Complexity: O(1)
    public int size() {
        // Your implementation here
        return 0;
    }
    
    // TODO: Implement isEmpty method
    // Time Complexity: O(1)
    public boolean isEmpty() {
        // Your implementation here
        return false;
    }
    
    // TODO: Implement containsKey method
    // Time Complexity: O(1) average, O(n) worst case
    public boolean containsKey(K key) {
        // Your implementation here
        return false;
    }
}

// Test cases - uncomment to test
class TestCases {
    public static void main(String[] args) {
        HashMap<String, Integer> map = new HashMap<>();
        
        // Test put and get
        map.put("apple", 5);
        map.put("banana", 3);
        System.out.println(\\"HashMap test 1: \\" + (map.get(\\"apple\\") == 5 ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"HashMap test 2: \\" + (map.get(\\"banana\\") == 3 ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test update
        map.put(\\"apple\\", 10);
        System.out.println(\\"HashMap test 3: \\" + (map.get(\\"apple\\") == 10 ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test remove
        map.remove(\\"banana\\");
        System.out.println(\\"HashMap test 4: \\" + (map.get(\\"banana\\") == null ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test containsKey
        System.out.println(\\"HashMap test 5: \\" + (map.containsKey(\\"apple\\") ? \\"PASS\\" : \\"FAIL\\"));
        System.out.println(\\"HashMap test 6: \\" + (!map.containsKey(\\"banana\\") ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test size
        System.out.println(\\"HashMap test 7: \\" + (map.size() == 1 ? \\"PASS\\" : \\"FAIL\\"));
        
        // Test collisions (keys that hash to same bucket)
        map.put(\\"cat\\", 1);
        map.put(\\"dog\\", 2);
        map.put(\\"bird\\", 3);
        System.out.println(\\"HashMap test 8: \\" + (map.size() == 4 ? \\"PASS\\" : \\"FAIL\\"));
    }
}`}},academic:{title:"Hash Tables Assessment",description:"Complete a written test covering: (1) Hash function design and properties, (2) Collision resolution strategies (chaining, linear probing, quadratic probing), (3) Load factor and its impact on performance, (4) Time complexity analysis (average vs worst case), (5) Rehashing strategies, (6) When hash tables are optimal. Submit detailed solutions with proofs.",guidelines:["Design a hash function for strings and explain its properties","Compare collision resolution strategies: chaining vs open addressing","Analyze time complexity: average O(1) vs worst case O(n)","Explain how load factor affects performance with mathematical analysis","Describe rehashing strategies and when to trigger them","Solve problems using hash tables (e.g., two sum, group anagrams)","All solutions must include complexity analysis"]},communicator:{title:"Hash Tables Presentation",description:"Create a 10-15 minute presentation explaining hash tables. Include: (1) What is hashing and why it's fast, (2) How hash functions work, (3) Collision resolution strategies with examples, (4) Load factor and performance tradeoffs, (5) Real-world applications (dictionaries, caches, databases). Use visual diagrams and code examples.",guidelines:["10-15 minute presentation with visual diagrams","Explain hashing concept: mapping keys to array indices","Demonstrate hash function with examples (show collisions)","Visualize collision resolution: chaining vs probing with diagrams","Explain load factor impact with performance graphs","Discuss real-world applications: Python dict, Java HashMap, Redis","Use code examples to show hash table operations","Clear explanations and engaging delivery"]}}},{week:5,topic:"Trees: Binary Search Trees and Traversals",description:"Implement BSTs with insert, search, delete. Master in-order, pre-order, and post-order traversals.",resources:[{title:"Binary Search Trees",url:"https://www.youtube.com/watch?v=H5JubkIy_p8",type:"Video"},{title:"BST Implementation",url:"https://www.youtube.com/watch?v=zIX3zQP0khM",type:"Video"},{title:"Tree Traversals Explained",url:"https://www.youtube.com/watch?v=1WxLM2hwL-U",type:"Video"},{title:"Tree Traversals Article",url:"https://www.geeksforgeeks.org/tree-traversals-inorder-preorder-and-postorder/",type:"Article"}],deliverables:{builder:{title:"Binary Search Tree Template",description:"Download the template file with a partially implemented BST class. Fill in the missing methods for insert, search, delete, and all three traversal methods.",guidelines:["Download the template file provided","Complete insert(value) method: maintain BST property (left < node < right)","Complete search(value) method: return true if value exists, false otherwise","Complete delete(value) method: handle three cases (no children, one child, two children)","Complete inOrder(), preOrder(), postOrder() traversal methods","Complete findMin() helper method used in delete operation","Add comments explaining the BST property and time complexity of each method","Test with the provided test cases and submit your completed template file"]},academic:{title:"Binary Search Trees Assessment",description:"Complete a written test covering: (1) BST property and why it enables efficient search, (2) Time complexity analysis for all operations (best, average, worst case), (3) Step-by-step execution of insert, search, delete, (4) Traversal algorithms and their applications, (5) BST vs balanced trees tradeoffs, (6) Solving problems using BSTs. Submit detailed solutions.",guidelines:["Explain BST property and prove it enables O(log n) search in balanced case","Analyze time complexity: best O(log n), average O(log n), worst O(n)","Show step-by-step execution of insert, search, delete on given trees","Explain when to use each traversal (in-order for sorted output, pre-order for copying, etc.)","Compare BST vs balanced trees (AVL, Red-Black) with complexity analysis","Solve 3-4 problems using BSTs (e.g., range queries, kth smallest element)","All solutions must show tree structure at each step"]},communicator:{title:"Binary Search Trees Presentation",description:"Create a 10-15 minute presentation explaining binary search trees. Include: (1) What is a BST and the ordering property, (2) How insert, search, and delete work, (3) Tree traversals with examples, (4) Time complexity and when BSTs are efficient, (5) Real-world applications (databases, file systems). Use tree diagrams and visual demonstrations.",guidelines:["10-15 minute presentation with tree diagrams","Explain BST ordering property with visual examples","Demonstrate insert, search, delete operations step-by-step","Show all three traversals on same tree with output","Explain time complexity with examples (balanced vs unbalanced)","Discuss real-world applications: database indexing, expression trees","Use interactive demonstrations or animations if possible","Clear explanations and engaging delivery"]}}},{week:6,topic:"Self-Balancing Trees: AVL or Red-Black",description:"Learn why self-balancing is needed. Implement AVL trees or study Red-Black tree rotations.",resources:[{title:"AVL Trees Explained",url:"https://www.youtube.com/watch?v=jDM6_TnYIqE",type:"Video"},{title:"AVL Tree Rotations",url:"https://www.youtube.com/watch?v=vRwi_UcZjeE",type:"Video"},{title:"Red-Black Trees Tutorial",url:"https://www.youtube.com/watch?v=qvZGUFHWChY",type:"Video"},{title:"Red-Black Trees Article",url:"https://www.geeksforgeeks.org/red-black-tree-set-1-introduction-2/",type:"Article"}],deliverables:{builder:{title:"AVL Tree Template",description:"Download the template file with a partially implemented AVL tree class. Fill in the missing rotation methods and update the insert method to maintain balance.",guidelines:["Download the template file provided","Complete getHeight() and getBalanceFactor() helper methods","Complete rotateLeft() method: perform left rotation","Complete rotateRight() method: perform right rotation","Complete rotateLeftRight() and rotateRightLeft() methods (double rotations)","Update insert() method to check balance factor and perform rotations when needed","Add comments explaining when each rotation type is needed","Test with the provided test cases and submit your completed template file"]},academic:{title:"Self-Balancing Trees Assessment",description:"Complete a written test covering: (1) Why self-balancing is needed (worst case BST), (2) AVL tree property and balance factor, (3) All rotation types and when to apply them, (4) Time complexity analysis (guaranteed O(log n)), (5) Comparison of AVL vs Red-Black trees, (6) Step-by-step insertion with rotations. Submit detailed solutions.",guidelines:["Explain why unbalanced BSTs degrade to O(n) and need balancing","Define AVL balance factor and height property","Describe all 4 rotation types: left, right, left-right, right-left","Prove AVL trees guarantee O(log n) height","Compare AVL vs Red-Black: balancing strictness, rotation frequency","Show step-by-step insertion with rotations on given sequence","All solutions must show tree structure and balance factors at each step"]},communicator:{title:"Self-Balancing Trees Presentation",description:"Create a 10-15 minute presentation explaining self-balancing trees. Include: (1) Problem with unbalanced BSTs, (2) How AVL trees maintain balance, (3) Rotation operations with examples, (4) Why guaranteed O(log n) matters, (5) AVL vs Red-Black comparison, (6) Real-world usage (Java TreeMap, C++ map). Use tree diagrams and animations.",guidelines:["10-15 minute presentation with tree diagrams and animations","Demonstrate problem: show worst-case unbalanced BST","Explain AVL balance factor and height property","Animate or step through rotation operations","Show before/after comparisons of tree height","Compare AVL vs Red-Black with use case recommendations","Discuss real-world implementations: Java TreeMap uses Red-Black","Clear explanations and engaging visuals"]}}},{week:7,topic:"Binary Heaps and Priority Queues",description:"Implement min/max heaps and use them for priority queues. Heapify operations.",resources:[{title:"Heaps and Priority Queues",url:"https://www.youtube.com/watch?v=HqPJF2L5h9U",type:"Video"},{title:"Binary Heap Implementation",url:"https://www.programiz.com/dsa/heap-data-structure",type:"Article"}],deliverables:{builder:{title:"Heap and Priority Queue Template",description:"Download the template file with a partially implemented MinHeap class. Fill in the missing heap operations and use it to implement a simple priority queue.",guidelines:["Download the template file provided","Complete parent(), leftChild(), rightChild() helper methods for array indexing","Complete heapifyUp() method: bubble up element to maintain heap property","Complete heapifyDown() method: bubble down element to maintain heap property","Complete insert(value) method: add to end and heapify up","Complete extractMin() method: remove root, replace with last element, heapify down","Complete a simple PriorityQueue class using the MinHeap (template provided)","Add comments explaining the heap property and array representation","Test with the provided test cases and submit your completed template file"]},academic:{title:"Heaps and Priority Queues Assessment",description:"Complete a written test covering: (1) Heap property and array representation, (2) Time complexity analysis for all operations, (3) Heapify algorithms (bottom-up and top-down), (4) Building a heap from array (O(n) method), (5) Applications of priority queues, (6) Heap vs BST for priority operations. Submit detailed solutions.",guidelines:["Explain heap property (min-heap and max-heap) with examples","Show array representation of heap and parent/child index formulas","Analyze time complexity: insert O(log n), extract O(log n), build O(n)","Describe heapify-up and heapify-down algorithms step-by-step","Prove building heap from array is O(n) not O(n log n)","Compare heap vs BST for priority queue operations","Solve problems using heaps (e.g., find k largest elements, median maintenance)","All solutions must show heap structure at each step"]},communicator:{title:"Heaps and Priority Queues Presentation",description:"Create a 10-15 minute presentation explaining binary heaps and priority queues. Include: (1) What is a heap and the heap property, (2) Array representation and indexing, (3) Heap operations (insert, extract, heapify), (4) Building a heap efficiently, (5) Applications (Dijkstra's algorithm, scheduling, heapsort). Use visual diagrams and code examples.",guidelines:["10-15 minute presentation with visual diagrams","Explain heap property with tree and array representations","Demonstrate parent/child index calculations","Animate or step through insert and extract operations","Show how to build heap from array efficiently","Discuss applications: Dijkstra's algorithm, task scheduling, heapsort","Use code examples to show key operations","Clear explanations and engaging delivery"]}}},{week:8,topic:"Intro to Graphs: Representation and Basic Traversals",description:"Learn adjacency matrix vs adjacency list. Implement BFS and DFS.",resources:[{title:"Graph Data Structure",url:"https://www.youtube.com/watch?v=tWVWeAqZ0WU",type:"Video"},{title:"Graph Representation",url:"https://www.geeksforgeeks.org/graph-and-its-representations/",type:"Article"}],deliverables:{builder:{title:"Graph Representation and Traversal Template",description:"Download the template file with a partially implemented Graph class using adjacency list representation. Fill in the missing BFS and DFS traversal methods.",guidelines:["Download the template file provided","Complete addEdge() method: add edges to the adjacency list","Complete BFS(start) method: use a queue to traverse level by level","Complete DFS(start) method: use recursion or a stack to traverse depth-first","Complete hasPath(start, end) method using BFS or DFS (template provided)","Add comments explaining the difference between BFS and DFS","Add comments explaining adjacency list representation","Test with the provided test graphs and submit your completed template file"]},academic:{title:"Graph Traversals Assessment",description:"Complete a written test covering: (1) Adjacency matrix vs adjacency list tradeoffs, (2) Time and space complexity for BFS and DFS, (3) Step-by-step execution of BFS and DFS on given graphs, (4) Applications of BFS (shortest path, level-order) vs DFS (cycle detection, topological sort), (5) When to use each traversal. Submit detailed solutions.",guidelines:["Compare adjacency matrix vs list: space O(V) vs O(V+E), query time O(1) vs O(degree)","Analyze time complexity: BFS O(V+E), DFS O(V+E) with justification","Show step-by-step BFS execution (queue state at each step)","Show step-by-step DFS execution (stack/recursion trace)","Explain when BFS finds shortest path (unweighted graphs)","Explain DFS applications: cycle detection, topological sort, maze solving","Solve problems using BFS (e.g., word ladder, islands) and DFS (e.g., path finding)","All solutions must show graph and traversal state at each step"]},communicator:{title:"Graph Traversals Presentation",description:"Create a 10-15 minute presentation explaining graphs and traversals. Include: (1) What are graphs and common terminology, (2) Adjacency matrix vs adjacency list representations, (3) How BFS works (queue-based, level-order), (4) How DFS works (stack-based, depth-first), (5) When to use BFS vs DFS, (6) Real-world applications (social networks, web crawling). Use graph diagrams and animations.",guidelines:["10-15 minute presentation with graph diagrams and animations","Explain graph terminology: vertices, edges, directed/undirected, weighted","Visualize adjacency matrix vs list with examples","Animate BFS traversal showing queue and visited nodes","Animate DFS traversal showing stack/recursion and visited nodes","Compare BFS vs DFS with use case recommendations","Discuss real-world applications: social networks (friends), web pages (links)","Use interactive demonstrations if possible","Clear explanations and engaging delivery"]}}},{week:9,topic:"Final Assessment: Data Structures Portfolio",description:"Complete one Ellis Activity demonstrating mastery of data structures.",resources:[],deliverables:{builder:{title:"Maze Generator and Pathfinding Solver",description:"Build an interactive maze generator and solver application. Generate random mazes using graph algorithms, then solve them using multiple pathfinding strategies (BFS, DFS, A*). Visualize the generation and solving process in real-time. This project naturally uses graphs, stacks, queues, heaps, and hash maps to create a cohesive, engaging application.",guidelines:["Maze Generation: Implement at least 2 algorithms (e.g., Randomized Depth-First Search, Kruskal's algorithm, Prim's algorithm) using graph data structures","Maze Representation: Use adjacency lists or matrices to represent the maze graph, and arrays/2D arrays for the visual grid","Pathfinding Solvers: Implement at least 3 solving algorithms:","  - BFS (using Queue) for shortest path in unweighted mazes","  - DFS (using Stack) for any valid path","  - A* Algorithm (using Priority Queue/Heap) for optimal pathfinding","Visualization: Create real-time visualizations showing:","  - Maze generation process (walls being removed)","  - Pathfinding algorithms exploring the maze","  - Final solution path highlighted","Interactive Features: Allow users to adjust maze size, generation algorithm, solving algorithm, and animation speed","Data Structure Usage: Clearly demonstrate use of:","  - Graphs (maze structure, adjacency representation)","  - Stacks (DFS, backtracking in generation)","  - Queues (BFS traversal)","  - Heaps/Priority Queues (A* algorithm)","  - Hash Maps (visited nodes tracking, path reconstruction)","  - Arrays (grid representation, coordinate storage)","Performance Analysis: Compare solving times and path lengths for different algorithms on various maze sizes","Documentation: Include README explaining algorithms, data structure choices, complexity analysis, and usage instructions","Bonus: Add features like maze difficulty levels, custom start/end points, or multiple solution paths"]},academic:{title:"Comprehensive Data Structures Exam",description:"Complete a comprehensive written exam covering all course topics: (1) Design and analyze data structures for given problems, (2) Choose appropriate data structures for scenarios, (3) Time and space complexity analysis, (4) Compare different data structures, (5) Solve 5-7 complex problems requiring multiple structures. Submit detailed solutions with analysis.",guidelines:["Design data structures for 2-3 new problems not covered in class","Justify choice of data structure for given scenarios with complexity analysis","Complete time and space complexity analysis for all solutions","Compare different data structures for same problem (e.g., array vs linked list)","Solve 5-7 complex problems requiring multiple data structures","All solutions must be rigorous with clear reasoning and proofs","Demonstrate deep understanding of tradeoffs and design decisions"]},communicator:{title:"Data Structures Course Presentation",description:"Create a 20-30 minute comprehensive presentation summarizing the entire course. Include: (1) Overview of all data structures covered, (2) When to use each structure with examples, (3) Complexity analysis and tradeoffs, (4) Real-world applications, (5) Your favorite data structure and why, (6) Future learning directions. Use visual aids and live demonstrations.",guidelines:["20-30 minute comprehensive presentation","Overview of all data structures: linear, tree-based, hash-based, graph","Decision framework: when to use each structure with examples","Complexity comparison table for common operations","Real-world applications with specific examples for each structure","Deep dive into your favorite data structure: why, how it works, applications","Future learning directions: advanced structures, optimization techniques","Engaging visuals, clear structure, and confident delivery"]}}}],ellis_activities:{builder:{title:"Data Structures Library",description:"Implement a complete library of data structures: dynamic array, linked list, stack, queue, hash map, BST, and heap with full documentation."},academic:{title:"Data Structures Problem Set",description:"Complete 20-25 problems from LeetCode/Codeforces covering all major data structures and their operations."},communicator:{title:"Data Structures Tutorial Series",description:"Create a video or written tutorial series explaining 3-4 data structures with visualizations and code examples."}}},"Math 201: Discrete Mathematics for CS":{prereqs:["Algebra II / Pre-Calculus"],description:"The mathematical language of computer science. Essential for proving code correctness and analyzing speed.",tier:1,weeks:[{week:1,topic:"Propositional Logic and Truth Tables",description:"Learn propositions, logical connectives (AND, OR, NOT, IMPLIES), truth tables, and logical equivalences.",resources:[{title:"Propositional Logic",url:"https://www.youtube.com/watch?v=FMh8qNV3PHk",type:"Video"},{title:"Truth Tables Tutorial",url:"https://www.mathsisfun.com/sets/logic-truth-tables.html",type:"Article"}],deliverable:"Create truth tables for 10 compound propositions. Identify logically equivalent pairs."},{week:2,topic:"Predicates, Quantifiers, and Logical Reasoning",description:"Use predicates, universal and existential quantifiers. Translate between English and formal logic.",resources:[{title:"Predicate Logic and Quantifiers",url:"https://www.youtube.com/watch?v=8xvHsh3MGvg",type:"Video"},{title:"Quantifiers Explained",url:"https://www.mathsisfun.com/sets/logic-predicates-quantifiers.html",type:"Article"}],deliverable:"Translate 10 English statements into predicate logic with quantifiers. Prove simple quantified statements."},{week:3,topic:"Proof Techniques: Direct Proof and Proof by Contradiction",description:"Master direct proofs and proof by contradiction. Practice formal mathematical reasoning.",resources:[{title:"Proof Techniques",url:"https://www.youtube.com/watch?v=FMh8qNV3PHk",type:"Video"},{title:"Mathematical Proofs",url:"https://www.mathsisfun.com/algebra/mathematical-induction.html",type:"Article"}],deliverable:"Write 5 formal proofs: 3 direct proofs and 2 proofs by contradiction on number theory topics."},{week:4,topic:"Set Theory: Sets, Relations, and Functions",description:"Work with sets, set operations, relations, functions, cardinality, and countability of infinite sets.",resources:[{title:"Set Theory Basics",url:"https://www.youtube.com/playlist?list=PLHXZ9OQGMqxersk8fUxiUMSIx0DBqsKZS",type:"Video"},{title:"Sets and Functions",url:"https://www.mathsisfun.com/sets/",type:"Article"}],deliverable:"Solve 15 problems involving set operations, Venn diagrams, and function properties (injective/surjective/bijective)."},{week:5,topic:"Combinatorics: Permutations, Combinations, and Counting",description:"Learn permutations, combinations, the Pigeonhole Principle, and Pascal's Triangle.",resources:[{title:"Combinatorics",url:"https://www.youtube.com/watch?v=8xvHsh3MGvg",type:"Video"},{title:"Permutations and Combinations",url:"https://www.mathsisfun.com/combinatorics/combinations-permutations.html",type:"Article"}],deliverable:"Solve 20 counting problems using permutations, combinations, and the Pigeonhole Principle."},{week:6,topic:"Mathematical Induction: Weak and Strong Induction",description:"Master weak and strong mathematical induction. Essential for proving recursive algorithms correct.",resources:[{title:"Mathematical Induction",url:"https://www.youtube.com/watch?v=FMh8qNV3PHk",type:"Video"},{title:"Induction Tutorial",url:"https://www.mathsisfun.com/algebra/mathematical-induction.html",type:"Article"}],deliverable:"Write 5 inductive proofs including summations, inequalities, and recursive function correctness."},{week:7,topic:"Number Theory: Modular Arithmetic and GCD",description:"Learn modular arithmetic, GCD, the Euclidean Algorithm, and basics of RSA encryption.",resources:[{title:"Modular Arithmetic",url:"https://www.youtube.com/watch?v=Eg6CTCu8iio",type:"Video"},{title:"Euclidean Algorithm",url:"https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/the-euclidean-algorithm",type:"Article"}],deliverable:"Implement the Euclidean Algorithm. Solve 10 problems involving modular arithmetic and GCD."},{week:8,topic:"Graph Theory Basics: Graphs, Paths, and Connectivity",description:"Study graphs, paths, cycles, trees, and basic graph properties. Connect to algorithms.",resources:[{title:"Graph Theory Introduction",url:"https://www.youtube.com/watch?v=FMh8qNV3PHk",type:"Video"},{title:"Graph Theory Basics",url:"https://www.geeksforgeeks.org/graph-data-structure-and-algorithms/",type:"Article"}],deliverable:"Model 3 real-world problems as graphs. Analyze properties like degree, connectivity, and paths."},{week:9,topic:"Final Assessment: Discrete Math Portfolio",description:"Complete one Ellis Activity demonstrating mastery of discrete mathematics.",resources:[],deliverable:"Submit your chosen Ellis Activity (proof collection, problem set, or teaching resource)."}],ellis_activities:{builder:{title:"Discrete Math Application Project",description:"Apply discrete math to solve a real CS problem: model a network as a graph, use combinatorics for optimization, or implement cryptographic algorithms."},academic:{title:"Discrete Math Problem Set",description:"Complete 25-30 rigorous problems covering logic, sets, combinatorics, induction, number theory, and graph theory."},communicator:{title:"Teach a Discrete Math Topic",description:"Create a detailed lesson (slides or video) teaching one discrete math topic (e.g., induction, combinatorics, or graph theory) to AP CSA students."}}},"Sys 201: Computer Systems (The Hardware/Software Interface)":{prereqs:["AP Computer Science A"],description:"Peeking under the hood. Move from Java's managed memory to C and Assembly, learning how hardware executes software.",tier:1,weeks:[{week:1,topic:"C Programming: Pointers and Address Arithmetic",description:"Learn C basics, pointers, address arithmetic, and manual memory management.",resources:[{title:"C Programming Tutorial",url:"https://www.youtube.com/watch?v=KJgsSFOSQv0",type:"Video"},{title:"Pointers in C",url:"https://www.geeksforgeeks.org/pointers-in-c-and-c-set-1-introduction-arithmetic-and-array/",type:"Article"}],deliverable:"Write 5 C programs using pointers. Implement a function that swaps two integers using pointers."},{week:2,topic:"Manual Memory Management: malloc and free",description:"Master dynamic memory allocation with malloc, calloc, realloc, and free. Understand memory leaks.",resources:[{title:"Memory Management in C",url:"https://www.youtube.com/watch?v=9uAjCrxqtP4",type:"Video"},{title:"malloc and free",url:"https://www.geeksforgeeks.org/dynamic-memory-allocation-in-c-using-malloc-calloc-free-and-realloc/",type:"Article"}],deliverable:"Implement a dynamic array in C using malloc. Ensure no memory leaks with proper free() calls."},{week:3,topic:"C Structs and Data Representation",description:"Use structs to organize data. Understand memory layout and alignment.",resources:[{title:"C Structures",url:"https://www.youtube.com/watch?v=9uAjCrxqtP4",type:"Video"},{title:"Structs in C",url:"https://www.geeksforgeeks.org/structures-c/",type:"Article"}],deliverable:"Create a struct for a student record. Write functions to create, modify, and print student data."},{week:4,topic:"Data Representation: Bits, Bytes, and Two's Complement",description:"Understand binary representation, two's complement for signed integers, and hexadecimal notation.",resources:[{title:"Number Systems",url:"https://www.youtube.com/watch?v=ot-ufo2AJ_c",type:"Video"},{title:"Two's Complement",url:"https://www.geeksforgeeks.org/1s-2s-complement-binary-number/",type:"Article"}],deliverable:"Convert numbers between decimal, binary (two's complement), and hex. Perform binary arithmetic."},{week:5,topic:"Floating Point Representation: IEEE 754",description:"Learn how floating point numbers are represented in memory using IEEE 754 standard.",resources:[{title:"IEEE 754 Floating Point",url:"https://www.youtube.com/watch?v=8afbTaA-gOQ",type:"Video"},{title:"Floating Point Representation",url:"https://www.geeksforgeeks.org/ieee-standard-754-floating-point-numbers/",type:"Article"}],deliverable:"Convert decimal numbers to IEEE 754 single and double precision. Understand precision limitations."},{week:6,topic:"Assembly Language: x86-64 Basics",description:"Introduction to x86-64 assembly: registers, instructions, and basic operations.",resources:[{title:"x86-64 Assembly",url:"https://www.youtube.com/watch?v=wLXIWKUWpSs",type:"Video"},{title:"Assembly Language Basics",url:"https://www.tutorialspoint.com/assembly_programming/",type:"Article"}],deliverable:"Write 3 simple assembly programs: add two numbers, loop, and call a function."},{week:7,topic:"The Stack Frame and Calling Conventions",description:"Understand how function calls work: stack frames, parameter passing, and return values.",resources:[{title:"Stack Frames",url:"https://www.youtube.com/watch?v=7r_LMQf6c5U",type:"Video"},{title:"Calling Conventions",url:"https://en.wikipedia.org/wiki/Calling_convention",type:"Article"}],deliverable:"Trace a recursive function's stack frames. Draw stack diagrams for nested function calls."},{week:8,topic:"Linking and Loading: Object Files and Libraries",description:"Learn how compilers, linkers, and loaders work. Understand object files and static/dynamic linking.",resources:[{title:"Linking and Loading",url:"https://www.youtube.com/watch?v=wLXIWKUWpSs",type:"Video"},{title:"Linkers and Loaders",url:"https://www.geeksforgeeks.org/static-and-dynamic-linking-in-operating-systems/",type:"Article"}],deliverable:"Compile a multi-file C program. Examine object files and understand the linking process."},{week:9,topic:"Final Assessment: Systems Programming Project",description:"Complete one Ellis Activity demonstrating mastery of computer systems concepts.",resources:[],deliverable:"Submit your chosen Ellis Activity (C program, assembly analysis, or teaching resource)."}],ellis_activities:{builder:{title:"Systems Programming Project",description:"Build a C program that demonstrates memory management, pointers, and structs (e.g., a simple memory allocator or data structure library)."},academic:{title:"Computer Systems Problem Set",description:"Complete 20-25 problems covering C programming, memory management, data representation, and assembly language."},communicator:{title:"Explain How Code Executes",description:"Create a tutorial explaining how a simple C program compiles, links, and executes, including assembly representation."}}},"CS 301: Design & Analysis of Algorithms":{prereqs:["CS 102: Data Structures & Functional Utility","Math 201: Discrete Mathematics for CS"],description:"The primary filter for Big Tech interviews and the theoretical peak of the undergraduate core. Focuses on solving hard problems efficiently.",tier:2,weeks:[{week:1,topic:"Graph Algorithms: Dijkstra and Shortest Paths",description:"Implement Dijkstra's algorithm for single-source shortest paths. Understand priority queue usage.",resources:[{title:"Dijkstra's Algorithm",url:"https://www.youtube.com/watch?v=XB4MIexjvY0",type:"Video"},{title:"Shortest Path Algorithms",url:"https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-greedy-algo-7/",type:"Article"}],deliverables:{builder:{title:"Dijkstra's Algorithm Implementation Project",description:"Build a complete implementation of Dijkstra's algorithm with visualization. Create a program that finds shortest paths in a weighted graph and displays the path visually (using a graph visualization library or ASCII art). Include test cases with different graph structures.",guidelines:["Working implementation that correctly finds shortest paths","Visualization of the algorithm execution (graph drawing or step-by-step output)","At least 5 test cases covering different scenarios (small/large graphs, different edge weights)","Clean, documented code with comments explaining key steps","README explaining how to run and what the program does"]},academic:{title:"Dijkstra's Algorithm Assessment",description:"Complete a written test covering: (1) Step-by-step execution of Dijkstra's on a given graph, (2) Time complexity analysis (O(V log V + E) with binary heap), (3) Comparison with other shortest path algorithms, (4) Edge cases (negative weights, disconnected graphs). Submit solutions with detailed explanations.",guidelines:["Show complete step-by-step execution on provided graph (show priority queue state at each step)","Prove time complexity O(V log V + E) with binary heap implementation","Compare Dijkstra with at least 2 other algorithms (BFS, Bellman-Ford, Floyd-Warshall)","Explain why Dijkstra fails with negative weights with a counterexample","All solutions must be handwritten or typed with clear mathematical notation"]},communicator:{title:"Dijkstra's Algorithm Presentation",description:"Create a 10-15 minute presentation explaining Dijkstra's algorithm. Include: (1) Problem it solves, (2) How the algorithm works with step-by-step example, (3) Priority queue data structure role, (4) Time complexity analysis, (5) Real-world applications (GPS navigation, network routing). Use visual aids and live demonstration if possible.",guidelines:["10-15 minute presentation (recorded video or live)","Visual aids required: diagrams showing graph, priority queue, and path construction","Walk through at least one complete example step-by-step","Explain time complexity with clear reasoning","Discuss at least 2 real-world applications with examples","Clear speaking, organized slides, and engaging delivery"]}}},{week:2,topic:"Graph Algorithms: Bellman-Ford and Negative Weights",description:"Learn Bellman-Ford for graphs with negative edges. Detect negative cycles.",resources:[{title:"Bellman-Ford Algorithm",url:"https://www.youtube.com/watch?v=obWXjtg0L64",type:"Video"},{title:"Bellman-Ford Tutorial",url:"https://www.geeksforgeeks.org/bellman-ford-algorithm-dp-23/",type:"Article"}],deliverables:{builder:{title:"Bellman-Ford Implementation and Comparison Project",description:"Implement Bellman-Ford algorithm with negative cycle detection. Build a comparison tool that runs both Dijkstra and Bellman-Ford on the same graphs and generates a performance report showing when each algorithm is appropriate. Include visualization of the relaxation process.",guidelines:["Working Bellman-Ford implementation with negative cycle detection","Comparison tool that benchmarks both algorithms on same graphs","Performance report analyzing when each algorithm is better","Visualization showing relaxation process (distance updates)","Test cases including graphs with negative edges and negative cycles"]},academic:{title:"Bellman-Ford Algorithm Assessment",description:"Complete a written test covering: (1) Step-by-step execution of Bellman-Ford on a graph with negative edges, (2) Negative cycle detection process, (3) Time complexity analysis (O(VE)), (4) When to use Bellman-Ford vs Dijkstra, (5) Proof of correctness for negative cycle detection. Submit detailed solutions.",guidelines:["Show complete step-by-step execution with distance array updates at each iteration","Demonstrate negative cycle detection with a graph containing a negative cycle","Prove time complexity O(VE) with clear analysis","Compare Bellman-Ford vs Dijkstra with decision tree for when to use each","Provide proof sketch for why V-1 iterations are sufficient (or counterexample if not)"]},communicator:{title:"Bellman-Ford Algorithm Presentation",description:"Create a 10-15 minute presentation explaining Bellman-Ford algorithm. Include: (1) Why Dijkstra fails with negative weights, (2) How Bellman-Ford handles negative edges, (3) Relaxation process with examples, (4) Negative cycle detection, (5) Real-world applications (arbitrage detection, network routing with costs). Use visual demonstrations.",guidelines:["10-15 minute presentation with clear structure","Demonstrate why Dijkstra fails with negative weights using visual example","Show relaxation process with animated or step-by-step diagrams","Explain negative cycle detection with example graph","Discuss real-world applications (arbitrage, routing) with concrete examples","Engaging visuals and clear explanations"]}}},{week:3,topic:"All-Pairs Shortest Paths: Floyd-Warshall",description:"Master Floyd-Warshall for finding shortest paths between all pairs of vertices.",resources:[{title:"Floyd-Warshall Algorithm",url:"https://www.youtube.com/watch?v=oNI0rf2P9gE",type:"Video"},{title:"Floyd-Warshall Tutorial",url:"https://www.geeksforgeeks.org/floyd-warshall-algorithm-dp-16/",type:"Article"}],deliverables:{builder:{title:"Floyd-Warshall Implementation and Path Reconstruction",description:"Implement Floyd-Warshall algorithm with path reconstruction. Build a tool that not only finds shortest distances but also reconstructs the actual paths between all pairs. Create a visualization showing the distance matrix at each iteration and the final shortest paths.",guidelines:["Complete Floyd-Warshall implementation with path reconstruction","Visualization showing distance matrix at each iteration (k=0, k=1, k=2, etc.)","Function to reconstruct actual paths between any two vertices","Interactive tool or clear output showing matrix evolution","Test on graphs of different sizes (at least 3-4 test cases)"]},academic:{title:"Floyd-Warshall Algorithm Assessment",description:"Complete a written test covering: (1) Step-by-step execution showing distance matrix updates, (2) Dynamic programming recurrence relation, (3) Time complexity analysis (O(V)), (4) Space complexity optimization, (5) When to use Floyd-Warshall vs running Dijkstra V times, (6) Path reconstruction algorithm. Submit detailed solutions.",guidelines:["Show complete distance matrix at each iteration (all k values)","Write and explain the DP recurrence: D[i][j][k] = min(...)","Prove time complexity O(V) with nested loop analysis","Explain space optimization from O(V) to O(V)","Compare Floyd-Warshall vs VDijkstra with complexity and use case analysis","Describe path reconstruction algorithm step-by-step"]},communicator:{title:"Floyd-Warshall Algorithm Presentation",description:"Create a 10-15 minute presentation explaining Floyd-Warshall algorithm. Include: (1) Problem of all-pairs shortest paths, (2) Dynamic programming approach with intermediate vertices, (3) Distance matrix updates with examples, (4) Path reconstruction, (5) Comparison with other approaches, (6) Applications (social network analysis, transitive closure). Use matrix visualizations.",guidelines:["10-15 minute presentation with matrix visualizations","Explain the DP idea: allowing intermediate vertices 0..k","Show matrix updates with clear before/after comparisons","Demonstrate path reconstruction with example","Compare with alternative approaches (VDijkstra, VBellman-Ford)","Discuss applications with concrete examples (social networks, transitive closure)"]}}},{week:4,topic:"Minimum Spanning Trees: Prim and Kruskal",description:"Learn Prim's and Kruskal's algorithms for finding minimum spanning trees.",resources:[{title:"MST Algorithms",url:"https://www.youtube.com/watch?v=4ZlRH0eK-qQ",type:"Video"},{title:"Prim and Kruskal",url:"https://www.geeksforgeeks.org/kruskals-minimum-spanning-tree-algorithm-greedy-algo-2/",type:"Article"}],deliverables:{builder:{title:"MST Algorithms Implementation and Comparison Project",description:"Implement both Prim's and Kruskal's algorithms. Build a comparison tool that visualizes the MST construction process for both algorithms side-by-side. Include performance benchmarking on different graph types (dense vs sparse) and create a report analyzing when each algorithm is more efficient.",guidelines:["Working implementations of both Prim's and Kruskal's algorithms","Side-by-side visualization showing MST construction for both","Performance benchmarking on dense graphs (E  V) and sparse graphs (E  V)","Written report analyzing when each algorithm is more efficient","At least 3 test cases with different graph structures","Include Union-Find implementation for Kruskal"]},academic:{title:"MST Algorithms Assessment",description:"Complete a written test covering: (1) Step-by-step execution of Prim's algorithm on a given graph, (2) Step-by-step execution of Kruskal's algorithm, (3) Time complexity analysis for both (with different data structures), (4) Proof of correctness (cut property), (5) When to use Prim vs Kruskal, (6) Union-Find data structure for Kruskal. Submit detailed solutions.",guidelines:["Show step-by-step execution of Prim's (show priority queue and selected edges)","Show step-by-step execution of Kruskal's (show sorted edges and Union-Find operations)","Analyze time complexity: Prim with binary heap O(E log V), Kruskal with Union-Find O(E log E)","Prove correctness using cut property (at least outline the proof)","Decision criteria: when to use Prim vs Kruskal based on graph density","Explain Union-Find operations (Find, Union) with path compression"]},communicator:{title:"MST Algorithms Presentation",description:"Create a 10-15 minute presentation comparing Prim's and Kruskal's algorithms. Include: (1) What is a minimum spanning tree, (2) How Prim's algorithm works (greedy approach from a vertex), (3) How Kruskal's algorithm works (greedy approach on edges), (4) Visual comparison of both algorithms, (5) Time complexity comparison, (6) Real-world applications (network design, clustering). Use graph visualizations.",guidelines:["10-15 minute presentation with graph visualizations","Define MST clearly with examples","Explain Prim's greedy approach: grow tree from a vertex","Explain Kruskal's greedy approach: add edges in sorted order","Side-by-side visual comparison showing both algorithms on same graph","Time complexity comparison table","Real-world applications with concrete examples (network cables, clustering)"]}}},{week:5,topic:"Divide and Conquer: Merge Sort and Quick Sort Analysis",description:"Deep dive into divide-and-conquer paradigm. Analyze merge sort and quicksort complexity.",resources:[{title:"Divide and Conquer",url:"https://www.youtube.com/watch?v=2Rr2tW9zRga",type:"Video"},{title:"Merge Sort Analysis",url:"https://www.geeksforgeeks.org/merge-sort/",type:"Article"}],deliverables:{builder:{title:"Sorting Algorithms Implementation and Benchmarking Project",description:"Implement merge sort and quicksort with detailed performance analysis. Build a benchmarking tool that compares both algorithms on different input types (random, sorted, reverse sorted, nearly sorted). Visualize the sorting process and create graphs showing time complexity in practice. Include analysis of space complexity.",guidelines:["Working implementations of both merge sort and quicksort","Benchmarking tool testing on random, sorted, reverse sorted, and nearly sorted arrays","Graphs/charts showing actual runtime vs input size (verify O(n log n))","Visualization of sorting process (optional but recommended)","Written analysis comparing performance and space usage","Test with arrays of sizes: 100, 1000, 10000, 100000 elements"]},academic:{title:"Divide and Conquer Sorting Assessment",description:"Complete a written test covering: (1) Recurrence relation for merge sort and solving it using Master Theorem, (2) Recurrence relation for quicksort (best, average, worst case), (3) Step-by-step execution of both algorithms, (4) Space complexity analysis, (5) When to use merge sort vs quicksort, (6) Stability and in-place sorting concepts. Submit detailed solutions with proofs.",guidelines:["Write recurrence T(n) = 2T(n/2) + O(n) for merge sort and solve using Master Theorem","Write recurrences for quicksort: best case T(n) = 2T(n/2) + O(n), worst case T(n) = T(n-1) + O(n)","Show step-by-step execution of merge sort on array [5,2,8,1,9]","Show step-by-step execution of quicksort on same array","Analyze space complexity: merge sort O(n), quicksort O(log n) average","Compare when to use each: stability, worst-case guarantees, space constraints"]},communicator:{title:"Divide and Conquer Sorting Presentation",description:"Create a 10-15 minute presentation explaining divide-and-conquer sorting. Include: (1) Divide-and-conquer paradigm overview, (2) How merge sort works with visual demonstration, (3) How quicksort works with pivot selection strategies, (4) Time complexity analysis using recurrence relations, (5) Comparison of both algorithms, (6) Real-world applications and optimizations. Use visual animations.",guidelines:["10-15 minute presentation with visual animations","Explain divide-and-conquer paradigm with general structure","Animate merge sort: show divide phase and merge phase clearly","Animate quicksort: show partitioning and recursive calls","Derive time complexity using recurrence relations visually","Comparison table: stability, worst-case, space, when to use","Discuss real-world optimizations (introsort, timsort)"]}}},{week:6,topic:"Dynamic Programming: Tabulation and Memoization",description:"Master DP techniques: bottom-up (tabulation) and top-down (memoization). Solve classic DP problems.",resources:[{title:"Dynamic Programming",url:"https://www.youtube.com/watch?v=oBt53YbR9Kk",type:"Video"},{title:"DP Tutorial",url:"https://www.geeksforgeeks.org/dynamic-programming/",type:"Article"}],deliverables:{builder:{title:"Dynamic Programming Problem Solver Project",description:"Build a comprehensive DP problem solver that implements both memoization and tabulation for multiple classic problems (Fibonacci, 0/1 Knapsack, Longest Common Subsequence, Edit Distance). Include visualization of the DP table filling process and comparison of time/space complexity between both approaches. Create a framework that can solve new DP problems.",guidelines:["Implement at least 4 classic DP problems (Fibonacci, Knapsack, LCS, Edit Distance)","Both memoization and tabulation versions for each problem","Visualization showing DP table filling (can be ASCII or simple graphics)","Performance comparison: time and space for both approaches","Framework/interface that makes it easy to add new DP problems","Documentation explaining how to use the framework"]},academic:{title:"Dynamic Programming Assessment",description:"Complete a written test covering: (1) Identifying when to use DP (optimal substructure, overlapping subproblems), (2) Converting recursive solution to memoized version, (3) Converting memoized solution to tabulation, (4) Space optimization techniques, (5) Solving 5-7 DP problems with both approaches, (6) Time/space complexity analysis. Submit detailed solutions with DP table traces.",guidelines:["Identify optimal substructure and overlapping subproblems in given problems","Convert recursive Fibonacci to memoized version with code","Convert memoized solution to tabulation with code","Show space optimization: 2D DP  1D DP (e.g., knapsack)","Solve 5-7 DP problems showing DP table traces (fill tables step-by-step)","Analyze time/space complexity for each problem and approach"]},communicator:{title:"Dynamic Programming Presentation",description:"Create a 10-15 minute presentation explaining dynamic programming. Include: (1) What is DP and when to use it, (2) Memoization vs tabulation with examples, (3) Step-by-step solution of a classic problem (e.g., knapsack) showing both approaches, (4) DP table visualization, (5) Common DP patterns (1D, 2D, knapsack, LCS), (6) Real-world applications. Use visual aids and live coding.",guidelines:["10-15 minute presentation with DP table visualizations","Explain when to use DP: optimal substructure + overlapping subproblems","Compare memoization vs tabulation with side-by-side examples","Walk through complete solution of knapsack problem showing table filling","Cover common DP patterns with examples (1D, 2D, knapsack, LCS)","Discuss real-world applications (sequence alignment, resource allocation)"]}}},{week:7,topic:"Greedy Algorithms: Design and Proof Techniques",description:"Learn when greedy algorithms work. Study activity selection, fractional knapsack, and Huffman coding.",resources:[{title:"Greedy Algorithms",url:"https://www.youtube.com/watch?v=HzeK7g8cD0Y",type:"Video"},{title:"Greedy Strategy",url:"https://www.geeksforgeeks.org/greedy-algorithms/",type:"Article"}],deliverables:{builder:{title:"Greedy Algorithms Implementation Portfolio",description:"Implement three greedy algorithms: Activity Selection, Fractional Knapsack, and Huffman Coding. For each, create a visualization showing the greedy choices being made step-by-step. Build a comparison tool showing when greedy works vs when it fails (e.g., 0/1 knapsack). Include proof sketches for why each greedy choice is optimal.",guidelines:["Working implementations of Activity Selection, Fractional Knapsack, and Huffman Coding","Visualization showing greedy choices step-by-step for each algorithm","Comparison tool demonstrating greedy success vs failure (0/1 knapsack counterexample)","Proof sketches explaining why each greedy choice is optimal","Test cases for each algorithm with different inputs","Documentation explaining the greedy strategy for each problem"]},academic:{title:"Greedy Algorithms Assessment",description:"Complete a written test covering: (1) Greedy choice property and optimal substructure, (2) Step-by-step execution of activity selection, fractional knapsack, and Huffman coding, (3) Proof of correctness for one greedy algorithm (e.g., activity selection), (4) When greedy algorithms fail (0/1 knapsack example), (5) Comparison with DP solutions. Submit detailed solutions with proofs.",guidelines:["Define greedy choice property and optimal substructure clearly","Show step-by-step execution of all three algorithms on provided inputs","Provide formal proof of correctness for activity selection (or another chosen algorithm)","Demonstrate when greedy fails: show 0/1 knapsack counterexample","Compare greedy vs DP solution for same problem (e.g., activity selection vs weighted activity selection)","All proofs must be rigorous with clear logical steps"]},communicator:{title:"Greedy Algorithms Presentation",description:"Create a 10-15 minute presentation explaining greedy algorithms. Include: (1) What makes an algorithm greedy, (2) Greedy choice property and optimal substructure, (3) Step-by-step examples of 2-3 greedy algorithms, (4) Proof techniques for greedy correctness, (5) When greedy fails and why, (6) Real-world applications (scheduling, compression). Use visual demonstrations.",guidelines:["10-15 minute presentation with visual demonstrations","Define what makes an algorithm greedy with clear examples","Explain greedy choice property and optimal substructure conceptually","Walk through 2-3 greedy algorithms step-by-step with visual aids","Explain proof techniques (exchange argument, cut-and-paste) with example","Show when greedy fails with concrete counterexample","Discuss real-world applications with specific use cases"]}}},{week:8,topic:"Complexity Theory: P vs NP and NP-Completeness",description:"Introduction to computational complexity. Understand P, NP, NP-complete, and reductions.",resources:[{title:"P vs NP",url:"https://www.youtube.com/watch?v=YX40hbAHx3s",type:"Video"},{title:"NP-Completeness",url:"https://www.geeksforgeeks.org/np-completeness-set-1/",type:"Article"}],deliverables:{builder:{title:"Complexity Theory Problem Classifier",description:"Build a tool that classifies problems into complexity classes (P, NP, NP-Complete, NP-Hard). Implement polynomial-time reductions between problems (e.g., reduce 3-SAT to Vertex Cover). Create visualizations showing the relationships between complexity classes and include examples of problems in each class. Build a decision tree for classifying new problems.",guidelines:["Tool that classifies at least 10 problems into complexity classes","Implement at least one polynomial-time reduction (e.g., 3-SAT to Vertex Cover)","Visualization showing relationships between P, NP, NP-Complete, NP-Hard","Examples of problems in each class with brief explanations","Decision tree or flowchart for classifying new problems","Documentation explaining how reductions work"]},academic:{title:"Complexity Theory Assessment",description:"Complete a written test covering: (1) Definitions of P, NP, NP-Complete, NP-Hard, (2) Relationship between complexity classes, (3) Polynomial-time reduction from one NP-Complete problem to another, (4) Identifying which complexity class various problems belong to, (5) Cook-Levin theorem overview, (6) Implications of P=NP. Submit detailed solutions with proofs where applicable.",guidelines:["Provide formal definitions of P, NP, NP-Complete, NP-Hard","Draw and explain the relationship diagram between complexity classes","Perform polynomial-time reduction from 3-SAT to another NP-Complete problem (show transformation)","Classify at least 5 problems into their complexity classes with justification","Explain Cook-Levin theorem and its significance","Discuss implications of P=NP (what would it mean if proven?)"]},communicator:{title:"Complexity Theory Presentation",description:"Create a 10-15 minute presentation explaining computational complexity. Include: (1) P vs NP problem explained simply, (2) Definitions of P, NP, NP-Complete, NP-Hard with examples, (3) Polynomial-time reductions with an example, (4) Why NP-Complete problems are important, (5) Implications of solving P vs NP, (6) Approximation algorithms for NP-Complete problems. Use visual diagrams of complexity class relationships.",guidelines:["10-15 minute presentation with visual diagrams","Explain P vs NP problem in accessible terms (no heavy math jargon)","Define each complexity class with concrete problem examples","Walk through one polynomial-time reduction step-by-step","Explain why NP-Complete problems matter (practical implications)","Discuss what solving P vs NP would mean for cryptography, optimization","Cover approximation algorithms as practical solution for NP-Complete problems"]}}},{week:9,topic:"Final Assessment: Algorithm Design Portfolio",description:"Complete one Ellis Activity demonstrating mastery of algorithm design and analysis.",resources:[],deliverables:{builder:{title:"Comprehensive Algorithm Library Project",description:"Build a complete algorithm library covering all topics from the course: graph algorithms (Dijkstra, Bellman-Ford, Floyd-Warshall, MST), divide-and-conquer sorting, dynamic programming solutions, and greedy algorithms. Include comprehensive testing, documentation, complexity analysis, and visualizations. Create a unified interface for accessing all algorithms.",guidelines:["Implement at least 8 algorithms covering all course topics","Comprehensive test suite with edge cases for each algorithm","Full documentation: API reference, usage examples, complexity analysis","Visualizations for at least 3 algorithms showing execution","Unified interface/API for accessing all algorithms","Performance benchmarks comparing implementations","README with installation, usage, and contribution guidelines"]},academic:{title:"Comprehensive Algorithm Design Exam",description:"Complete a comprehensive written exam covering all course topics: (1) Design and analyze algorithms for new problems, (2) Choose appropriate algorithm paradigms, (3) Prove correctness and analyze complexity, (4) Compare different approaches, (5) Solve 5-7 complex problems requiring multiple techniques. Submit detailed solutions with proofs and analysis.",guidelines:["Design algorithms for 2-3 new problems not covered in class","Justify choice of algorithm paradigm (greedy, DP, divide-and-conquer, etc.)","Provide correctness proofs for at least 2 algorithms","Complete complexity analysis (time and space) for all solutions","Compare different approaches to same problem (e.g., greedy vs DP)","Solve 5-7 complex problems requiring multiple techniques","All solutions must be rigorous with clear reasoning"]},communicator:{title:"Algorithm Design Course Presentation",description:"Create a 20-30 minute comprehensive presentation summarizing the entire course. Include: (1) Overview of all algorithm paradigms covered, (2) When to use each approach with examples, (3) Complexity analysis techniques, (4) Real-world applications of algorithms, (5) Your favorite algorithm and why, (6) Future learning directions. Use visual aids and live demonstrations.",guidelines:["20-30 minute comprehensive presentation","Overview of all paradigms: greedy, DP, divide-and-conquer, graph algorithms","Decision framework: when to use each paradigm with examples","Explain complexity analysis techniques (recurrence relations, Master Theorem, etc.)","Real-world applications with specific examples for each paradigm","Deep dive into your favorite algorithm: why you chose it, how it works, applications","Future learning directions: advanced topics, research areas, practical skills","Engaging visuals, clear structure, and confident delivery"]}}}],ellis_activities:{builder:{title:"Algorithm Library",description:"Implement a library of algorithms: graph algorithms (Dijkstra, MST), sorting, DP solutions, and greedy algorithms with complexity analysis."},academic:{title:"Algorithm Problem Marathon",description:"Solve 30-40 LeetCode/HackerRank problems covering all major algorithm paradigms: graphs, DP, greedy, and divide-and-conquer."},communicator:{title:"Algorithm Explanation Series",description:"Create video tutorials explaining 3-4 complex algorithms (e.g., Dijkstra, DP, MST) with visualizations and step-by-step walkthroughs."}}},"Sys 301: Operating Systems (OS)":{prereqs:["Sys 201: Computer Systems (The Hardware/Software Interface)","CS 102: Data Structures & Functional Utility"],description:"Building the software that manages the hardware. Famous for massive C coding projects (building a kernel, file system, or shell).",tier:2,weeks:[{week:1,topic:"Concurrency: Processes vs Threads",description:"Understand the difference between processes and threads. Learn process creation and management.",resources:[{title:"Processes and Threads",url:"https://www.youtube.com/watch?v=mXw9ruZaxzQ",type:"Video"},{title:"Process Management",url:"https://www.geeksforgeeks.org/operating-systems/",type:"Article"}],deliverable:"Write C programs using fork() to create processes. Compare process vs thread creation overhead."},{week:2,topic:"Race Conditions and Synchronization",description:"Understand race conditions, critical sections, and why synchronization is needed.",resources:[{title:"Race Conditions",url:"https://www.youtube.com/watch?v=p4RZQF3cSkg",type:"Video"},{title:"Synchronization",url:"https://www.geeksforgeeks.org/process-synchronization-in-operating-system/",type:"Article"}],deliverable:"Write a program that demonstrates a race condition. Fix it using synchronization primitives."},{week:3,topic:"Locks, Semaphores, and Mutexes",description:"Implement synchronization using locks, semaphores, and mutexes. Understand deadlock.",resources:[{title:"Locks and Semaphores",url:"https://www.youtube.com/watch?v=8X9c6r6pI0c",type:"Video"},{title:"Semaphores",url:"https://www.geeksforgeeks.org/semaphores-in-process-synchronization/",type:"Article"}],deliverable:"Implement producer-consumer and reader-writer problems using semaphores. Detect and prevent deadlock."},{week:4,topic:"CPU Scheduling: Context Switching and Algorithms",description:"Learn CPU scheduling algorithms: FCFS, Round Robin, Priority, and SJF. Understand context switching.",resources:[{title:"CPU Scheduling",url:"https://www.youtube.com/watch?v=CSZLNYF-768",type:"Video"},{title:"Scheduling Algorithms",url:"https://www.geeksforgeeks.org/cpu-scheduling-in-operating-systems/",type:"Article"}],deliverable:"Simulate 4 CPU scheduling algorithms. Compare average waiting time and turnaround time."},{week:5,topic:"Virtual Memory: Paging and Segmentation",description:"Understand virtual memory, paging, segmentation, and how addresses are translated.",resources:[{title:"Virtual Memory",url:"https://www.youtube.com/watch?v=7aNVGkltFRM",type:"Video"},{title:"Paging",url:"https://www.geeksforgeeks.org/paging-in-operating-system/",type:"Article"}],deliverable:"Simulate paging with page tables. Handle page faults and implement page replacement algorithms (LRU, FIFO)."},{week:6,topic:"TLBs, Page Faults, and Caching Strategies",description:"Learn Translation Lookaside Buffers (TLBs), page fault handling, and memory caching strategies.",resources:[{title:"TLB and Page Faults",url:"https://www.youtube.com/watch?v=7aNVGkltFRM",type:"Video"},{title:"Page Replacement",url:"https://www.geeksforgeeks.org/page-replacement-algorithms-in-operating-systems/",type:"Article"}],deliverable:"Implement LRU and FIFO page replacement. Analyze TLB hit rates and page fault frequencies."},{week:7,topic:"File Systems: inodes, Journaling, and I/O",description:"Understand how file systems organize data. Learn about inodes, directories, and journaling.",resources:[{title:"File Systems",url:"https://www.youtube.com/watch?v=h3BteVQKfD0",type:"Video"},{title:"File System Structure",url:"https://www.geeksforgeeks.org/file-systems-in-operating-system/",type:"Article"}],deliverable:"Design a simple file system structure. Implement basic file operations (create, read, write, delete)."},{week:8,topic:"OS Project: Build a Mini Shell or Kernel Module",description:"Apply OS concepts by building a simple shell or kernel module.",resources:[{title:"Building a Shell",url:"https://www.youtube.com/watch?v=z4LEuxMGGs8",type:"Video"},{title:"Shell Implementation",url:"https://www.geeksforgeeks.org/making-linux-shell-c/",type:"Article"}],deliverable:"Build a mini shell that supports commands, pipes, and background processes. OR implement a kernel module."},{week:9,topic:"Final Assessment: Operating Systems Portfolio",description:"Complete one Ellis Activity demonstrating mastery of operating systems concepts.",resources:[],deliverable:"Submit your chosen Ellis Activity (OS project, problem set, or teaching resource)."}],ellis_activities:{builder:{title:"Operating System Component",description:"Build a significant OS component: a mini shell with pipes/redirection, a simple file system, or a process scheduler simulator."},academic:{title:"Operating Systems Problem Set",description:"Complete 25-30 problems covering processes, threads, synchronization, scheduling, memory management, and file systems."},communicator:{title:"OS Concepts Tutorial",description:"Create a comprehensive tutorial explaining OS concepts (processes, memory, file systems) with diagrams and code examples."}}},"CS 302: Modern Software Engineering (Web Systems)":{prereqs:["CS 102: Data Structures & Functional Utility"],description:"The 'Practical' core. Translating theory into shipped, scalable, maintainable products.",tier:2,weeks:[{week:1,topic:"Full Stack Architecture: REST and GraphQL APIs",description:"Learn RESTful API design and GraphQL. Understand client-server model and HTTP methods.",resources:[{title:"REST API Tutorial",url:"https://www.youtube.com/watch?v=Q-BpqyOT3a8",type:"Video"},{title:"GraphQL Basics",url:"https://www.youtube.com/watch?v=ed8SzALpx1Q",type:"Video"}],deliverable:"Design and implement a REST API with 5 endpoints. Create a simple GraphQL API."},{week:2,topic:"MVC Patterns and Backend Frameworks",description:"Understand Model-View-Controller architecture. Build a backend using Express.js, Flask, or similar.",resources:[{title:"MVC Pattern",url:"https://www.youtube.com/watch?v=1IsL6g2ixak",type:"Video"},{title:"Express.js Tutorial",url:"https://www.youtube.com/watch?v=SccSCuHhOw0",type:"Video"}],deliverable:"Build a backend application using MVC pattern. Implement routes, controllers, and models."},{week:3,topic:"Database Integration: ORMs and SQL",description:"Learn SQL basics and use ORMs (Object-Relational Mapping) to interact with databases.",resources:[{title:"SQL Tutorial",url:"https://www.youtube.com/watch?v=HXV3zeQKqGY",type:"Video"},{title:"ORM Basics",url:"https://www.youtube.com/watch?v=6WcC7Vq1jqE",type:"Video"}],deliverable:"Design a database schema. Use an ORM (Sequelize, SQLAlchemy, etc.) to perform CRUD operations."},{week:4,topic:"SQL vs NoSQL: Trade-offs and Data Modeling",description:"Compare SQL and NoSQL databases. Learn when to use each. Model data for both.",resources:[{title:"SQL vs NoSQL",url:"https://www.youtube.com/watch?v=Q5aTUc7c4jg",type:"Video"},{title:"Database Comparison",url:"https://www.mongodb.com/nosql-explained",type:"Article"}],deliverable:"Design the same application using SQL and NoSQL. Compare schemas and query patterns."},{week:5,topic:"DevOps: CI/CD Pipelines with GitHub Actions",description:"Set up continuous integration and deployment. Automate testing and deployment.",resources:[{title:"GitHub Actions",url:"https://www.youtube.com/watch?v=R8_veQiYBjI",type:"Video"},{title:"CI/CD Basics",url:"https://www.youtube.com/watch?v=scEDHsr3APg",type:"Video"}],deliverable:"Set up a CI/CD pipeline for your project. Automate tests and deploy to a staging environment."},{week:6,topic:"Containerization: Docker and Container Orchestration",description:"Learn Docker basics. Containerize applications and understand container orchestration.",resources:[{title:"Docker Tutorial",url:"https://www.youtube.com/watch?v=fqMOX6JJhGo",type:"Video"},{title:"Docker Basics",url:"https://docs.docker.com/get-started/",type:"Article"}],deliverable:"Containerize your web application. Create Dockerfiles and docker-compose configurations."},{week:7,topic:"Cloud Deployment: AWS, Heroku, or Vercel",description:"Deploy applications to the cloud. Learn cloud services and infrastructure.",resources:[{title:"AWS Tutorial",url:"https://www.youtube.com/watch?v=ulprqHHWlng",type:"Video"},{title:"Cloud Deployment",url:"https://www.youtube.com/watch?v=7B7YxqY3VgY",type:"Video"}],deliverable:"Deploy your full-stack application to a cloud platform. Configure environment variables and domains."},{week:8,topic:"Collaboration: Agile/Scrum, Code Reviews, and Testing",description:"Learn software development practices: Agile methodology, code reviews, and testing strategies.",resources:[{title:"Agile Methodology",url:"https://www.youtube.com/watch?v=Z9QbYZh1YXY",type:"Video"},{title:"Testing Strategies",url:"https://www.youtube.com/watch?v=urrfJgHwIJA",type:"Video"}],deliverable:"Write unit, integration, and end-to-end tests for your application. Conduct a code review."},{week:9,topic:"Final Assessment: Full-Stack Web Application",description:"Complete one Ellis Activity demonstrating mastery of modern software engineering.",resources:[],deliverable:"Submit your chosen Ellis Activity (full-stack project, deployment guide, or teaching resource)."}],ellis_activities:{builder:{title:"Full-Stack Web Application",description:"Build a complete full-stack web application with frontend, backend API, database, CI/CD, and cloud deployment."},academic:{title:"Software Engineering Case Study",description:"Analyze a real-world software system. Document architecture, design patterns, and deployment strategy."},communicator:{title:"Web Development Tutorial Series",description:"Create a tutorial series teaching full-stack development: API design, database integration, and deployment."}}},"AI 401: Intro to Machine Learning":{prereqs:["CS 301: Design & Analysis of Algorithms","Linear Algebra"],description:"Introduction to machine learning: regression, classification, neural networks, and backpropagation.",tier:3,weeks:[{week:1,topic:"Linear Regression and Gradient Descent",description:"Learn linear regression from scratch. Implement gradient descent optimization.",resources:[{title:"Linear Regression",url:"https://www.youtube.com/watch?v=4PHI11lX11I",type:"Video"},{title:"Gradient Descent",url:"https://www.youtube.com/watch?v=sDv4f4s2SB8",type:"Video"}],deliverable:"Implement linear regression with gradient descent from scratch. Visualize the learning process."},{week:2,topic:"Classification: Logistic Regression",description:"Learn logistic regression for binary classification. Understand the sigmoid function and loss.",resources:[{title:"Logistic Regression",url:"https://www.youtube.com/watch?v=yIYKR4sgzI8",type:"Video"},{title:"Classification Basics",url:"https://www.youtube.com/watch?v=J5bXOOmkopc",type:"Video"}],deliverable:"Implement logistic regression. Classify a dataset and evaluate accuracy, precision, and recall."},{week:3,topic:"Neural Networks: Perceptrons and Multi-Layer Networks",description:"Build neural networks from scratch. Understand forward propagation and activation functions.",resources:[{title:"Neural Networks",url:"https://www.youtube.com/watch?v=aircAruvnKk",type:"Video"},{title:"Building Neural Networks",url:"https://www.youtube.com/watch?v=Ilg3gGewQ5U",type:"Video"}],deliverable:"Implement a multi-layer neural network from scratch. Train it on a classification problem."},{week:4,topic:"Backpropagation: Training Neural Networks",description:"Master backpropagation algorithm. Understand how gradients flow through the network.",resources:[{title:"Backpropagation",url:"https://www.youtube.com/watch?v=Ilg3gGewQ5U",type:"Video"},{title:"Backpropagation Explained",url:"https://www.youtube.com/watch?v=GlcnxUlrtek",type:"Video"}],deliverable:"Implement backpropagation manually. Train a neural network and visualize weight updates."},{week:5,topic:"Overfitting, Regularization, and Validation",description:"Learn to prevent overfitting using regularization (L1, L2) and cross-validation.",resources:[{title:"Overfitting and Regularization",url:"https://www.youtube.com/watch?v=K3RjoP8kMqY",type:"Video"},{title:"Cross-Validation",url:"https://www.youtube.com/watch?v=TIgfjmp-4BA",type:"Video"}],deliverable:"Implement L2 regularization. Use cross-validation to tune hyperparameters and prevent overfitting."},{week:6,topic:"Deep Learning Frameworks: PyTorch or TensorFlow",description:"Learn to use PyTorch or TensorFlow. Build and train models using high-level APIs.",resources:[{title:"PyTorch Tutorial",url:"https://www.youtube.com/watch?v=ORMx45xqWkA",type:"Video"},{title:"TensorFlow Basics",url:"https://www.youtube.com/watch?v=tPYj3fFJGjk",type:"Video"}],deliverable:"Build a neural network using PyTorch or TensorFlow. Train it on a real dataset (MNIST, CIFAR-10)."},{week:7,topic:"Convolutional Neural Networks (CNNs) for Computer Vision",description:"Introduction to CNNs. Learn convolutions, pooling, and image classification.",resources:[{title:"CNNs Explained",url:"https://www.youtube.com/watch?v=FmpDIaiMIeA",type:"Video"},{title:"Computer Vision",url:"https://www.youtube.com/watch?v=aircAruvnKk",type:"Video"}],deliverable:"Build a CNN for image classification. Train on CIFAR-10 or a custom image dataset."},{week:8,topic:"Recurrent Neural Networks (RNNs) and LSTMs",description:"Learn RNNs and LSTMs for sequence data. Understand vanishing gradients and solutions.",resources:[{title:"RNNs and LSTMs",url:"https://www.youtube.com/watch?v=9zhrxE5PEg4",type:"Video"},{title:"LSTM Explained",url:"https://www.youtube.com/watch?v=YCzL96nL7j0",type:"Video"}],deliverable:"Build an LSTM for text classification or time series prediction. Compare with simple RNN."},{week:9,topic:"Final Assessment: Machine Learning Project",description:"Complete one Ellis Activity demonstrating mastery of machine learning.",resources:[],deliverable:"Submit your chosen Ellis Activity (ML project, model comparison, or teaching resource)."}],ellis_activities:{builder:{title:"End-to-End ML Project",description:"Build a complete ML project: data collection, preprocessing, model training, evaluation, and deployment."},academic:{title:"ML Algorithm Implementation",description:"Implement 5-7 ML algorithms from scratch (linear regression, logistic regression, neural network, CNN, RNN) with detailed documentation."},communicator:{title:"ML Concepts Tutorial",description:"Create a tutorial series explaining ML concepts (gradient descent, backpropagation, CNNs) with visualizations and code."}}},"AI 402: Deep Learning & Neural Networks":{prereqs:["AI 401: Intro to Machine Learning"],description:"Advanced deep learning: CNNs for computer vision, RNNs/LSTMs for sequences, and Transformers with attention mechanisms.",tier:3,weeks:[{week:1,topic:"Advanced CNNs: Architectures and Transfer Learning",description:"Study ResNet, VGG, and modern CNN architectures. Learn transfer learning and fine-tuning.",resources:[{title:"CNN Architectures",url:"https://www.youtube.com/watch?v=aircAruvnKk",type:"Video"},{title:"Transfer Learning",url:"https://www.youtube.com/watch?v=yofjFQddwHE",type:"Video"}],deliverable:"Implement a ResNet or VGG architecture. Use transfer learning to fine-tune on a custom dataset."},{week:2,topic:"Computer Vision: Object Detection and Segmentation",description:"Learn YOLO, R-CNN, and semantic segmentation. Understand object detection pipelines.",resources:[{title:"Object Detection",url:"https://www.youtube.com/watch?v=4m9F3oqybgk",type:"Video"},{title:"YOLO Algorithm",url:"https://www.youtube.com/watch?v=MPU2HistivI",type:"Video"}],deliverable:"Implement object detection using a pre-trained model. Detect objects in images or video."},{week:3,topic:"RNNs and LSTMs: Advanced Sequence Modeling",description:"Deep dive into RNNs, LSTMs, and GRUs. Understand sequence-to-sequence models.",resources:[{title:"Advanced RNNs",url:"https://www.youtube.com/watch?v=9zhrxE5PEg4",type:"Video"},{title:"Sequence Models",url:"https://www.youtube.com/watch?v=YCzL96nL7j0",type:"Video"}],deliverable:"Build a sequence-to-sequence model for machine translation or text generation."},{week:4,topic:"Transformers: Attention Mechanisms",description:"Learn the Transformer architecture. Understand self-attention and multi-head attention.",resources:[{title:"Transformers",url:"https://www.youtube.com/watch?v=U0s0f995w14",type:"Video"},{title:"Attention Mechanism",url:"https://www.youtube.com/watch?v=5vcj8kSwBCY",type:"Video"}],deliverable:"Implement a Transformer from scratch. Build a simple language model or translation system."},{week:5,topic:"BERT and Pre-trained Language Models",description:"Study BERT, GPT, and other pre-trained models. Learn fine-tuning for NLP tasks.",resources:[{title:"BERT Explained",url:"https://www.youtube.com/watch?v=xI0HHN5XKDo",type:"Video"},{title:"GPT Models",url:"https://www.youtube.com/watch?v=kCc8FmEb1nY",type:"Video"}],deliverable:"Fine-tune BERT or GPT on a custom NLP task (sentiment analysis, question answering, etc.)."},{week:6,topic:"Generative Models: GANs and VAEs",description:"Learn Generative Adversarial Networks (GANs) and Variational Autoencoders (VAEs).",resources:[{title:"GANs Explained",url:"https://www.youtube.com/watch?v=JPBz7-UCqRg",type:"Video"},{title:"VAEs Tutorial",url:"https://www.youtube.com/watch?v=9zKuYvjFFS8",type:"Video"}],deliverable:"Implement a GAN or VAE. Generate images or other data samples."},{week:7,topic:"Reinforcement Learning: Q-Learning and Deep Q-Networks",description:"Introduction to reinforcement learning. Learn Q-learning and Deep Q-Networks (DQN).",resources:[{title:"Reinforcement Learning",url:"https://www.youtube.com/watch?v=JgvyzIkgxF0",type:"Video"},{title:"Deep Q-Learning",url:"https://www.youtube.com/watch?v=wrBUkpiRvCA",type:"Video"}],deliverable:"Implement Q-learning and DQN. Train an agent to play a simple game (e.g., CartPole, Atari)."},{week:8,topic:"Advanced Topics: Optimization and Regularization",description:"Study advanced optimization (Adam, RMSprop), batch normalization, and dropout.",resources:[{title:"Optimization Algorithms",url:"https://www.youtube.com/watch?v=k8fTYJPd3_I",type:"Video"},{title:"Batch Normalization",url:"https://www.youtube.com/watch?v=dXB-KQYkzNU",type:"Video"}],deliverable:"Compare different optimizers. Implement batch normalization and dropout in a neural network."},{week:9,topic:"Final Assessment: Deep Learning Research Project",description:"Complete one Ellis Activity demonstrating mastery of deep learning.",resources:[],deliverable:"Submit your chosen Ellis Activity (research project, model implementation, or teaching resource)."}],ellis_activities:{builder:{title:"Advanced Deep Learning Project",description:"Build a sophisticated deep learning project: image generation with GANs, language model fine-tuning, or reinforcement learning agent."},academic:{title:"Deep Learning Architecture Implementation",description:"Implement 3-4 advanced architectures from scratch: Transformer, GAN, or DQN with detailed analysis."},communicator:{title:"Deep Learning Tutorial Series",description:"Create comprehensive tutorials explaining advanced concepts: attention mechanisms, GANs, or reinforcement learning."}}},"Sys 401: Database System Implementation":{prereqs:["Sys 301: Operating Systems (OS)","CS 102: Data Structures & Functional Utility"],description:"Building a database engine (not just using SQL). B+ Trees, buffer management, query optimization, ACID transactions, and WAL.",tier:3,weeks:[{week:1,topic:"Database Architecture: Storage and Buffer Management",description:"Understand how databases store data on disk. Learn buffer pool management and page replacement.",resources:[{title:"Database Internals",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"},{title:"Buffer Management",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"}],deliverable:"Implement a simple buffer pool manager with page replacement policies (LRU, Clock)."},{week:2,topic:"B+ Trees: Index Structures",description:"Master B+ tree data structure. Implement insertion, deletion, and search operations.",resources:[{title:"B+ Trees",url:"https://www.youtube.com/watch?v=aZjYr87r1b8",type:"Video"},{title:"B+ Tree Implementation",url:"https://www.geeksforgeeks.org/introduction-of-b-tree/",type:"Article"}],deliverable:"Implement a B+ tree from scratch. Use it to build an index for a database table."},{week:3,topic:"Query Processing: Parsing and Execution Plans",description:"Learn SQL parsing and query execution. Understand execution plans and cost estimation.",resources:[{title:"Query Processing",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"},{title:"Query Optimization",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"}],deliverable:"Build a simple SQL parser. Generate and visualize query execution plans."},{week:4,topic:"Query Optimization: Cost-Based Optimization",description:"Learn query optimization techniques. Understand cost models and join algorithms.",resources:[{title:"Query Optimization",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"},{title:"Join Algorithms",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"}],deliverable:"Implement different join algorithms (nested loop, hash join, merge join). Compare performance."},{week:5,topic:"ACID Transactions: Concurrency Control",description:"Understand ACID properties. Implement locking and concurrency control mechanisms.",resources:[{title:"ACID Properties",url:"https://www.youtube.com/watch?v=U3VjzEOA7WY",type:"Video"},{title:"Concurrency Control",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"}],deliverable:"Implement a transaction manager with locking. Handle deadlock detection and recovery."},{week:6,topic:"Write-Ahead Logging (WAL) and Crash Recovery",description:"Learn WAL protocol. Implement crash recovery and transaction logging.",resources:[{title:"Write-Ahead Logging",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"},{title:"Crash Recovery",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"}],deliverable:"Implement WAL for your database. Test crash recovery and ensure data durability."},{week:7,topic:"Multi-Version Concurrency Control (MVCC)",description:"Learn MVCC for snapshot isolation. Understand versioning and visibility rules.",resources:[{title:"MVCC Explained",url:"https://www.youtube.com/watch?v=Z_h3Jb1X8u8",type:"Video"},{title:"Snapshot Isolation",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"}],deliverable:"Implement MVCC in your database. Support read-committed and serializable isolation levels."},{week:8,topic:"Database Project: Mini Database Engine",description:"Build a complete mini database engine with storage, indexing, query processing, and transactions.",resources:[{title:"Building a Database",url:"https://www.youtube.com/watch?v=W2Z7fbCLSTw",type:"Video"},{title:"Database Implementation",url:"https://cstack.github.io/db_tutorial/",type:"Article"}],deliverable:"Build a functional database engine supporting SQL queries, transactions, and crash recovery."},{week:9,topic:"Final Assessment: Database Systems Portfolio",description:"Complete one Ellis Activity demonstrating mastery of database system implementation.",resources:[],deliverable:"Submit your chosen Ellis Activity (database engine, research paper, or teaching resource)."}],ellis_activities:{builder:{title:"Mini Database Engine",description:"Build a complete database engine with B+ tree indexing, query processing, ACID transactions, and WAL-based recovery."},academic:{title:"Database Systems Research",description:"Research and implement a specific database technique (e.g., advanced indexing, query optimization, or distributed transactions)."},communicator:{title:"Database Internals Tutorial",description:"Create a comprehensive tutorial explaining database internals: B+ trees, query optimization, or transaction management."}}},"Sys 402: Distributed Systems":{prereqs:["Sys 301: Operating Systems (OS)"],description:"MapReduce, distributed consensus (Paxos/Raft), fault tolerance, scalability, and the CAP Theorem.",tier:3,weeks:[{week:1,topic:"Introduction to Distributed Systems: Challenges and Models",description:"Understand distributed system challenges: network failures, partial failures, and consistency.",resources:[{title:"Distributed Systems",url:"https://www.youtube.com/watch?v=Y6Ev8GXbYV8",type:"Video"},{title:"Distributed Systems Basics",url:"https://www.youtube.com/watch?v=7CmL5IP8y4U",type:"Video"}],deliverable:"Write a report analyzing distributed system challenges. Compare different system models."},{week:2,topic:"MapReduce: Distributed Data Processing",description:"Learn MapReduce programming model. Implement map and reduce functions for parallel processing.",resources:[{title:"MapReduce Explained",url:"https://www.youtube.com/watch?v=htEKd_VFfTs",type:"Video"},{title:"MapReduce Tutorial",url:"https://www.youtube.com/watch?v=1Eyb3VgSHLc",type:"Video"}],deliverable:"Implement a simple MapReduce framework. Process a large dataset using map and reduce operations."},{week:3,topic:"Distributed Consensus: Paxos Algorithm",description:"Master the Paxos algorithm for achieving consensus in distributed systems.",resources:[{title:"Paxos Algorithm",url:"https://www.youtube.com/watch?v=JEpsBg0AO6o",type:"Video"},{title:"Consensus Algorithms",url:"https://www.youtube.com/watch?v=JEpsBg0AO6o",type:"Video"}],deliverable:"Implement a simplified Paxos algorithm. Simulate consensus in a distributed environment."},{week:4,topic:"Raft: A Understandable Consensus Algorithm",description:"Learn Raft algorithm as an alternative to Paxos. Understand leader election and log replication.",resources:[{title:"Raft Algorithm",url:"https://www.youtube.com/watch?v=uXEYuDwm7e4",type:"Video"},{title:"Raft Explained",url:"https://raft.github.io/",type:"Article"}],deliverable:"Implement Raft consensus algorithm. Build a distributed key-value store using Raft."},{week:5,topic:"Fault Tolerance: Replication and Failure Handling",description:"Learn replication strategies. Implement failure detection and recovery mechanisms.",resources:[{title:"Fault Tolerance",url:"https://www.youtube.com/watch?v=Y6Ev8GXbYV8",type:"Video"},{title:"Replication",url:"https://www.youtube.com/watch?v=7CmL5IP8y4U",type:"Video"}],deliverable:"Implement a replicated service with primary-backup replication. Handle node failures gracefully."},{week:6,topic:"Scalability: Load Balancing and Sharding",description:"Understand horizontal scaling. Learn load balancing and data sharding techniques.",resources:[{title:"Load Balancing",url:"https://www.youtube.com/watch?v=K0Ta65Oiiw4",type:"Video"},{title:"Sharding",url:"https://www.youtube.com/watch?v=5faMjKuB9bc",type:"Video"}],deliverable:"Design and implement a sharded database system. Implement consistent hashing for shard assignment."},{week:7,topic:"CAP Theorem: Consistency, Availability, Partition Tolerance",description:"Understand the CAP theorem. Learn trade-offs between consistency and availability.",resources:[{title:"CAP Theorem",url:"https://www.youtube.com/watch?v=k-Yaq8AHlFA",type:"Video"},{title:"CAP Explained",url:"https://www.youtube.com/watch?v=BHqjEjzA3pM",type:"Video"}],deliverable:"Analyze real distributed systems (Cassandra, MongoDB, etc.) in terms of CAP theorem. Design a system for specific CAP guarantees."},{week:8,topic:"Distributed Systems Project: Building a Distributed Service",description:"Build a distributed system: distributed cache, message queue, or key-value store.",resources:[{title:"Building Distributed Systems",url:"https://www.youtube.com/watch?v=Y6Ev8GXbYV8",type:"Video"},{title:"Distributed Services",url:"https://www.youtube.com/watch?v=7CmL5IP8y4U",type:"Video"}],deliverable:"Build a distributed service (e.g., distributed cache or message queue) with replication and fault tolerance."},{week:9,topic:"Final Assessment: Distributed Systems Portfolio",description:"Complete one Ellis Activity demonstrating mastery of distributed systems.",resources:[],deliverable:"Submit your chosen Ellis Activity (distributed system implementation, research paper, or teaching resource)."}],ellis_activities:{builder:{title:"Distributed System Implementation",description:"Build a complete distributed system: distributed key-value store, message queue, or cache with consensus, replication, and fault tolerance."},academic:{title:"Distributed Systems Research",description:"Research and implement a distributed algorithm (Raft, Paxos, or Byzantine fault tolerance) with detailed analysis."},communicator:{title:"Distributed Systems Tutorial",description:"Create a comprehensive tutorial explaining distributed systems concepts: consensus, CAP theorem, or replication strategies."}}},"CS 401: Programming Languages & Compilers":{prereqs:["Sys 201: Computer Systems (The Hardware/Software Interface)"],description:"Lexical analysis, parsing (CFGs), Abstract Syntax Trees, type systems, code generation, and optimization.",tier:3,weeks:[{week:1,topic:"Lexical Analysis: Tokenization and Regular Expressions",description:"Learn lexical analysis. Implement a tokenizer using regular expressions and finite automata.",resources:[{title:"Lexical Analysis",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Regular Expressions",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Implement a lexical analyzer (tokenizer) for a simple programming language."},{week:2,topic:"Parsing: Context-Free Grammars and Recursive Descent",description:"Learn context-free grammars. Implement recursive descent and LL parsing.",resources:[{title:"Parsing",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"CFG and Parsing",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Write a context-free grammar for a simple language. Implement a recursive descent parser."},{week:3,topic:"Abstract Syntax Trees (ASTs)",description:"Build Abstract Syntax Trees from parse trees. Design AST node structures.",resources:[{title:"Abstract Syntax Trees",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"AST Construction",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Build an AST from your parser. Implement tree traversal and pretty-printing."},{week:4,topic:"Type Systems: Static Typing and Type Checking",description:"Learn type systems. Implement type checking for a statically typed language.",resources:[{title:"Type Systems",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Type Checking",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Implement a type checker for your language. Support basic types and type inference."},{week:5,topic:"Semantic Analysis: Symbol Tables and Scoping",description:"Build symbol tables. Implement scoping rules and name resolution.",resources:[{title:"Symbol Tables",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Scoping",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Implement symbol tables with scoping. Resolve variable and function names."},{week:6,topic:"Code Generation: Intermediate Representation",description:"Learn intermediate representations (IR). Generate IR from AST.",resources:[{title:"Code Generation",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Intermediate Representation",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Design an IR for your language. Generate IR code from AST."},{week:7,topic:"Code Generation: Target Code and Assembly",description:"Generate assembly or bytecode from IR. Understand instruction selection and register allocation.",resources:[{title:"Assembly Generation",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Register Allocation",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Generate assembly code from IR. Implement basic register allocation."},{week:8,topic:"Optimization: Constant Folding and Dead Code Elimination",description:"Learn compiler optimizations: constant folding, dead code elimination, and basic optimizations.",resources:[{title:"Compiler Optimizations",url:"https://www.youtube.com/watch?v=e4hZg5NcYx4",type:"Video"},{title:"Optimization Techniques",url:"https://www.youtube.com/watch?v=sa-TUpSx1JA",type:"Video"}],deliverable:"Implement 3-4 compiler optimizations. Measure performance improvements."},{week:9,topic:"Final Assessment: Compiler Project",description:"Complete one Ellis Activity demonstrating mastery of programming languages and compilers.",resources:[],deliverable:"Submit your chosen Ellis Activity (compiler implementation, language design, or teaching resource)."}],ellis_activities:{builder:{title:"Complete Compiler",description:"Build a complete compiler for a simple programming language: lexer, parser, type checker, and code generator."},academic:{title:"Language Design and Implementation",description:"Design and implement a domain-specific language (DSL) with full compiler toolchain."},communicator:{title:"Compiler Construction Tutorial",description:"Create a comprehensive tutorial series explaining compiler phases: lexing, parsing, type checking, and code generation."}}},"AI 403: Reinforcement Learning":{prereqs:["AI 401: Intro to Machine Learning"],description:"Teaching AI to play games and make decisions through trial and error. Learn the algorithms behind AlphaGo and game-playing agents.",tier:3,weeks:[{week:1,topic:"Introduction to Reinforcement Learning",description:"Understand the RL framework: agents, environments, rewards, and policies.",resources:[{title:"Reinforcement Learning Basics",url:"https://www.youtube.com/watch?v=JgvyzIkgxF0",type:"Video"},{title:"RL Tutorial Series",url:"https://www.youtube.com/watch?v=2pWv7GOvuf0",type:"Video"}],deliverables:{builder:{title:"RL Environment Template",description:"Download and complete a simple RL environment (like a grid world). Implement the agent-environment interaction loop.",guidelines:["Download the template file provided","Complete the environment step() and reset() methods","Implement a random policy agent","Test the agent-environment interaction","Submit your completed template file"]},academic:{title:"RL Fundamentals Assessment",description:"Complete a written test on RL concepts: Markov Decision Processes, rewards, policies, and value functions.",guidelines:["Define MDP components: states, actions, transitions, rewards","Explain the difference between policy and value function","Compare model-based vs model-free RL","All solutions must show clear understanding of RL framework"]},communicator:{title:"RL Introduction Presentation",description:"Create a 10-15 minute presentation explaining what reinforcement learning is and how it differs from supervised learning.",guidelines:["10-15 minute presentation with examples","Explain the agent-environment loop","Compare RL to supervised and unsupervised learning","Use game examples (chess, Mario) to illustrate concepts","Clear explanations and engaging delivery"]}}}]},"Sec 301: Network & Computer Security":{prereqs:["Sys 201: Computer Systems (The Hardware/Software Interface)"],description:"The 'Hacker' course. Learn how systems break to understand how to defend them. Covers vulnerabilities, exploits, and defense mechanisms.",tier:3,weeks:[{week:1,topic:"Introduction to Security and Threat Models",description:"Understand security principles: confidentiality, integrity, availability. Learn common threat models and attack vectors.",resources:[{title:"Computer Security Basics",url:"https://www.youtube.com/watch?v=inWWhr5tnEA",type:"Video"},{title:"Security Fundamentals",url:"https://www.youtube.com/watch?v=3b86p7XGlqk",type:"Video"}],deliverables:{builder:{title:"Security Analysis Template",description:"Download a template with vulnerable code examples. Identify security flaws and suggest fixes.",guidelines:["Download the template file provided","Identify at least 5 security vulnerabilities","Explain why each is a vulnerability","Suggest fixes for each issue","Submit your completed analysis"]},academic:{title:"Security Fundamentals Assessment",description:"Complete a written test on security principles, threat models, and common vulnerabilities.",guidelines:["Explain CIA triad (Confidentiality, Integrity, Availability)","Describe common attack vectors","Compare different threat models","All solutions must demonstrate understanding of security principles"]},communicator:{title:"Security Awareness Presentation",description:"Create a 10-15 minute presentation explaining common security threats and how to protect against them.",guidelines:["10-15 minute presentation with real-world examples","Explain common vulnerabilities (SQL injection, XSS, buffer overflow)","Discuss defense mechanisms","Use engaging examples and clear explanations"]}}}]},"Math 302: Cryptography":{prereqs:["Math 201: Discrete Mathematics for CS"],description:"The math behind secrets. Learn how encryption works, from symmetric ciphers to public key cryptography and zero-knowledge proofs.",tier:3,weeks:[{week:1,topic:"Introduction to Cryptography and Symmetric Encryption",description:"Learn the fundamentals of encryption: symmetric ciphers, one-time pads, and block ciphers like AES.",resources:[{title:"Cryptography Basics",url:"https://www.youtube.com/watch?v=jhXCTbFnK8o",type:"Video"},{title:"Symmetric Encryption",url:"https://www.youtube.com/watch?v=VFjP2ZLx8hU",type:"Video"}],deliverables:{builder:{title:"Encryption Template",description:"Download a template implementing basic encryption. Complete the encryption and decryption functions.",guidelines:["Download the template file provided","Complete the encryption function","Complete the decryption function","Test with sample plaintext","Submit your completed template file"]},academic:{title:"Cryptography Fundamentals Assessment",description:"Complete a written test on symmetric encryption, key management, and cryptographic properties.",guidelines:["Explain symmetric vs asymmetric encryption","Describe properties of good ciphers","Analyze security of different encryption methods","All solutions must show mathematical understanding"]},communicator:{title:"Cryptography Introduction Presentation",description:"Create a 10-15 minute presentation explaining how encryption works and why it matters.",guidelines:["10-15 minute presentation with examples","Explain encryption concepts in accessible terms","Use real-world examples (HTTPS, messaging apps)","Clear explanations and engaging delivery"]}}}]},"Sec 402: Reverse Engineering & Malware Analysis":{prereqs:["Sys 201: Computer Systems (The Hardware/Software Interface)"],description:"Disassembling viruses to see how they work. Learn to use tools like Ghidra and IDA Pro to analyze malicious code safely.",tier:3,weeks:[{week:1,topic:"Introduction to Reverse Engineering",description:"Learn the basics of disassembly, decompilation, and analyzing binary code. Understand assembly language patterns.",resources:[{title:"Reverse Engineering Basics",url:"https://www.youtube.com/watch?v=VroEiMOueMo",type:"Video"},{title:"Binary Analysis",url:"https://www.youtube.com/watch?v=3NTXFUxcKPc",type:"Video"}],deliverables:{builder:{title:"Reverse Engineering Template",description:"Download a template with a simple binary. Use Ghidra or similar tools to reverse engineer its functionality.",guidelines:["Download the template file provided","Use Ghidra/IDA Pro to analyze the binary","Document the program's functionality","Identify key functions and their purposes","Submit your analysis report"]},academic:{title:"Reverse Engineering Assessment",description:"Complete a written test on assembly language, disassembly techniques, and binary analysis.",guidelines:["Explain common assembly patterns","Describe disassembly process","Analyze control flow in binaries","All solutions must demonstrate understanding of low-level code"]},communicator:{title:"Reverse Engineering Presentation",description:"Create a 10-15 minute presentation explaining what reverse engineering is and how it's used in security.",guidelines:["10-15 minute presentation with examples","Explain reverse engineering process","Discuss legal and ethical considerations","Use safe, educational examples","Clear explanations and engaging delivery"]}}}]},"CS 403: Computer Graphics (Real-Time Rendering)":{prereqs:["CS 102: Data Structures & Functional Utility"],description:"How to render millions of polygons onto the screen at 60 FPS. Learn the GPU pipeline, shaders, and 3D mathematics.",tier:3,weeks:[{week:1,topic:"Introduction to Computer Graphics and 3D Mathematics",description:"Learn the fundamentals: coordinate systems, vectors, matrices, and transformations in 3D space.",resources:[{title:"Computer Graphics Basics",url:"https://www.youtube.com/watch?v=HIvNePu7UEE",type:"Video"},{title:"3D Math for Graphics",url:"https://www.youtube.com/watch?v=U0_ONQQ5ZNM",type:"Video"}],deliverables:{builder:{title:"Graphics Math Template",description:"Download a template with 3D math functions. Complete matrix multiplication, vector operations, and transformations.",guidelines:["Download the template file provided","Complete matrix multiplication function","Complete vector operations (dot product, cross product)","Implement translation, rotation, and scaling transformations","Submit your completed template file"]},academic:{title:"Graphics Mathematics Assessment",description:"Complete a written test on 3D mathematics, transformations, and coordinate systems.",guidelines:["Explain 3D coordinate systems","Describe matrix transformations","Calculate transformations for given scenarios","All solutions must show mathematical work"]},communicator:{title:"Graphics Introduction Presentation",description:"Create a 10-15 minute presentation explaining how 3D graphics work and the mathematics behind them.",guidelines:["10-15 minute presentation with visual examples","Explain 3D coordinate systems and transformations","Use diagrams to illustrate concepts","Clear explanations and engaging delivery"]}}}]},"CS 405: Game Engine Architecture":{prereqs:["CS 102: Data Structures & Functional Utility"],description:"Building 'Unity' from scratch. Learn the game loop, physics engines, entity component systems, and memory management for games.",tier:3,weeks:[{week:1,topic:"Introduction to Game Engines and The Game Loop",description:"Understand the core architecture: the game loop, fixed vs variable timesteps, and game state management.",resources:[{title:"Game Engine Basics",url:"https://www.youtube.com/watch?v=W7vXz2bq-0Y",type:"Video"},{title:"Game Loop Design",url:"https://www.youtube.com/watch?v=4n_I6cYV7WY",type:"Video"}],deliverables:{builder:{title:"Game Loop Template",description:"Download a template with a basic game structure. Implement the game loop with update and render phases.",guidelines:["Download the template file provided","Complete the game loop (input, update, render)","Implement fixed timestep logic","Add basic game state management","Submit your completed template file"]},academic:{title:"Game Engine Architecture Assessment",description:"Complete a written test on game loop design, timesteps, and game state management.",guidelines:["Explain the game loop architecture","Compare fixed vs variable timesteps","Describe game state management patterns","All solutions must show understanding of engine design"]},communicator:{title:"Game Engine Presentation",description:"Create a 10-15 minute presentation explaining how game engines work and their core components.",guidelines:["10-15 minute presentation with examples","Explain the game loop and its phases","Discuss common engine architectures","Use examples from popular game engines","Clear explanations and engaging delivery"]}}}]},"CS 406: VR & Augmented Reality (XR)":{prereqs:["CS 403: Computer Graphics (Real-Time Rendering)"],description:"Building immersive spatial interfaces. Learn head tracking, spatial audio, hand tracking, and SLAM algorithms.",tier:3,weeks:[{week:1,topic:"Introduction to XR and Spatial Computing",description:"Understand the fundamentals of VR/AR: tracking, rendering, and interaction in 3D space.",resources:[{title:"VR/AR Basics",url:"https://www.youtube.com/watch?v=HBNH8tzsfVM",type:"Video"},{title:"Spatial Computing",url:"https://www.youtube.com/watch?v=5TjXIsj1vK0",type:"Video"}],deliverables:{builder:{title:"XR Template",description:"Download a template for a basic VR/AR application. Implement head tracking and basic interactions.",guidelines:["Download the template file provided","Implement head tracking","Add basic hand/controller tracking","Create a simple interactive scene","Submit your completed template file"]},academic:{title:"XR Fundamentals Assessment",description:"Complete a written test on VR/AR concepts, tracking systems, and spatial computing.",guidelines:["Explain VR vs AR vs MR","Describe tracking systems (6DOF, SLAM)","Analyze challenges in XR development","All solutions must show understanding of spatial computing"]},communicator:{title:"XR Technology Presentation",description:"Create a 10-15 minute presentation explaining VR/AR technology and its applications.",guidelines:["10-15 minute presentation with examples","Explain VR/AR/MR differences","Discuss tracking and rendering challenges","Use real-world XR applications as examples","Clear explanations and engaging delivery"]}}}]},"CS 410: Quantum Computing":{prereqs:["Math 201: Discrete Mathematics for CS"],description:"Coding for physics-defying computers. Learn qubits, superposition, entanglement, and quantum algorithms like Shor's algorithm.",tier:3,weeks:[{week:1,topic:"Introduction to Quantum Computing",description:"Understand quantum mechanics basics: qubits, superposition, and measurement. Learn the difference between classical and quantum bits.",resources:[{title:"Quantum Computing Basics",url:"https://www.youtube.com/watch?v=JhHMJCUmq28",type:"Video"},{title:"Qubits and Superposition",url:"https://www.youtube.com/watch?v=zNzzGgr2mhk",type:"Video"}],deliverables:{builder:{title:"Quantum Circuit Template",description:"Download a template using Qiskit or similar. Implement basic quantum gates and simple quantum circuits.",guidelines:["Download the template file provided","Implement basic quantum gates (Hadamard, CNOT)","Create simple quantum circuits","Run circuits on quantum simulators","Submit your completed template file"]},academic:{title:"Quantum Computing Fundamentals Assessment",description:"Complete a written test on quantum mechanics basics, qubits, and quantum gates.",guidelines:["Explain qubits vs classical bits","Describe superposition and entanglement","Analyze quantum gate operations","All solutions must show understanding of quantum principles"]},communicator:{title:"Quantum Computing Presentation",description:"Create a 10-15 minute presentation explaining what quantum computing is and why it matters.",guidelines:["10-15 minute presentation with examples","Explain quantum mechanics basics in accessible terms","Compare quantum to classical computing","Discuss potential applications","Clear explanations and engaging delivery"]}}}]},"Fin 301: Blockchain & Decentralized Finance":{prereqs:["Math 302: Cryptography"],description:"Web3 engineering. Learn distributed ledgers, consensus algorithms, smart contracts, and DeFi protocols.",tier:3,weeks:[{week:1,topic:"Introduction to Blockchain Technology",description:"Understand the fundamentals: distributed ledgers, blocks, hashing, and the blockchain data structure.",resources:[{title:"Blockchain Basics",url:"https://www.youtube.com/watch?v=SSo_EIwHSd4",type:"Video"},{title:"How Blockchain Works",url:"https://www.youtube.com/watch?v=3xGLc-zz9cA",type:"Video"}],deliverables:{builder:{title:"Blockchain Template",description:"Download a template implementing a simple blockchain. Complete the block structure, hashing, and chain validation.",guidelines:["Download the template file provided","Complete the Block class with hash calculation","Implement blockchain validation","Add mining functionality (proof of work)","Submit your completed template file"]},academic:{title:"Blockchain Fundamentals Assessment",description:"Complete a written test on blockchain architecture, consensus mechanisms, and cryptographic hashing.",guidelines:["Explain blockchain data structure","Describe proof of work vs proof of stake","Analyze security properties of blockchains","All solutions must show understanding of distributed systems"]},communicator:{title:"Blockchain Technology Presentation",description:"Create a 10-15 minute presentation explaining how blockchain works and its applications.",guidelines:["10-15 minute presentation with examples","Explain blockchain architecture","Discuss consensus mechanisms","Use real-world blockchain examples","Clear explanations and engaging delivery"]}}}]},"Bio 301: Computational Biology":{prereqs:["CS 301: Design & Analysis of Algorithms"],description:"Using algorithms to cure disease. Learn DNA sequencing, protein folding, and biological data analysis.",tier:3,weeks:[{week:1,topic:"Introduction to Bioinformatics",description:"Understand biological data: DNA sequences, proteins, and how computer science applies to biology.",resources:[{title:"Bioinformatics Basics",url:"https://www.youtube.com/watch?v=K2F7pO0J7X4",type:"Video"},{title:"Computational Biology",url:"https://www.youtube.com/watch?v=Y7s7mQwYQqE",type:"Video"}],deliverables:{builder:{title:"Sequence Analysis Template",description:"Download a template for DNA sequence analysis. Implement sequence alignment and pattern matching algorithms.",guidelines:["Download the template file provided","Implement basic sequence alignment","Complete pattern matching in DNA sequences","Analyze sequence similarity","Submit your completed template file"]},academic:{title:"Bioinformatics Fundamentals Assessment",description:"Complete a written test on biological data structures, sequence analysis, and algorithmic approaches.",guidelines:["Explain DNA/RNA/Protein data representation","Describe sequence alignment algorithms","Analyze computational challenges in biology","All solutions must show understanding of biological computing"]},communicator:{title:"Computational Biology Presentation",description:"Create a 10-15 minute presentation explaining how computer science is used in biology and medicine.",guidelines:["10-15 minute presentation with examples","Explain bioinformatics applications","Discuss DNA sequencing and analysis","Use real-world examples (CRISPR, AlphaFold)","Clear explanations and engaging delivery"]}}}]}},_C=t=>`
    Generate a 9-week independent study plan for a high school student learning "${t}".
    
    CRITICAL REQUIREMENT: All resources MUST be 100% FREE.
    - Prioritize high-quality YouTube playlists/videos.
    - Use official free documentation.
    - NO paid courses.

    For EACH of the 9 weeks, provide a specific topic and THREE distinct "Ellis Activity" options for the student to choose from to demonstrate their learning:
    1. Project (Builder): A hands-on coding task.
    2. Test (Academic): A self-assessment or quiz concept.
    3. Presentation (Communicator): A topic to present or teach back.

    Return ONLY a raw JSON array of objects (no markdown).
    Structure:
    [
      {
        "week": 1,
        "topic": "Topic Title",
        "description": "What they will learn",
        "resources": [ { "title": "Resource Name", "url": "URL" } ],
        "activities": {
          "project": "Description of the project option",
          "test": "Description of the test option",
          "presentation": "Description of the presentation option"
        }
      },
      ...
    ]
`,jC=(t,e)=>`
    ${t}
    
    Here is a list of available courses/projects:
    ${e}

    Based on the student's profile, select the top 3-4 most suitable courses from the list above.
    
    Rules:
    1. If they have taken AP CSA, prioritize Intermediate/Advanced topics.
    2. If they like Math (8+), prioritize DSA, Discrete Math, or ML.
    3. If they like Art/Design, prioritize Web Design, UI/UX, or Frontend.
    4. If they like Games, prioritize Unity or Godot.
    5. If they are a beginner (no AP CSA), prioritize Intro courses.

    Return ONLY a raw JSON array of objects (no markdown) with this structure:
    [
      {
        "title": "Exact Title from List",
        "description": "A custom 1-sentence pitch to this specific student explaining why this is a good fit.",
        "difficulty": "Difficulty from List",
        "tags": ["Tag1", "Tag2"],
        "type": "premade" or "generated" // Must match the list
      },
      ...
    ]
`,Zm=[{title:"Two Sum",difficulty:"Easy",url:"https://leetcode.com/problems/two-sum/"},{title:"Valid Parentheses",difficulty:"Easy",url:"https://leetcode.com/problems/valid-parentheses/"},{title:"Merge Two Sorted Lists",difficulty:"Easy",url:"https://leetcode.com/problems/merge-two-sorted-lists/"},{title:"Best Time to Buy and Sell Stock",difficulty:"Easy",url:"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/"},{title:"Valid Palindrome",difficulty:"Easy",url:"https://leetcode.com/problems/valid-palindrome/"},{title:"Invert Binary Tree",difficulty:"Easy",url:"https://leetcode.com/problems/invert-binary-tree/"},{title:"Valid Anagram",difficulty:"Easy",url:"https://leetcode.com/problems/valid-anagram/"},{title:"Binary Search",difficulty:"Easy",url:"https://leetcode.com/problems/binary-search/"},{title:"Flood Fill",difficulty:"Easy",url:"https://leetcode.com/problems/flood-fill/"},{title:"Maximum Subarray",difficulty:"Medium",url:"https://leetcode.com/problems/maximum-subarray/"},{title:"Lowest Common Ancestor of a BST",difficulty:"Easy",url:"https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree/"},{title:"Balanced Binary Tree",difficulty:"Easy",url:"https://leetcode.com/problems/balanced-binary-tree/"},{title:"Linked List Cycle",difficulty:"Easy",url:"https://leetcode.com/problems/linked-list-cycle/"},{title:"Implement Queue using Stacks",difficulty:"Easy",url:"https://leetcode.com/problems/implement-queue-using-stacks/"},{title:"First Bad Version",difficulty:"Easy",url:"https://leetcode.com/problems/first-bad-version/"},{title:"Ransom Note",difficulty:"Easy",url:"https://leetcode.com/problems/ransom-note/"},{title:"Climbing Stairs",difficulty:"Easy",url:"https://leetcode.com/problems/climbing-stairs/"},{title:"Longest Palindrome",difficulty:"Easy",url:"https://leetcode.com/problems/longest-palindrome/"},{title:"Reverse Linked List",difficulty:"Easy",url:"https://leetcode.com/problems/reverse-linked-list/"},{title:"Majority Element",difficulty:"Easy",url:"https://leetcode.com/problems/majority-element/"},{title:"Add Binary",difficulty:"Easy",url:"https://leetcode.com/problems/add-binary/"},{title:"Diameter of Binary Tree",difficulty:"Easy",url:"https://leetcode.com/problems/diameter-of-binary-tree/"},{title:"Middle of the Linked List",difficulty:"Easy",url:"https://leetcode.com/problems/middle-of-the-linked-list/"},{title:"Maximum Depth of Binary Tree",difficulty:"Easy",url:"https://leetcode.com/problems/maximum-depth-of-binary-tree/"},{title:"Contains Duplicate",difficulty:"Easy",url:"https://leetcode.com/problems/contains-duplicate/"},{title:"Meeting Rooms",difficulty:"Easy",url:"https://leetcode.com/problems/meeting-rooms/"},{title:"Roman to Integer",difficulty:"Easy",url:"https://leetcode.com/problems/roman-to-integer/"},{title:"Backcoace String Compare",difficulty:"Easy",url:"https://leetcode.com/problems/backspace-string-compare/"},{title:"Counting Bits",difficulty:"Easy",url:"https://leetcode.com/problems/counting-bits/"},{title:"Same Tree",difficulty:"Easy",url:"https://leetcode.com/problems/same-tree/"},{title:"Number of 1 Bits",difficulty:"Easy",url:"https://leetcode.com/problems/number-of-1-bits/"},{title:"Longest Common Prefix",difficulty:"Easy",url:"https://leetcode.com/problems/longest-common-prefix/"},{title:"Single Number",difficulty:"Easy",url:"https://leetcode.com/problems/single-number/"},{title:"Palindrome Linked List",difficulty:"Easy",url:"https://leetcode.com/problems/palindrome-linked-list/"},{title:"Move Zeroes",difficulty:"Easy",url:"https://leetcode.com/problems/move-zeroes/"},{title:"Symmetric Tree",difficulty:"Easy",url:"https://leetcode.com/problems/symmetric-tree/"},{title:"Missing Number",difficulty:"Easy",url:"https://leetcode.com/problems/missing-number/"},{title:"Palindrome Number",difficulty:"Easy",url:"https://leetcode.com/problems/palindrome-number/"},{title:"Convert Sorted Array to Binary Search Tree",difficulty:"Easy",url:"https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/"},{title:"Reverse Bits",difficulty:"Easy",url:"https://leetcode.com/problems/reverse-bits/"},{title:"Subtree of Another Tree",difficulty:"Easy",url:"https://leetcode.com/problems/subtree-of-another-tree/"},{title:"Squares of a Sorted Array",difficulty:"Easy",url:"https://leetcode.com/problems/squares-of-a-sorted-array/"},{title:"Insert Interval",difficulty:"Medium",url:"https://leetcode.com/problems/insert-interval/"},{title:"01 Matrix",difficulty:"Medium",url:"https://leetcode.com/problems/01-matrix/"},{title:"K Closest Points to Origin",difficulty:"Medium",url:"https://leetcode.com/problems/k-closest-points-to-origin/"},{title:"Longest Substring Without Repeating Characters",difficulty:"Medium",url:"https://leetcode.com/problems/longest-substring-without-repeating-characters/"},{title:"3Sum",difficulty:"Medium",url:"https://leetcode.com/problems/3sum/"},{title:"Binary Tree Level Order Traversal",difficulty:"Medium",url:"https://leetcode.com/problems/binary-tree-level-order-traversal/"},{title:"Clone Graph",difficulty:"Medium",url:"https://leetcode.com/problems/clone-graph/"},{title:"Evaluate Reverse Polish Notation",difficulty:"Medium",url:"https://leetcode.com/problems/evaluate-reverse-polish-notation/"}],ef=[{contest:"Dec 2020",problems:[{title:"Do You Know Your ABCs?",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1059",difficulty:"Bronze"},{title:"Daisy Chains",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1060",difficulty:"Bronze"},{title:"Stuck in a Rut",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1061",difficulty:"Bronze"}]},{contest:"Jan 2021",problems:[{title:"Uddered but not Herd",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1083",difficulty:"Bronze"},{title:"Even More Odd Photos",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1084",difficulty:"Bronze"},{title:"Just Stalling",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1085",difficulty:"Bronze"}]},{contest:"Feb 2021",problems:[{title:"Year of the Cow",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1107",difficulty:"Bronze"},{title:"Comfortable Cows",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1108",difficulty:"Bronze"},{title:"Clockwise Fence",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1109",difficulty:"Bronze"}]},{contest:"US Open 2021",problems:[{title:"Acowdemia I",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1131",difficulty:"Bronze"},{title:"Acowdemia II",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1132",difficulty:"Bronze"},{title:"Acowdemia III",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1133",difficulty:"Bronze"}]}],EC=!window.__app_id;if(EC)console.warn("Running in MOCK MODE. Firebase is disabled.");else{const t=Uy(window.__firebase_config);S_(t)}const CC="https://rfgvulqnkgbrfskuovcn.supabase.co",NC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmZ3Z1bHFua2dicmZza3VvdmNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyNjM2NzcsImV4cCI6MjA3OTgzOTY3N30.r-6Ex6aGKRduGiqVL0yOGyq1C-ZJ7PrLFmkWSxRqapI",Z=GE(CC,NC),ee={Clock:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Book:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Code:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),Chat:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),Sparkles:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Brain:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),Lightbulb:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),ArrowRight:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),Link:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),GradCap:t=>o.jsxs("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14v7"})]}),Shield:t=>o.jsx("svg",{...t,className:`w-5 h-5 ${t.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},TC=new Date("2025-09-02T00:00:00"),AC=t=>{let e=0,r=new Date(TC);for(r.setHours(0,0,0,0);e<t;){const n=r.getDay();n!==0&&n!==6&&e++,e<t&&r.setDate(r.getDate()+1)}return r},PC=t=>{const[e,r]=D.useState(null),[n,s]=D.useState(!0),[i,a]=D.useState({usaco:!1,leetcode:!1}),[c,u]=D.useState({usaco:0,leetcode:0});return D.useEffect(()=>{s(!0);const m=AC(t),p=(t-1)%Zm.length,y=Zm[p],b=Math.floor((t-1)/5)%ef.length,N=ef[b];let E=0;E=0;const w=N.problems[E],k=Math.floor(Math.random()*5)+(localStorage.getItem(`gvcs_attempt_usaco_${w.title}`)?1:0),S=Math.floor(Math.random()*15)+(localStorage.getItem(`gvcs_attempt_leetcode_${y.title}`)?1:0);setTimeout(()=>{r({usaco:{...w,id:`usaco-${b}-${E}`},leetcode:{...y,id:`leetcode-${p}`},date:m}),a({usaco:!!localStorage.getItem(`gvcs_attempt_usaco_${w.title}`),leetcode:!!localStorage.getItem(`gvcs_attempt_leetcode_${y.title}`)}),u({usaco:k,leetcode:S}),s(!1)},300)},[t]),{problems:e,loading:n,attempts:i,counts:c,markAttempted:m=>{if(!e)return;const p=m==="usaco"?e.usaco.title:e.leetcode.title,y=`gvcs_attempt_${m}_${p}`;localStorage.getItem(y)||(localStorage.setItem(y,"true"),a(v=>({...v,[m]:!0})),u(v=>({...v,[m]:v[m]+1})))}}},IC=({isOpen:t,onClose:e,onLogin:r})=>{const[n,s]=D.useState(""),[i,a]=D.useState(""),[c,u]=D.useState(!1),[d,m]=D.useState("");if(!t)return null;const p=async()=>{var b;u(!0),m("");try{const N="demo@gvcs.com",E="demo123456";let{data:w,error:k}=await Z.auth.signInWithPassword({email:N,password:E});if(k){const{data:S,error:P}=await Z.auth.signUp({email:N,password:E,options:{data:{name:"Demo Student",isDemo:!0},emailRedirectTo:window.location.origin}});if(P&&!P.message.includes("already registered"))throw P;if(S.user&&!S.session){await new Promise(j=>setTimeout(j,500));const{data:I,error:O}=await Z.auth.signInWithPassword({email:N,password:E});if(O){if(O.message.includes("Email not confirmed")||O.message.includes("confirm")){m('Email confirmation is required. Please disable "Enable email confirmations" in Supabase Dashboard  Authentication  Settings, or check your email to confirm the account.'),u(!1);return}throw O}w=I}else if(S.session)w=S;else{const{data:I,error:O}=await Z.auth.signInWithPassword({email:N,password:E});if(O)throw O;w=I}}if(w!=null&&w.session||w!=null&&w.user)r({id:w.user.id,name:((b=w.user.user_metadata)==null?void 0:b.name)||"Demo Student",email:w.user.email,isDemo:!0}),e();else throw new Error("Failed to create session")}catch(N){console.error("Demo login error:",N),m(N.message||"Failed to login with demo account. Make sure email confirmation is disabled in Supabase settings.")}finally{u(!1)}},y=async()=>{var b;u(!0),m("");try{const N="admin@gvcs.com",E="admin123456";let{data:w,error:k}=await Z.auth.signInWithPassword({email:N,password:E});if(k){const{data:S,error:P}=await Z.auth.signUp({email:N,password:E,options:{data:{name:"Admin",isAdmin:!0,role:"admin"},emailRedirectTo:window.location.origin}});if(P&&!P.message.includes("already registered"))throw P;if(S.user&&!S.session){await new Promise(j=>setTimeout(j,500));const{data:I,error:O}=await Z.auth.signInWithPassword({email:N,password:E});if(O){if(O.message.includes("Email not confirmed")||O.message.includes("confirm")){m('Email confirmation is required. Please disable "Enable email confirmations" in Supabase Dashboard  Authentication  Settings, or check your email to confirm the account.'),u(!1);return}throw O}w=I}else if(S.session)w=S;else{const{data:I,error:O}=await Z.auth.signInWithPassword({email:N,password:E});if(O)throw O;w=I}}if(w!=null&&w.session||w!=null&&w.user)r({id:w.user.id,name:((b=w.user.user_metadata)==null?void 0:b.name)||"Admin",email:w.user.email,isAdmin:!0}),e();else throw new Error("Failed to create session")}catch(N){console.error("Admin login error:",N),m(N.message||"Failed to login with admin account. Make sure email confirmation is disabled in Supabase settings.")}finally{u(!1)}},v=async b=>{var N;b.preventDefault(),u(!0),m("");try{const{data:E,error:w}=await Z.auth.signInWithPassword({email:n,password:i});if(w)throw w;r({id:E.user.id,name:((N=E.user.user_metadata)==null?void 0:N.name)||E.user.email,email:E.user.email,isDemo:!1}),e()}catch(E){m(E.message||"Failed to sign in")}finally{u(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl transform transition-all scale-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy mb-2",children:"Student Login"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Access your saved plans and track progress."}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsx("input",{type:"email",placeholder:"Email Address",value:n,onChange:b=>s(b.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"}),o.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:b=>a(b.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"}),d&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:d}),o.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-gvcs-navy text-white rounded-lg font-bold hover:bg-blue-900 transition-colors disabled:opacity-50",children:c?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),o.jsxs("button",{onClick:p,disabled:c,className:"w-full py-3 bg-green-50 text-green-700 border border-green-200 rounded-lg font-bold hover:bg-green-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[o.jsx(ee.Sparkles,{})," Try Demo Account"]}),o.jsxs("button",{onClick:y,disabled:c,className:"w-full mt-3 py-3 bg-purple-50 text-purple-700 border border-purple-200 rounded-lg font-bold hover:bg-purple-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[o.jsx(ee.Sparkles,{})," Login as Admin"]}),o.jsx("button",{onClick:e,className:"mt-6 text-sm text-gray-500 hover:text-gray-800 w-full text-center",children:"Cancel"})]})})},tf=Object.keys(Ei).map(t=>{const e=Ei[t];return{title:t,type:"premade",difficulty:e.tier===1?"Intermediate":e.tier===2?"Advanced":"Expert",tags:[],tier:e.tier,description:e.description,prereqs:e.prereqs||[]}}),RC=({courses:t,onSelect:e})=>{const r=t.filter(v=>v.tier===1),n=t.filter(v=>v.tier===2),s=t.filter(v=>v.tier===3),i=s.filter(v=>v.title.startsWith("AI 40")),a=s.filter(v=>v.title.startsWith("Sys 40")),c=s.filter(v=>v.title.startsWith("Sec ")||v.title==="Math 302: Cryptography"),u=s.filter(v=>v.title.startsWith("CS 40")&&(v.title.includes("Graphics")||v.title.includes("Game")||v.title.includes("VR"))),d=s.filter(v=>v.title==="CS 401: Programming Languages & Compilers"),m=s.filter(v=>v.title.startsWith("CS 410")||v.title.startsWith("Fin 30")||v.title.startsWith("Bio 30")),p=v=>t.find(b=>b.title===v)||{title:v,difficulty:"Unknown",tags:[],description:""},y=({course:v,tier:b})=>{const N=p(v.title),E=Ei[v.title]||{},w={1:{bg:"bg-blue-500/10",border:"border-blue-500/50",hover:"hover:border-blue-400",glow:"bg-blue-500",label:"Tier 1: Gatekeeper",labelBg:"bg-blue-500"},2:{bg:"bg-purple-500/10",border:"border-purple-500/50",hover:"hover:border-purple-400",glow:"bg-purple-500",label:"Tier 2: Core",labelBg:"bg-purple-500"},3:{bg:"bg-emerald-500/10",border:"border-emerald-500/50",hover:"hover:border-emerald-400",glow:"bg-emerald-500",label:"Tier 3: Specialization",labelBg:"bg-emerald-500"}},k=w[b]||w[3],S=E.description||N.description||v.description||"";return o.jsxs("div",{className:`relative group/card ${k.bg} ${k.border} border-2 rounded-xl p-6 cursor-pointer transition-all duration-300 ${k.hover} hover:shadow-2xl hover:scale-105`,onClick:()=>e(N),children:[o.jsx("div",{className:`absolute inset-0 rounded-xl blur-xl opacity-0 group-hover/card:opacity-30 transition-opacity duration-500 ${k.glow}`}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`${k.labelBg} text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full inline-block mb-3`,children:k.label}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover/card:text-blue-300 transition-colors",children:v.title}),S&&o.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2",children:S}),(E.prereqs||N.prereqs)&&(E.prereqs||N.prereqs).length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Prerequisites:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:(E.prereqs||N.prereqs).slice(0,2).map((P,I)=>o.jsx("span",{className:"text-xs bg-slate-700/50 text-gray-300 px-2 py-0.5 rounded",children:P},I))})]})]})]})};return o.jsx("div",{className:"bg-gradient-to-br from-slate-900 via-[#0B1120] to-slate-900 rounded-2xl shadow-2xl border border-slate-800 overflow-hidden",children:o.jsxs("div",{className:"p-8 space-y-12",children:[o.jsxs("section",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-blue-500 rounded"}),"TIER 1: The Gatekeepers"]}),o.jsx("p",{className:"text-gray-400 text-sm ml-4",children:"Freshman Spring / Sophomore Fall  Non-negotiable pillars"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((v,b)=>o.jsx(y,{course:v,tier:1},b))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-purple-500 rounded"}),"TIER 2: The Core"]}),o.jsx("p",{className:"text-gray-400 text-sm ml-4",children:"Sophomore Spring / Junior Fall  Rigorous center of CS degree"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map((v,b)=>o.jsx(y,{course:v,tier:2},b))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-emerald-500 rounded"}),"TIER 3: Advanced Specializations"]}),o.jsx("p",{className:"text-gray-400 text-sm ml-4",children:"Junior Spring / Senior Year  Advanced topics organized by subject area"})]}),o.jsxs("div",{className:"space-y-8",children:[i.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Artificial Intelligence & Machine Learning"]}),o.jsx("div",{className:`grid gap-6 ${i.length===3?"md:grid-cols-3":i.length===2?"md:grid-cols-2":"md:grid-cols-1"}`,children:i.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]}),a.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Systems & Infrastructure"]}),o.jsx("div",{className:`grid gap-6 ${a.length===3?"md:grid-cols-3":a.length===2?"md:grid-cols-2":"md:grid-cols-1"}`,children:a.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]}),c.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Security & Cryptography"]}),o.jsx("div",{className:`grid gap-6 ${c.length===3?"md:grid-cols-3":c.length===2?"md:grid-cols-2":"md:grid-cols-1"}`,children:c.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]}),u.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Graphics & Game Development"]}),o.jsx("div",{className:`grid gap-6 ${u.length===3?"md:grid-cols-3":u.length===2?"md:grid-cols-2":"md:grid-cols-1"}`,children:u.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]}),d.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Programming Languages & Theory"]}),o.jsx("div",{className:"grid md:grid-cols-1 gap-6 max-w-2xl",children:d.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]}),m.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-emerald-300 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded"}),"Emerging Technologies"]}),o.jsx("div",{className:`grid gap-6 ${m.length===3?"md:grid-cols-3":m.length===2?"md:grid-cols-2":"md:grid-cols-1"}`,children:m.map((v,b)=>o.jsx(y,{course:v,tier:3},b))})]})]})]})]})})},OC=({user:t,onLoginRequest:e})=>{const[r,n]=D.useState("select"),[s,i]=D.useState(""),[a,c]=D.useState("Beginner"),[u,d]=D.useState(!1),[m,p]=D.useState(null),[y,v]=D.useState({math:5,art:5,web:5,games:5,ai:5,hardware:5,data:5}),[b,N]=D.useState({"Precalc or less":!1,Calc:!1,"Lin Alg":!1,Multivar:!1,Stat:!1,"Discrete Math":!1}),[E,w]=D.useState(""),[k,S]=D.useState(""),[P,I]=D.useState(""),[O,j]=D.useState([]),g=[{id:"math",text:"How much do you enjoy solving complex math problems?"},{id:"art",text:"How much do you like creating visual art or designs?"},{id:"web",text:"Are you interested in building websites and UIs?"},{id:"games",text:"Do you want to make video games?"},{id:"ai",text:"Are you curious about Artificial Intelligence?"},{id:"hardware",text:"Do you like working with electronics or robotics?"},{id:"data",text:"Are you interested in analyzing data and statistics?"}],x=(F,U)=>{v(M=>({...M,[F]:parseInt(U)}))},C=F=>{N(U=>({...U,[F]:!U[F]}))},A=async()=>{d(!0);try{const U=new ic("AIzaSyBesdVG82fs0vJa7PDPKiEKnXXlh4p5SQc").getGenerativeModel({model:"gemini-2.5-flash"}),$=`
        Student Profile:
        - Math Courses Taken: ${Object.keys(b).filter(de=>b[de]).join(", ")||"None selected"}
        - AP CSA Score: ${E||"Not Taken"}
        - SAT Math Score: ${k||"N/A"}
        - Past Independent Studies: ${P||"None"}
        - Interests (1-10): 
          - Math: ${y.math}
          - Art: ${y.art}
          - Web: ${y.web}
          - Games: ${y.games}
          - AI: ${y.ai}
          - Hardware: ${y.hardware}
          - Data Science: ${y.data}
      `,H=tf.map(de=>`- ${de.title} (${de.difficulty}) [${de.type==="premade"?"Ready to Start":"Needs Generation"}] - Tags: ${de.tags.join(", ")}`).join(`
`),Y=jC($,H),Re=(await(await U.generateContent(Y)).response).text().replace(/```json/g,"").replace(/```/g,"").trim(),Oe=JSON.parse(Re);j(Oe),n("ideas_selection")}catch(F){console.error("AI Generation Error:",F),alert("Failed to generate ideas. Please try again.")}finally{d(!1)}},R=async F=>{if(F.type==="premade"&&Ei[F.title]){const M=Ei[F.title].weeks.map($=>{var Y,X,xe,je,Re,Oe;const H={...$};return!$.deliverables&&$.ellis_activities&&(H.activities={project:((Y=$.ellis_activities.builder)==null?void 0:Y.description)||((X=$.ellis_activities.builder)==null?void 0:X.title)||"",test:((xe=$.ellis_activities.academic)==null?void 0:xe.description)||((je=$.ellis_activities.academic)==null?void 0:je.title)||"",presentation:((Re=$.ellis_activities.communicator)==null?void 0:Re.description)||((Oe=$.ellis_activities.communicator)==null?void 0:Oe.title)||""}),H});p(M),i(F.title),c(F.difficulty||"Advanced"),n("results");return}T(F)},T=async F=>{d(!0),i(F.title),c(F.difficulty);try{const M=new ic("AIzaSyBesdVG82fs0vJa7PDPKiEKnXXlh4p5SQc").getGenerativeModel({model:"gemini-2.5-flash"}),$=`
        Generate a 9-week independent study plan for a high school student learning: "${F.title}".
        
        CRITICAL REQUIREMENT: All resources MUST be 100% FREE.
        - Prioritize high-quality YouTube playlists/videos.
        - Use official free documentation (MDN, Unity Docs, etc.).
        - NO paid courses (Udemy, Coursera paid tiers, etc.).
        
        The plan should be structured for a ${F.difficulty} level student.
        
        Return ONLY a raw JSON object (no markdown) with this structure:
        {
          "title": "${F.title}",
          "description": "Brief description of the course.",
          "weeks": [
            {
              "week": 1,
              "topic": "Topic Title",
              "description": "What they will learn",
              "deliverable": "What to build/show",
              "resources": [
                 { "title": "Resource Name", "url": "URL", "type": "Video/Article" }
              ]
            },
            ... (9 weeks total)
          ],
          "ellis_activities": {
             "builder": { "title": "...", "description": "..." },
             "academic": { "title": "...", "description": "..." },
             "communicator": { "title": "...", "description": "..." }
          }
        }
      `,xe=(await(await M.generateContent($)).response).text().replace(/```json/g,"").replace(/```/g,"").trim(),je=JSON.parse(xe);p(je.weeks),i(je.title||F.title),p(je.weeks),n("results")}catch(U){console.error("AI Generation Error:",U),alert("Failed to generate plan. Please try again.")}finally{d(!1)}},q=async()=>{if(s){d(!0);try{const U=new ic("AIzaSyBesdVG82fs0vJa7PDPKiEKnXXlh4p5SQc").getGenerativeModel({model:"gemini-2.5-flash"}),M=_C(s),X=(await(await U.generateContent(M)).response).text().replace(/```json/g,"").replace(/```/g,"").trim(),xe=JSON.parse(X);p(xe),n("results")}catch(F){console.error("AI Generation Error:",F),alert("Failed to generate plan. Please try again.")}finally{d(!1)}}},te=()=>{n("select"),i(""),p(null),j([]),I(""),v({math:5,art:5,web:5,games:5,ai:5,hardware:5,data:5}),N({"Precalc or less":!1,Calc:!1,"Lin Alg":!1,Multivar:!1,Stat:!1,"Discrete Math":!1}),w(""),S("")},J=async()=>{if(!t){e();return}try{const F=s.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").toUpperCase(),U={user_id:t.id,course_title:s,course_id:F,weeks:m.map(H=>({week:H.week,topic:H.topic,description:H.description,resources:H.resources,deliverables:H.deliverables,selected_activity:null,submissions:{builder:null,academic:null,communicator:null}}))},{data:M,error:$}=await Z.from("user_courses").select("id").eq("user_id",t.id).eq("course_id",F).single();if(M){if(confirm("You already have this course. Replace it?")){const{error:H}=await Z.from("user_courses").update({course_title:U.course_title,weeks:U.weeks,updated_at:new Date().toISOString()}).eq("id",M.id);if(H)throw H;alert("Course updated!")}}else{const{error:H}=await Z.from("user_courses").insert([U]);if(H)throw H;alert("Course added to Dashboard!")}}catch(F){console.error("Error adding course:",F),alert("Failed to add course. Please try again.")}};return r==="results"&&m?o.jsxs("div",{className:"max-w-4xl mx-auto p-6 animate-fade-in-up",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("button",{onClick:te,className:"text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Generator"]}),t&&o.jsxs("button",{onClick:J,className:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[o.jsx(ee.Book,{})," Add to Dashboard"]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-gray-800",children:["Marking Period Plan: ",s]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["Level: ",a]})]}),o.jsx("button",{className:"text-sm text-blue-600 font-medium hover:underline",children:"Download PDF"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase tracking-wider",children:[o.jsx("th",{className:"px-6 py-3 font-semibold",children:"Week"}),o.jsx("th",{className:"px-6 py-3 font-semibold",children:"Learning Target"}),o.jsx("th",{className:"px-6 py-3 font-semibold",children:"Resource (Free)"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(F=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 font-mono text-sm text-gray-500 align-top",children:["Week ",F.week]}),o.jsxs("td",{className:"px-6 py-4 align-top",children:[o.jsx("div",{className:"font-bold text-gray-800 mb-1",children:F.topic||F.target}),o.jsx("div",{className:"text-xs text-gray-500",children:F.description})]}),o.jsx("td",{className:"px-6 py-4 text-sm text-blue-600 align-top",children:F.resources?o.jsx("ul",{className:"space-y-1",children:F.resources.map((U,M)=>o.jsx("li",{children:o.jsxs("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline flex items-center gap-1",children:[o.jsx(ee.Link,{})," ",U.title]})},M))}):o.jsx("a",{href:F.resource,target:"_blank",rel:"noopener noreferrer",className:"hover:underline cursor-pointer max-w-xs truncate block",children:F.resource})})]},F.week))})]})})]})]}):r==="ideas_selection"?o.jsxs("div",{className:"max-w-5xl mx-auto p-6 animate-fade-in-up",children:[o.jsxs("button",{onClick:()=>n("wizard"),className:"mb-6 text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Profile"]}),o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"We found some great ideas for you!"}),o.jsx("p",{className:"text-gray-600",children:"Choose the one that excites you the most."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:O.map((F,U)=>o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all flex flex-col",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full 
                                    ${F.difficulty==="Beginner"?"bg-green-100 text-green-700":F.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:F.difficulty})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:F.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:F.description}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:F.tags&&F.tags.map(M=>o.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded",children:M},M))}),o.jsx("button",{onClick:()=>R(F),disabled:u,className:"w-full py-2 bg-gvcs-navy text-white rounded-lg font-bold hover:bg-blue-900 transition-colors flex justify-center items-center gap-2",children:u?"Generating...":F.type==="premade"?"View Course Plan":"Generate Custom Plan"})]},U))})]}):r==="browse"?o.jsxs("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in-up",children:[o.jsxs("button",{onClick:()=>n("select"),className:"mb-6 text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Selection"]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:'The GVCS "University-Standard" Curriculum'}),o.jsx("p",{className:"text-gray-600",children:"Explore our hierarchical curriculum. Click any course to generate a plan."})]}),o.jsx(RC,{courses:tf,onSelect:R})]}):r==="wizard"?o.jsx("div",{className:"max-w-3xl mx-auto p-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gvcs-navy px-8 py-6 text-white",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(ee.Lightbulb,{})," Idea Finder"]}),o.jsx("p",{className:"text-blue-100 opacity-90 text-sm",children:"Tell us about yourself, and we'll build the perfect plan."})]}),o.jsxs("div",{className:"p-8 space-y-8",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b pb-2",children:"Academic Background"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Math Courses Taken"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.keys(b).map(F=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 border rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:b[F],onChange:()=>C(F),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:F})]},F))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"AP CSA Score (1-5)"}),o.jsx("input",{type:"number",min:"1",max:"5",value:E,onChange:F=>w(F.target.value),placeholder:"e.g. 5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"SAT Math Score"}),o.jsx("input",{type:"number",value:k,onChange:F=>S(F.target.value),placeholder:"e.g. 750",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Previous Independent Studies"}),o.jsx("textarea",{value:P,onChange:F=>I(F.target.value),placeholder:"e.g. Built a weather app in React, Made a Pong game in Python...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm h-20 resize-none"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"We'll use this to suggest something new and challenging."})]})]})]}),o.jsxs("section",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b pb-2",children:"Interests (1-10)"}),o.jsx("div",{className:"grid gap-6",children:g.map(F=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:F.text}),o.jsx("span",{className:"font-bold text-blue-600",children:y[F.id]})]}),o.jsx("input",{type:"range",min:"1",max:"10",value:y[F.id],onChange:U=>x(F.id,U.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]},F.id))})]}),o.jsxs("div",{className:"pt-4 flex gap-4",children:[o.jsx("button",{onClick:()=>n("select"),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-lg font-bold hover:bg-gray-200 transition-all",children:"Cancel"}),o.jsx("button",{onClick:A,disabled:u,className:"flex-[2] py-3 bg-gvcs-navy text-white rounded-lg font-bold hover:bg-blue-900 transition-all shadow-lg flex justify-center items-center gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing Profile..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ee.Sparkles,{})," Find My Project"]})})]})]})]})}):r==="manual"?o.jsx("div",{className:"max-w-2xl mx-auto p-6",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("div",{className:"p-8",children:[o.jsx("button",{onClick:()=>n("select"),className:"mb-6 text-sm text-gray-500 hover:text-gray-800",children:" Back"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Create Custom Plan"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Study Topic"}),o.jsx("input",{type:"text",value:s,onChange:F=>i(F.target.value),placeholder:"e.g., Game Development with Unity",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsx("button",{onClick:q,disabled:!s||u,className:`w-full py-3 rounded-lg font-bold text-white transition-all flex items-center justify-center gap-2 mt-4
                  ${!s||u?"bg-gray-300":"bg-gvcs-navy hover:bg-blue-900"}`,children:u?"Generating...":"Generate Plan"})]})]})})}):o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gvcs-navy mb-3 flex items-center justify-center gap-3",children:[o.jsx(ee.Brain,{})," Curriculum Generator"]}),o.jsx("p",{className:"text-gray-600 max-w-xl mx-auto",children:"Need a plan for your independent study? We can help you build a compliant marking period schedule."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[o.jsxs("button",{onClick:()=>n("wizard"),className:"bg-white p-8 rounded-2xl shadow-sm border-2 border-transparent hover:border-blue-500 hover:shadow-md transition-all group text-left",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:o.jsx(ee.Lightbulb,{})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Help me find an idea"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Not sure what to study? Answer a few questions and we'll suggest some great projects for you."})]}),o.jsxs("button",{onClick:()=>n("browse"),className:"bg-white p-8 rounded-2xl shadow-sm border-2 border-transparent hover:border-blue-500 hover:shadow-md transition-all group text-left",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:o.jsx(ee.Book,{})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Browse Curriculum"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our specialized tracks and pre-designed courses for mastery."})]}),o.jsxs("button",{onClick:()=>n("manual"),className:"bg-white p-8 rounded-2xl shadow-sm border-2 border-transparent hover:border-blue-500 hover:shadow-md transition-all group text-left",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:o.jsx(ee.Code,{})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"I have an idea"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Already know what you want to build? Enter your topic and we'll generate the schedule."})]})]})]})},DC=()=>{const t=[{category:"Learn to Code",items:[{name:"Codecademy",url:"https://www.codecademy.com",desc:"Interactive coding lessons"},{name:"freeCodeCamp",url:"https://www.freecodecamp.org",desc:"Free certifications and projects"},{name:"CS50",url:"https://cs50.harvard.edu/x/",desc:"Harvard's Intro to CS"}]},{category:"Competitive Programming",items:[{name:"USACO Guide",url:"https://usaco.guide",desc:"Comprehensive training curriculum"},{name:"Codeforces",url:"https://codeforces.com",desc:"Weekly contests and problem sets"},{name:"LeetCode",url:"https://leetcode.com",desc:"Interview prep and challenges"}]},{category:"Game Development",items:[{name:"Unity Learn",url:"https://learn.unity.com",desc:"Official Unity tutorials"},{name:"Godot Docs",url:"https://docs.godotengine.org",desc:"Open source engine documentation"}]},{category:"Web Development",items:[{name:"MDN Web Docs",url:"https://developer.mozilla.org",desc:"The bible of web development"},{name:"CSS-Tricks",url:"https://css-tricks.com",desc:"Deep dives into CSS"}]}];return o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-8",children:"Learning Resources"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map((e,r)=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-800",children:e.category})}),o.jsx("div",{className:"divide-y divide-gray-100",children:e.items.map((n,s)=>o.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"block px-6 py-4 hover:bg-blue-50 transition-colors group",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-blue-600 group-hover:underline",children:n.name}),o.jsx(ee.Link,{})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n.desc})]},s))})]},r))})]})},LC=({user:t})=>{PC(1);const[e,r]=D.useState({});D.useEffect(()=>{t&&n()},[t]);const n=async()=>{var c;try{const{data:u,error:d}=await Z.from("user_problem_statuses").select("*").eq("user_id",t.id);if(d){if(d.code==="42P01"||(c=d.message)!=null&&c.includes("404")){console.warn("user_problem_statuses table does not exist yet. Run the SQL schema in Supabase."),r({});return}throw d}const m={};u&&u.forEach(p=>{m[p.problem_url]=p.status}),r(m)}catch(u){console.error("Error fetching statuses:",u),r({})}},s=async(c,u)=>{var d;if(t){r(m=>({...m,[c]:u}));try{const{error:m}=await Z.from("user_problem_statuses").upsert({user_id:t.id,problem_url:c,status:u,updated_at:new Date().toISOString()},{onConflict:"user_id, problem_url"});if(m){if(m.code==="42P01"||(d=m.message)!=null&&d.includes("404")){console.warn("user_problem_statuses table does not exist yet. Run the SQL schema in Supabase.");return}throw m}}catch(m){console.error("Error updating status:",m)}}},i=c=>{e[c]||s(c,"attempted")},a=c=>{switch(c){case"solved":return"bg-green-50 border-green-200";case"dnf":return"bg-red-50 border-red-200";case"attempted":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-transparent"}};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"Weekly Activities"}),o.jsx("p",{className:"text-gray-600",children:"Sharpen your skills with this week's curated challenges."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-amber-50 px-4 py-3 border-b border-amber-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-amber-800",children:"USACO Bronze"}),o.jsx(ee.Brain,{className:"text-amber-600 w-5 h-5"})]}),o.jsx("div",{className:"p-4 flex-grow space-y-4",children:o.jsx("div",{className:"space-y-2",children:[{name:"Candy Cane Feast",url:"http://www.usaco.org/index.php?page=viewproblem2&cpid=1347"},{name:"Cowntact Tracing 2",url:"http://usaco.org/index.php?page=viewproblem2&cpid=1348"},{name:"Farmer John Actually Farms",url:"http://usaco.org/index.php?page=viewproblem2&cpid=1349"}].map((c,u)=>o.jsxs("div",{className:`rounded-lg border transition-all ${a(e[c.url])}`,children:[o.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>i(c.url),className:"block p-3 hover:opacity-80",children:[o.jsx("div",{className:"text-sm font-bold text-gray-800",children:c.name}),e[c.url]&&o.jsxs("div",{className:"text-xs font-bold uppercase mt-1 flex items-center gap-1",children:[e[c.url]==="solved"&&o.jsx("span",{className:"text-green-700",children:" Solved"}),e[c.url]==="dnf"&&o.jsx("span",{className:"text-red-700",children:" DNF"}),e[c.url]==="attempted"&&o.jsx("span",{className:"text-yellow-700",children:" Attempted"})]})]}),e[c.url]&&e[c.url]!=="solved"&&o.jsxs("div",{className:"flex border-t border-gray-200 divide-x divide-gray-200",children:[o.jsx("button",{onClick:()=>s(c.url,"solved"),className:"flex-1 py-1 text-xs font-bold text-green-600 hover:bg-green-100 transition-colors",children:"Solved"}),o.jsx("button",{onClick:()=>s(c.url,"dnf"),className:"flex-1 py-1 text-xs font-bold text-red-600 hover:bg-red-100 transition-colors",children:"DNF"})]})]},u))})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-green-50 px-4 py-3 border-b border-green-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-green-800",children:"LeetCode Daily"}),o.jsx(ee.Code,{className:"text-green-600 w-5 h-5"})]}),o.jsxs("div",{className:"p-4 flex-grow space-y-4",children:[o.jsxs("div",{className:"p-4 bg-green-50/50 rounded-xl border border-green-100 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:"Day 12"}),o.jsx("div",{className:"text-sm font-medium text-green-800",children:"Two Sum II"}),o.jsx("a",{href:"https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/",target:"_blank",rel:"noopener noreferrer",className:"mt-3 block w-full py-2 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 transition-colors",children:"Solve Now"})]}),o.jsx("div",{className:"text-xs text-center text-gray-400",children:"Streak: 12 Days "})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-blue-50 px-4 py-3 border-b border-blue-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-blue-800",children:"Codeforces"}),o.jsx(ee.Sparkles,{className:"text-blue-600 w-5 h-5"})]}),o.jsxs("div",{className:"p-4 flex-grow space-y-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Contest: ",o.jsx("span",{className:"font-bold",children:"Div 3 #921"})]}),o.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-xl border border-blue-100",children:[o.jsx("div",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-2",children:"Virtual Contest"}),o.jsx("div",{className:"text-sm font-bold text-gray-800 mb-1",children:"Round #921 (Div. 3)"}),o.jsx("div",{className:"text-xs text-gray-500 mb-3",children:"7 Problems  2 Hours"}),o.jsx("a",{href:"https://codeforces.com/contest/1926",target:"_blank",rel:"noopener noreferrer",className:"block w-full py-2 border border-blue-600 text-blue-600 rounded-lg text-sm font-bold hover:bg-blue-50 transition-colors text-center",children:"Start Virtual"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-purple-50 px-4 py-3 border-b border-purple-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-purple-800",children:"GV Project"}),o.jsx(ee.Lightbulb,{className:"text-purple-600 w-5 h-5"})]}),o.jsxs("div",{className:"p-4 flex-grow space-y-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Theme: ",o.jsx("span",{className:"font-bold",children:"Club Platform"})]}),o.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-xl text-white",children:[o.jsx("div",{className:"text-xs font-bold opacity-75 uppercase tracking-wider mb-2",children:"Active Sprint"}),o.jsx("div",{className:"font-bold text-lg mb-2",children:"Finalize Contest Platform"}),o.jsx("p",{className:"text-xs opacity-90 leading-relaxed mb-4",children:"We are building our own competitive programming platform. Help us ship v1.0!"}),o.jsx("a",{href:"https://github.com/Archontas123/GVCS-Website",target:"_blank",rel:"noopener noreferrer",className:"block w-full py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg text-sm font-bold transition-colors text-center backdrop-blur-sm",children:"Contribute"})]})]})]})]})]})},MC=({user:t,profile:e,isEditing:r,onEdit:n,onSave:s,onCancel:i})=>{const[a,c]=D.useState({display_name:(e==null?void 0:e.display_name)||(t==null?void 0:t.name)||"",bio:(e==null?void 0:e.bio)||"",grade_level:(e==null?void 0:e.grade_level)||"",graduation_year:(e==null?void 0:e.graduation_year)||"",interests:(e==null?void 0:e.interests)||[],skills:(e==null?void 0:e.skills)||[]});return r?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gvcs-navy mb-4",children:"Edit Profile"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Display Name"}),o.jsx("input",{type:"text",value:a.display_name,onChange:u=>c({...a,display_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bio"}),o.jsx("textarea",{value:a.bio,onChange:u=>c({...a,bio:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Grade Level"}),o.jsxs("select",{value:a.grade_level,onChange:u=>c({...a,grade_level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"Select..."}),o.jsx("option",{value:"9",children:"9th Grade"}),o.jsx("option",{value:"10",children:"10th Grade"}),o.jsx("option",{value:"11",children:"11th Grade"}),o.jsx("option",{value:"12",children:"12th Grade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Graduation Year"}),o.jsx("input",{type:"number",value:a.graduation_year,onChange:u=>c({...a,graduation_year:parseInt(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"2026"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(a),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700",children:"Save"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Cancel"})]})]})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gvcs-navy",children:"Account Info"}),o.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:underline",children:"Edit"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Name:"}),o.jsx("p",{className:"font-semibold text-gray-800",children:a.display_name||(t==null?void 0:t.name)||"Not set"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Email:"}),o.jsx("p",{className:"font-semibold text-gray-800",children:t==null?void 0:t.email})]}),a.bio&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Bio:"}),o.jsx("p",{className:"text-gray-800",children:a.bio})]}),(a.grade_level||a.graduation_year)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Grade:"}),o.jsxs("p",{className:"font-semibold text-gray-800",children:[a.grade_level?`Grade ${a.grade_level}`:"",a.graduation_year&&`  Class of ${a.graduation_year}`]})]})]})]})},BC=({user:t,onComplete:e,onCancel:r})=>{const[n,s]=D.useState(0),[i,a]=D.useState({hackathon_name:"",hackathon_date:"",tracks:[],team_members:[],current_step:0,finalized_idea:"",master_document:"",ideation_prompt:"",master_document_prompt:""}),[c,u]=D.useState(""),[d,m]=D.useState(""),[p,y]=D.useState({theme:"",tool_specific_awards:"",context:"",sponsors:"",judge_demographic:""}),v=[{title:"Download Tools",description:"Get required software"},{title:"Ideation",description:"Brainstorm with LLM"},{title:"Master Document",description:"Create execution plan"},{title:"Individual Setup",description:"Set up personal LLM"},{title:"Execution",description:"Build the project"},{title:"Pitch & Submit",description:"Create presentation"}],b=D.useMemo(()=>`I'm participating in a hackathon and need help brainstorming project ideas.

HACKATHON DETAILS:
- Event Name: ${i.hackathon_name||"[INSERT HACKATHON NAME]"}
- Theme: ${p.theme||"[INSERT THEME, e.g., Education, Healthcare, Sustainability, or leave blank if open]"}
- Tool-Specific Awards: ${p.tool_specific_awards||"[INSERT TOOL-SPECIFIC AWARDS, e.g., Best Use of Twilio API, Best Use of AWS, Best Mobile App, etc.]"}
- Sponsors: ${p.sponsors||"[INSERT ALL SPONSORS FOR THE EVENT]"}
- Judge Demographic: ${p.judge_demographic||"[INSERT JUDGE DEMOGRAPHIC, e.g., Industry professionals, VCs, University professors, etc.]"}

AVAILABLE PRIZE CATEGORIES:
${i.tracks.length>0?i.tracks.map(g=>`- ${g}`).join(`
`):"[INSERT ALL PRIZE CATEGORIES, e.g., Best Overall, Best Design, Best Education Hack, Best AI/ML Hack, etc.]"}

TEAM SIZE: ${i.team_members.length||"[INSERT NUMBER]"} members

ADDITIONAL CONTEXT:
${p.context||"[PASTE RELEVANT CONTEXT HERE - e.g., CTRL+A of the hackathon website, important rules, special requirements, etc.]"}

INSTRUCTIONS:
Please help me brainstorm creative, feasible hackathon project ideas using a TWO-STEP PROCESS:

STEP 1: Generate the core project idea first
- Focus on solving a real problem or addressing the theme
- Consider what prize categories we have a good shot at (pick ones that aren't too competitive)
- Leverage our team's interests and skills
- Ensure it has clear impact and potential for a demo

STEP 2: Incorporate tool-specific awards
- After generating the core idea, creatively incorporate any tool-specific award requirements
- For example: If the core idea is an auditing tool and there's a "Best Messaging App" award, find a way to incorporate messaging features (e.g., real-time notifications, team chat, etc.)
- The tool-specific award should enhance the project, not force a complete pivot

For each idea, provide:
- Project name
- Brief description
- Problem it solves
- Key features
- Suggested tech stack
- Which prize categories it targets (and why we have a good shot)
- How tool-specific awards are incorporated
- Why it's feasible for a hackathon

Let's iterate and refine these ideas together!`,[i.hackathon_name,i.tracks,i.team_members,p.theme,p.tool_specific_awards,p.context,p.sponsors,p.judge_demographic]),N=D.useMemo(()=>`I need you to create an EXTREMELY DETAILED and COMPREHENSIVE master execution document for our hackathon project. This document will be used by a TEAM working together, and each team member will use their own AI coding assistant (Cursor, Claude Code, etc.) to implement their tasks.

CRITICAL: This is a TEAM PROJECT. The document must emphasize coordination, context sharing, and synchronization between team members and their AI assistants.

FINALIZED PROJECT IDEA:
${i.finalized_idea||"[PASTE YOUR FINALIZED IDEA HERE]"}

TEAM MEMBERS:
${i.team_members.length>0?i.team_members.map(x=>`- ${x}`).join(`
`):"[INSERT TEAM MEMBER NAMES]"}

HACKATHON CONTEXT:
- Theme: ${p.theme||"Open"}
- Tool-Specific Awards: ${p.tool_specific_awards||"None"}

Create a MASTER EXECUTION DOCUMENT with the following structure:

1. PROJECT OVERVIEW (Brief - 1-2 paragraphs)
   - Complete project description
   - Problem statement
   - Solution approach
   - Target users
   - Success metrics

2. TECHNICAL ARCHITECTURE (Detailed)
   - System architecture diagram (describe in detail)
   - Technology stack with versions
   - Database schema (if applicable)
   - API endpoints (if applicable)
   - File/folder structure
   - Dependencies and packages needed
   - Environment variables and configuration

3. TEAM COORDINATION PROTOCOL (CRITICAL - NEW SECTION)
   IMPORTANT: This section must be included and emphasized throughout the document.
   
   - TEAM AWARENESS: All AI coding assistants (Cursor, Claude Code, etc.) must understand that this is a collaborative team project. They are NOT working in isolation.
   
   - CONTEXT SHARING MECHANISM:
     * Each team member's AI assistant should periodically (every 30-60 minutes or after completing a task) generate a "context update" from their current branch
     * This context update should include:
       - What files they've created/modified
       - What functions/features they've implemented
       - Current state of their branch
       - Any API contracts, data structures, or interfaces they've defined
       - Dependencies they've added
       - Any blockers or questions
     
   - CONTEXT DISTRIBUTION:
     * Team members should share these context updates with each other (via Discord, shared doc, etc.)
     * Each person should paste their teammates' context updates into their own AI assistant
     * AI assistants should use this shared context to ensure code compatibility and alignment
   
   - CHECK-IN SCHEDULE:
     * Every 2-3 hours, team members should do a "sync check-in"
     * During check-ins:
       - Pull latest changes from main branch
       - Review teammates' context updates
       - Update your AI assistant with latest project state
       - Identify and resolve any conflicts or misalignments
       - Adjust your tasks if needed based on team progress
   
   - BRANCH CONTEXT GENERATION:
     * When a team member completes a task or makes significant progress, their AI assistant should:
       - Analyze the current branch state
       - Generate a summary of changes
       - Identify what other team members need to know
       - Create a context snippet to share
   
   - ALIGNMENT VERIFICATION:
     * Before implementing new features, AI assistants should:
       - Check if any teammates have implemented related code
       - Verify API contracts match
       - Ensure data structures are compatible
       - Confirm naming conventions are consistent

4. STEP-BY-STEP TASKS FOR EACH TEAM MEMBER (CRITICAL - MAIN FOCUS)
   For EACH team member, create an EXTREMELY DETAILED step-by-step task list:
   
   === TEAM MEMBER: [MEMBER NAME] ===
   Role: [Frontend/Backend/Full-stack/Design/etc]
   
   TASKS (Numbered, in order of execution):
   
   Task 1: [Task Name]
   - Description: [What exactly needs to be done]
   - Step 1: [First specific action]
   - Step 2: [Second specific action]
   - Step 3: [Third specific action]
   - ... (continue for all steps)
   - Files to create: [Exact file paths, e.g., src/components/LoginForm.jsx]
   - Files to modify: [Exact file paths and what to change]
   - Functions to create: [Function names and signatures]
   - Dependencies needed: [What they need from teammates]
   - Git branch: [Branch name, e.g., feature/login-form]
   - Testing: [How to test this task]
   - Integration points: [How this connects to other tasks]
   - Estimated time: [Time estimate]
   
   Task 2: [Task Name]
   - [Same detailed structure as Task 1]
   
   Task 3: [Task Name]
   - [Same detailed structure as Task 1]
   
   ... (Continue for all tasks for this team member)
   
   DEPENDENCIES:
   - Waiting for: [What they need from other team members]
   - Providing to: [What they're creating for others]
   
   CHECK-IN POINTS:
   - After Task 1: [What to share with team]
   - After Task 2: [What to share with team]
   - ... (Continue for each task)
   
   Repeat this entire section for EACH team member.

5. GIT WORKFLOW & BRANCH STRATEGY
   - Branch naming: [Convention, e.g., feature/team-member-name/task-name]
   - Main branch protection: [Rules]
   - Merge process: [How to merge]
   - Conflict resolution: [Process]
   - Commit message format: [Format]

6. DEPLOYMENT PLAN
   - Hosting platform
   - Environment variables needed
   - Build commands
   - Deployment steps

7. DEMO PREPARATION
   - Demo script
   - Key features to showcase
   - Potential issues and solutions

CRITICAL REQUIREMENTS FOR THIS DOCUMENT:
- Focus HEAVILY on step-by-step tasks for each person (Section 4 should be the longest section)
- Emphasize team coordination and context sharing throughout
- Include specific file paths, function names, API endpoints, database tables
- Make it clear that AI assistants must be aware of team collaboration
- Include check-in points and context sharing instructions
- Ensure tasks are broken down into the smallest possible actionable steps
- Every team member should be able to follow their tasks without asking questions

This document will be used by each team member with their own AI coding assistant. The assistants must understand they're part of a coordinated team effort.`,[i.finalized_idea,i.team_members,p.theme,p.tool_specific_awards]),E=()=>`I'm participating in a hackathon and need help brainstorming project ideas.

HACKATHON DETAILS:
- Event Name: ${i.hackathon_name||"[INSERT HACKATHON NAME]"}
- Theme: ${p.theme||"[INSERT THEME, e.g., Education, Healthcare, Sustainability, or leave blank if open]"}
- Tool-Specific Awards: ${p.tool_specific_awards||"[INSERT TOOL-SPECIFIC AWARDS, e.g., Best Use of Twilio API, Best Use of AWS, Best Mobile App, etc.]"}
- Sponsors: ${p.sponsors||"[INSERT ALL SPONSORS FOR THE EVENT]"}
- Judge Demographic: ${p.judge_demographic||"[INSERT JUDGE DEMOGRAPHIC, e.g., Industry professionals, VCs, University professors, etc.]"}

AVAILABLE PRIZE CATEGORIES:
${i.tracks.length>0?i.tracks.map(x=>`- ${x}`).join(`
`):"[INSERT ALL PRIZE CATEGORIES, e.g., Best Overall, Best Design, Best Education Hack, Best AI/ML Hack, etc.]"}

TEAM SIZE: ${i.team_members.length||"[INSERT NUMBER]"} members

ADDITIONAL CONTEXT:
${p.context||"[PASTE RELEVANT CONTEXT HERE - e.g., CTRL+A of the hackathon website, important rules, special requirements, etc.]"}

INSTRUCTIONS:
Please help me brainstorm creative, feasible hackathon project ideas using a TWO-STEP PROCESS:

STEP 1: Generate the core project idea first
- Focus on solving a real problem or addressing the theme
- Consider what prize categories we have a good shot at (pick ones that aren't too competitive)
- Leverage our team's interests and skills
- Ensure it has clear impact and potential for a demo

STEP 2: Incorporate tool-specific awards
- After generating the core idea, creatively incorporate any tool-specific award requirements
- For example: If the core idea is an auditing tool and there's a "Best Messaging App" award, find a way to incorporate messaging features (e.g., real-time notifications, team chat, etc.)
- The tool-specific award should enhance the project, not force a complete pivot

For each idea, provide:
- Project name
- Brief description
- Problem it solves
- Key features
- Suggested tech stack
- Which prize categories it targets (and why we have a good shot)
- How tool-specific awards are incorporated
- Why it's feasible for a hackathon

Let's iterate and refine these ideas together!`,w=()=>`I need you to create an EXTREMELY DETAILED and COMPREHENSIVE master execution document for our hackathon project. This document will be used by a TEAM working together, and each team member will use their own AI coding assistant (Cursor, Claude Code, etc.) to implement their tasks.

CRITICAL: This is a TEAM PROJECT. The document must emphasize coordination, context sharing, and synchronization between team members and their AI assistants.

FINALIZED PROJECT IDEA:
${i.finalized_idea||"[PASTE YOUR FINALIZED IDEA HERE]"}

TEAM MEMBERS:
${i.team_members.length>0?i.team_members.map(C=>`- ${C}`).join(`
`):"[INSERT TEAM MEMBER NAMES]"}

HACKATHON CONTEXT:
- Theme: ${p.theme||"Open"}
- Tool-Specific Awards: ${p.tool_specific_awards||"None"}

Create a MASTER EXECUTION DOCUMENT with the following structure:

1. PROJECT OVERVIEW (Brief - 1-2 paragraphs)
   - Complete project description
   - Problem statement
   - Solution approach
   - Target users
   - Success metrics

2. TECHNICAL ARCHITECTURE (Detailed)
   - System architecture diagram (describe in detail)
   - Technology stack with versions
   - Database schema (if applicable)
   - API endpoints (if applicable)
   - File/folder structure
   - Dependencies and packages needed
   - Environment variables and configuration

3. TEAM COORDINATION PROTOCOL (CRITICAL - NEW SECTION)
   IMPORTANT: This section must be included and emphasized throughout the document.
   
   - TEAM AWARENESS: All AI coding assistants (Cursor, Claude Code, etc.) must understand that this is a collaborative team project. They are NOT working in isolation.
   
   - CONTEXT SHARING MECHANISM:
     * Each team member's AI assistant should periodically (every 30-60 minutes or after completing a task) generate a "context update" from their current branch
     * This context update should include:
       - What files they've created/modified
       - What functions/features they've implemented
       - Current state of their branch
       - Any API contracts, data structures, or interfaces they've defined
       - Dependencies they've added
       - Any blockers or questions
     
   - CONTEXT DISTRIBUTION:
     * Team members should share these context updates with each other (via Discord, shared doc, etc.)
     * Each person should paste their teammates' context updates into their own AI assistant
     * AI assistants should use this shared context to ensure code compatibility and alignment
   
   - CHECK-IN SCHEDULE:
     * Every 2-3 hours, team members should do a "sync check-in"
     * During check-ins:
       - Pull latest changes from main branch
       - Review teammates' context updates
       - Update your AI assistant with latest project state
       - Identify and resolve any conflicts or misalignments
       - Adjust your tasks if needed based on team progress
   
   - BRANCH CONTEXT GENERATION:
     * When a team member completes a task or makes significant progress, their AI assistant should:
       - Analyze the current branch state
       - Generate a summary of changes
       - Identify what other team members need to know
       - Create a context snippet to share
   
   - ALIGNMENT VERIFICATION:
     * Before implementing new features, AI assistants should:
       - Check if any teammates have implemented related code
       - Verify API contracts match
       - Ensure data structures are compatible
       - Confirm naming conventions are consistent

4. STEP-BY-STEP TASKS FOR EACH TEAM MEMBER (CRITICAL - MAIN FOCUS)
   For EACH team member, create an EXTREMELY DETAILED step-by-step task list:
   
   === TEAM MEMBER: [MEMBER NAME] ===
   Role: [Frontend/Backend/Full-stack/Design/etc]
   
   TASKS (Numbered, in order of execution):
   
   Task 1: [Task Name]
   - Description: [What exactly needs to be done]
   - Step 1: [First specific action]
   - Step 2: [Second specific action]
   - Step 3: [Third specific action]
   - ... (continue for all steps)
   - Files to create: [Exact file paths, e.g., src/components/LoginForm.jsx]
   - Files to modify: [Exact file paths and what to change]
   - Functions to create: [Function names and signatures]
   - Dependencies needed: [What they need from teammates]
   - Git branch: [Branch name, e.g., feature/login-form]
   - Testing: [How to test this task]
   - Integration points: [How this connects to other tasks]
   - Estimated time: [Time estimate]
   
   Task 2: [Task Name]
   - [Same detailed structure as Task 1]
   
   Task 3: [Task Name]
   - [Same detailed structure as Task 1]
   
   ... (Continue for all tasks for this team member)
   
   DEPENDENCIES:
   - Waiting for: [What they need from other team members]
   - Providing to: [What they're creating for others]
   
   CHECK-IN POINTS:
   - After Task 1: [What to share with team]
   - After Task 2: [What to share with team]
   - ... (Continue for each task)
   
   Repeat this entire section for EACH team member.

5. GIT WORKFLOW & BRANCH STRATEGY
   - Branch naming: [Convention, e.g., feature/team-member-name/task-name]
   - Main branch protection: [Rules]
   - Merge process: [How to merge]
   - Conflict resolution: [Process]
   - Commit message format: [Format]

6. DEPLOYMENT PLAN
   - Hosting platform
   - Environment variables needed
   - Build commands
   - Deployment steps

7. DEMO PREPARATION
   - Demo script
   - Key features to showcase
   - Potential issues and solutions

CRITICAL REQUIREMENTS FOR THIS DOCUMENT:
- Focus HEAVILY on step-by-step tasks for each person (Section 4 should be the longest section)
- Emphasize team coordination and context sharing throughout
- Include specific file paths, function names, API endpoints, database tables
- Make it clear that AI assistants must be aware of team collaboration
- Include check-in points and context sharing instructions
- Ensure tasks are broken down into the smallest possible actionable steps
- Every team member should be able to follow their tasks without asking questions

This document will be used by each team member with their own AI coding assistant. The assistants must understand they're part of a coordinated team effort.`,k=()=>{s(1)},S=()=>{if(!i.finalized_idea||i.finalized_idea.trim()===""){alert("Please paste your finalized idea before proceeding.");return}w(),s(2)},P=()=>{if(!i.master_document||i.master_document.trim()===""){alert("Please paste your master document before proceeding.");return}s(3)},I=()=>{s(4)},O=()=>{s(5)},j=()=>{const g={user_id:t.id,...i,current_step:5,hackathon_date:i.hackathon_date||null};e(g)};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy",children:"Hackathon Project Wizard"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",n+1," of ",v.length,": ",v[n].title]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex gap-1",children:v.map((g,x)=>o.jsx("button",{onClick:()=>s(x),className:`px-2 py-1 text-xs rounded transition-colors ${x===n?"bg-purple-600 text-white font-bold":x<n?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:g.title,children:x+1},x))}),o.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-between mb-2",children:v.map((g,x)=>o.jsx("div",{className:`flex-1 ${x<v.length-1?"border-t-2":""} ${x<=n?"border-purple-600":"border-gray-200"}`},x))}),o.jsx("div",{className:"flex justify-between text-xs text-gray-500",children:v.map((g,x)=>o.jsx("span",{className:x<=n?"text-purple-600 font-bold":"",children:g.title},x))})]}),n===0&&o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Step 1: Download Required Tools"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Everyone on your team must download these tools before starting the hackathon."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"Required Downloads (Everyone):"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:""}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Discord"})," - Team communication",o.jsx("span",{className:"text-blue-600 ml-2",children:"(Free)"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:""}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Git"})," - Version control",o.jsx("span",{className:"text-blue-600 ml-2",children:"(Free)"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:""}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"Node.js"})," - JavaScript runtime",o.jsx("span",{className:"text-blue-600 ml-2",children:"(Free)"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:""}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",children:"VS Code"})," - Code editor",o.jsx("span",{className:"text-blue-600 ml-2",children:"(Free)"})]})]})]})]}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Choose One AI Build Tool (Required):"}),o.jsx("p",{className:"text-xs text-purple-700 mb-3",children:"Each team member should pick one AI coding assistant. Compare pricing below:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white rounded-lg p-3 border-2 border-green-500 border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Cursor"}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded",children:" Recommended"})]}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI-powered code editor (VS Code fork)"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"Free + $20/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free tier: Limited requests. Pro: Unlimited AI requests, $20/month"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"GitHub Copilot"}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI pair programmer by Microsoft"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"$10/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free for students/teachers. Individual: $10/month, Business: $19/user/month"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border-2 border-green-500 border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Claude Code (via Cline)"}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded",children:" Recommended"})]}),o.jsx("p",{className:"text-xs text-gray-600",children:"VS Code extension using Claude AI"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"$20/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requires Anthropic API key. Claude 3.5 Sonnet: ~$3/million tokens"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Codeium"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Free AI coding assistant"})]}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-1 rounded",children:"Free"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free tier: Unlimited basic completions. Pro: $12/month for advanced features"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Tabnine"}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI code completion"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"Free + $12/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free tier: Limited. Pro: $12/month, Team: $15/user/month"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Aider"}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI pair programming in terminal"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"$20/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Requires OpenAI API key. GPT-4: ~$30/million tokens input, $60/million output"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Continue.dev"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Open source AI coding assistant"})]}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-1 rounded",children:"Free"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free and open source. Requires API key (OpenAI, Anthropic, etc.)"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border-2 border-green-500 border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Antigravity"}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded",children:" Recommended"})]}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI code generation tool"})]}),o.jsx("span",{className:"text-xs font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"$15/mo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Subscription-based AI coding assistant"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-900",children:"Sourcegraph Cody"}),o.jsx("p",{className:"text-xs text-gray-600",children:"AI coding assistant"})]}),o.jsx("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-2 py-1 rounded",children:"Free"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free tier available. Pro: $9/month"})]})]}),o.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[o.jsx("strong",{children:" Tip:"})," For hackathons, Codeium or Continue.dev offer great free options. Cursor Pro is popular for teams that need unlimited requests."]})]}),o.jsx("button",{onClick:k,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700",children:"Continue"})]})}),n===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Step 2: Ideation"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Fill out the hackathon details below, then use the generated prompt with your LLM to brainstorm ideas."}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Team Members"}),o.jsx("div",{className:"flex gap-2 mb-2",children:o.jsx("input",{type:"text",value:c,onChange:g=>u(g.target.value),onKeyPress:g=>{g.key==="Enter"&&c.trim()&&(a({...i,team_members:[...i.team_members,c.trim()]}),u(""))},placeholder:"Enter name and press Enter",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.team_members.map((g,x)=>o.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm flex items-center gap-2",children:[g,o.jsx("button",{onClick:()=>a({...i,team_members:i.team_members.filter((C,A)=>A!==x)}),className:"text-purple-700 hover:text-purple-900",children:""})]},x))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prize Categories"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"List all available prize categories. The AI will help you pick ones you have a good shot at."}),o.jsx("div",{className:"flex gap-2 mb-2",children:o.jsx("input",{type:"text",value:d,onChange:g=>m(g.target.value),onKeyPress:g=>{g.key==="Enter"&&d.trim()&&(a({...i,tracks:[...i.tracks,d.trim()]}),m(""))},placeholder:"e.g., Best Overall, Best Design, Best Education Hack, etc.",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.tracks.map((g,x)=>o.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-2",children:[g,o.jsx("button",{onClick:()=>a({...i,tracks:i.tracks.filter((C,A)=>A!==x)}),className:"text-blue-700 hover:text-blue-900",children:""})]},x))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hackathon Name"}),o.jsx("input",{type:"text",value:i.hackathon_name,onChange:g=>a({...i,hackathon_name:g.target.value}),placeholder:"e.g., PennApps, HackMIT",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Theme (optional)"}),o.jsx("input",{type:"text",value:p.theme,onChange:g=>y({...p,theme:g.target.value}),placeholder:"e.g., Education, Healthcare",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tool-Specific Awards"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Awards that require using specific tools/APIs (e.g., Best Use of Twilio, Best AWS Integration)"}),o.jsx("textarea",{value:p.tool_specific_awards,onChange:g=>y({...p,tool_specific_awards:g.target.value}),placeholder:"e.g., Best Use of Twilio API, Best Mobile App, Best AWS Integration",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"2"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sponsors"}),o.jsx("textarea",{value:p.sponsors,onChange:g=>y({...p,sponsors:g.target.value}),placeholder:"List all sponsors for the event",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"3"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Judge Demographic"}),o.jsx("input",{type:"text",value:p.judge_demographic,onChange:g=>y({...p,judge_demographic:g.target.value}),placeholder:"e.g., Industry professionals, VCs, University professors",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Additional Context"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Paste relevant context (e.g., CTRL+A of hackathon website, important rules, special requirements)"}),o.jsx("textarea",{value:p.context,onChange:g=>y({...p,context:g.target.value}),placeholder:"Paste hackathon website content, rules, requirements, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"6"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-800",children:"Live Ideation Prompt Preview"}),o.jsx("button",{onClick:()=>{const g=E();a({...i,ideation_prompt:g}),navigator.clipboard.writeText(g),alert("Prompt copied to clipboard!")},className:"text-xs px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Copy Prompt"})]}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This prompt updates automatically as you fill out the form above. Use it with Perplexity, Claude, GPT-4, or your preferred LLM to brainstorm ideas."}),o.jsx("textarea",{value:i.ideation_prompt||b,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs bg-gray-50",rows:"15"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Instructions:"}),o.jsxs("ol",{className:"text-sm text-blue-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"Fill out all the hackathon details above"}),o.jsx("li",{children:"Review the generated prompt preview"}),o.jsx("li",{children:'Click "Copy Prompt" to copy it to your clipboard'}),o.jsx("li",{children:"Paste it into Perplexity, Claude, GPT-4, or your preferred LLM"}),o.jsx("li",{children:"Have your team discuss and iterate with the LLM to refine ideas"}),o.jsx("li",{children:"Once you've finalized an idea, paste it in the text area below"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Finalized Idea *"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Paste your finalized project idea here after brainstorming with your team and LLM:"}),o.jsx("textarea",{value:i.finalized_idea,onChange:g=>a({...i,finalized_idea:g.target.value}),placeholder:"Paste your finalized project idea here. Include: project name, description, problem it solves, key features, and tech stack...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"8"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(0),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Back"}),o.jsx("button",{onClick:S,disabled:!i.finalized_idea||i.finalized_idea.trim()==="",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50",children:"Continue"})]})]}),n===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Step 3: Create Master Document"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create an extremely detailed master execution document that will guide your entire team. This document should be comprehensive and clear enough for each team member to work independently."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Instructions:"}),o.jsxs("ol",{className:"text-sm text-blue-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"First, paste your finalized idea into a prompt to get a summary/context"}),o.jsx("li",{children:'Then, use the "Master Document Prompt" below with your LLM to generate the comprehensive execution plan'}),o.jsx("li",{children:"The master document should be EXTREMELY LONG and DETAILED - include specific file paths, function names, API endpoints, etc."}),o.jsx("li",{children:"Paste the complete master document below once generated"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Master Document Prompt Template"}),o.jsx("button",{onClick:()=>{const g=w();a({...i,master_document_prompt:g}),navigator.clipboard.writeText(g),alert("Prompt copied to clipboard!")},className:"text-xs px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Generate & Copy"})]}),o.jsx("textarea",{value:i.master_document_prompt||N,onChange:g=>a({...i,master_document_prompt:g.target.value}),placeholder:"Click 'Generate & Copy' to create your master document prompt...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs",rows:"20",readOnly:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Master Document *"}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Upload a file or paste your complete master execution document below:"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2",children:"Option 1: Upload File"}),o.jsx("input",{type:"file",accept:".txt,.md,.doc,.docx",onChange:g=>{const x=g.target.files[0];if(x){const C=new FileReader;C.onload=A=>{a({...i,master_document:A.target.result})},C.readAsText(x)}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: .txt, .md, .doc, .docx"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2",children:"Option 2: Paste Text"}),o.jsx("textarea",{value:i.master_document,onChange:g=>a({...i,master_document:g.target.value}),placeholder:"Paste your complete master document here. It should include: project overview, technical architecture, step-by-step tasks for each team member, team coordination protocol, git workflow, deployment plan, and demo preparation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs",rows:"25"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Back"}),o.jsx("button",{onClick:P,disabled:!i.master_document||i.master_document.trim()==="",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50",children:"Continue"})]})]}),n===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Step 4: Individual LLM Setup"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Each team member should set up their personal LLM (web-based) to act as their context/AI/prompt engineer."}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"For Each Team Member:"}),o.jsxs("ol",{className:"text-sm text-purple-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"Open a web-based LLM (Claude, GPT-4, Perplexity, etc.)"}),o.jsx("li",{children:"Paste the ENTIRE master document into the LLM"}),o.jsx("li",{children:'Provide your name and ask: "What do I need to do?"'}),o.jsx("li",{children:"The LLM will guide you through your specific batch of tasks"}),o.jsx("li",{children:"Use the LLM to create prompts for your in-house coding agent (Cursor, Claude Code, etc.)"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Example Prompt for Your LLM:"}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded font-mono text-xs",children:[o.jsx("p",{className:"mb-2",children:"Here is our complete hackathon project master document:"}),o.jsx("p",{className:"mb-2",children:"[PASTE ENTIRE MASTER DOCUMENT HERE]"}),o.jsx("p",{className:"mb-2",children:"My name is: [YOUR NAME]"}),o.jsx("p",{children:"What do I need to do? Please guide me through my specific tasks and help me create prompts for my coding agent."})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-yellow-900 mb-2",children:" Tips:"}),o.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Keep the master document in context throughout the hackathon"}),o.jsx("li",{children:"Ask your LLM to break down complex tasks into smaller steps"}),o.jsx("li",{children:"Have your LLM create specific, actionable prompts for your coding agent"}),o.jsx("li",{children:"Update your LLM when dependencies are ready or blockers occur"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(2),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Back"}),o.jsx("button",{onClick:I,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700",children:"Continue"})]})]}),n===4&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Step 5: Execution"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Work through your tasks following your LLM's guidance and using your coding agent."}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-3",children:"Execution Workflow:"}),o.jsxs("ol",{className:"text-sm text-green-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"Follow your LLM's instructions step-by-step"}),o.jsx("li",{children:"Use your LLM to create prompts for your in-house coding agent (Cursor, Claude Code, etc.)"}),o.jsx("li",{children:"Implement features according to your batch in the master document"}),o.jsx("li",{children:"Push your code to Git when you complete tasks"}),o.jsx("li",{children:"Pull latest changes from teammates regularly"}),o.jsx("li",{children:"Wait for dependencies if needed (communicate in Discord)"}),o.jsx("li",{children:"Test your work and integrate with teammates' code"}),o.jsx("li",{children:"Continue iterating until all features are complete"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Git Workflow Reminder:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[o.jsxs("li",{children:["Create feature branches: ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"git checkout -b feature/your-feature"})]}),o.jsxs("li",{children:["Commit frequently: ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:'git commit -m "descriptive message"'})]}),o.jsxs("li",{children:["Push your branch: ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"git push origin feature/your-feature"})]}),o.jsxs("li",{children:["Pull latest changes: ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"git pull origin main"})]}),o.jsx("li",{children:"Merge conflicts? Ask your LLM for help resolving them"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Communication:"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Keep your team updated in Discord. Share progress, blockers, and when dependencies are ready. Use your LLM to help communicate technical details clearly."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(3),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Back"}),o.jsx("button",{onClick:O,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700",children:"Continue"})]})]}),n===5&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Step 6: Pitch Deck & DevPost"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create your presentation and submit to DevPost before the deadline."}),o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Pitch Deck Creation:"}),o.jsxs("ol",{className:"text-sm text-purple-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"Assign someone (or multiple people) to create the pitch deck"}),o.jsx("li",{children:"Use Canva, Figma, or Google Slides"}),o.jsx("li",{children:"Include: Problem, Solution, Demo, Impact, Tech Stack, Team"}),o.jsx("li",{children:"Keep it concise - usually 3-5 minutes for presentation"}),o.jsx("li",{children:"Practice the pitch with your team"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"DevPost Submission:"}),o.jsxs("ol",{className:"text-sm text-blue-800 space-y-2 list-decimal list-inside",children:[o.jsx("li",{children:"Create account on DevPost (if not already done)"}),o.jsx("li",{children:"Fill out project details: name, description, problem, solution"}),o.jsx("li",{children:"Add screenshots/demo video"}),o.jsx("li",{children:"List technologies used"}),o.jsx("li",{children:"Add team members"}),o.jsx("li",{children:"Include GitHub repository link"}),o.jsx("li",{children:"Submit before the deadline!"})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-bold text-yellow-900 mb-2",children:"Demo Preparation:"}),o.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"Test your demo thoroughly before presenting"}),o.jsx("li",{children:"Have a backup plan if live demo fails (recorded video)"}),o.jsx("li",{children:"Prepare answers to common questions"}),o.jsx("li",{children:"Highlight your best features"}),o.jsx("li",{children:"Show the problem you're solving clearly"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(4),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300",children:"Back"}),o.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700",children:"Complete Setup"})]})]})]})},FC=({hackathon:t,user:e,onBack:r,onUpdate:n})=>{const[s,i]=D.useState(()=>t.current_step||0),a=D.useRef(t.current_step||0),c=["Download Tools","Ideation","Master Document","Individual Setup","Execution","Pitch & Submit"],u=async d=>{if(d!==s){i(d),a.current=d;try{const{error:m}=await Z.from("hackathon_programs").update({current_step:d,updated_at:new Date().toISOString()}).eq("id",t.id);m&&(console.error("Error updating step:",m),i(a.current))}catch(m){console.error("Error updating step:",m),i(a.current)}}};return o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("button",{onClick:r,className:"mb-4 text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Dashboard"]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy mb-2",children:t.hackathon_name}),o.jsx("p",{className:"text-gray-600 mb-4",children:t.hackathon_date?new Date(t.hackathon_date).toLocaleDateString():"Date TBD"}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:["Step ",s+1," of ",c.length]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${(s+1)/c.length*100}%`}})})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Project Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.team_members&&t.team_members.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Team Members"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.team_members.map((d,m)=>o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:d},m))})]}),t.tracks&&t.tracks.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Prize Categories / Tracks"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.tracks.map((d,m)=>o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:d},m))})]}),t.discord_link&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Discord Link"}),o.jsx("a",{href:t.discord_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all",children:t.discord_link})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Created"}),o.jsx("p",{className:"text-sm text-gray-600",children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-6 gap-2 mb-6",children:c.map((d,m)=>o.jsx("button",{onClick:()=>u(m),className:`p-3 rounded-lg text-xs font-semibold transition-all ${m===s?"bg-purple-600 text-white":m<s?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-500"}`,children:m+1},m))}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Documents & Resources"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.ideation_prompt&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Ideation Prompt"}),o.jsx("button",{onClick:()=>{const d=new Blob([t.ideation_prompt],{type:"text/plain"}),m=URL.createObjectURL(d),p=document.createElement("a");p.href=m,p.download=`${t.hackathon_name}_ideation_prompt.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m)},className:"text-xs text-blue-600 hover:underline",children:"Download"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50 max-h-48 overflow-y-auto",children:o.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono",children:t.ideation_prompt})})]}),t.master_document_prompt&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Master Document Prompt"}),o.jsx("button",{onClick:()=>{const d=new Blob([t.master_document_prompt],{type:"text/plain"}),m=URL.createObjectURL(d),p=document.createElement("a");p.href=m,p.download=`${t.hackathon_name}_master_document_prompt.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m)},className:"text-xs text-blue-600 hover:underline",children:"Download"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50 max-h-48 overflow-y-auto",children:o.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono",children:t.master_document_prompt})})]}),t.finalized_idea&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Finalized Idea"}),o.jsx("button",{onClick:()=>{const d=new Blob([t.finalized_idea],{type:"text/plain"}),m=URL.createObjectURL(d),p=document.createElement("a");p.href=m,p.download=`${t.hackathon_name}_finalized_idea.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m)},className:"text-xs text-blue-600 hover:underline",children:"Download"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50 max-h-48 overflow-y-auto",children:o.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.finalized_idea})})]}),t.master_document&&o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 md:col-span-2",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Master Document"}),o.jsx("button",{onClick:()=>{const d=new Blob([t.master_document],{type:"text/plain"}),m=URL.createObjectURL(d),p=document.createElement("a");p.href=m,p.download=`${t.hackathon_name}_master_document.txt`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m)},className:"text-xs text-blue-600 hover:underline",children:"Download"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50 max-h-64 overflow-y-auto",children:o.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono",children:t.master_document})})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:c[s]}),s===0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"Review your project information above. Make sure all team members have access to the Discord link and understand the prize categories you're targeting."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[t.discord_link&&o.jsx("li",{children:o.jsx("a",{href:t.discord_link,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:" Join Discord Server"})}),o.jsx("li",{children:" Download required tools (Cursor, Lovable, etc.)"}),o.jsx("li",{children:" Set up development environment"})]})]})]}),s===1&&o.jsx("div",{className:"space-y-4",children:t.finalized_idea?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-600",children:"Your finalized idea is shown in the Documents & Resources section above. Use this to guide your development."}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-green-800",children:" Idea finalized. You can reference it above or download it for easy access."})})]}):o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-yellow-800",children:"No finalized idea yet. Complete the ideation step in the wizard to generate your project idea."})})}),s===2&&o.jsx("div",{className:"space-y-4",children:t.master_document?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-600",children:"Your master document is shown in the Documents & Resources section above. This is your complete execution plan."}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-green-800 mb-2",children:" Master document created. Use this to coordinate with your team and AI assistants."}),o.jsx("p",{className:"text-xs text-green-700",children:"Tip: Each team member should copy the master document and paste it into their LLM (Claude, GPT-4, etc.) to get personalized task breakdowns."})]})]}):o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-yellow-800",children:"No master document yet. Complete the master document step in the wizard to generate your execution plan."})})}),s===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Individual LLM Setup"}),o.jsx("p",{className:"text-gray-600",children:"Each team member should:"}),o.jsxs("ol",{className:"list-decimal list-inside text-gray-700 space-y-2",children:[o.jsx("li",{children:"Open a web-based LLM (Claude, GPT-4, Perplexity, etc.)"}),o.jsx("li",{children:"Paste the entire master document"}),o.jsx("li",{children:"Provide your name and ask what you need to do"}),o.jsx("li",{children:"Use the LLM to create prompts for your coding agent"})]})]}),s===4&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Execution Phase"}),o.jsx("p",{className:"text-gray-600",children:"Work through your tasks:"}),o.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[o.jsx("li",{children:"Follow your LLM's instructions step-by-step"}),o.jsx("li",{children:"Use your LLM to create prompts for your coding agent"}),o.jsx("li",{children:"Push/pull code regularly"}),o.jsx("li",{children:"Communicate with your team in Discord"}),o.jsx("li",{children:"Test and integrate your work"})]})]}),s===5&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Pitch Deck & DevPost"}),o.jsx("p",{className:"text-gray-600",children:"Final steps:"}),o.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[o.jsx("li",{children:"Create your pitch deck (Canva, Figma, or Google Slides)"}),o.jsx("li",{children:"Submit to DevPost before the deadline"}),o.jsx("li",{children:"Prepare your demo"}),o.jsx("li",{children:"Practice your presentation"})]})]})]})]})},UC=({hackathons:t,user:e,onSelect:r,onRefresh:n})=>{const s=as();return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy",children:"Hackathon Projects"}),o.jsxs("button",{onClick:()=>s("/hackathons"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 flex items-center gap-2",children:[o.jsx(ee.Sparkles,{})," Start New Project"]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't created any hackathon projects yet."}),o.jsx("button",{onClick:()=>s("/hackathons"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700",children:"Start Your First Project"})]}):o.jsx("div",{className:"grid gap-4",children:t.map(i=>o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r(i),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gvcs-navy mb-1",children:i.hackathon_name}),o.jsx("p",{className:"text-sm text-gray-500",children:i.hackathon_date?new Date(i.hackathon_date).toLocaleDateString():"Date TBD"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-xs",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${(i.current_step+1)/6*100}%`}})}),o.jsxs("span",{className:"text-xs text-gray-600",children:["Step ",i.current_step+1,"/6"]})]})]}),o.jsx(ee.ArrowRight,{className:"w-6 h-6 text-gray-400"})]})},i.id))})]})},$C=({user:t,onBack:e})=>{const[r,n]=D.useState([]),[s,i]=D.useState([]),[a,c]=D.useState([]),[u,d]=D.useState([]),[m,p]=D.useState([]),[y,v]=D.useState(!0),[b,N]=D.useState(null),[E,w]=D.useState("users");D.useEffect(()=>{k()},[]);const k=async()=>{v(!0);try{const{data:P,error:I}=await Z.from("user_courses").select("*, user_id").order("created_at",{ascending:!1});if(I)throw I;i(P||[]);const{data:O,error:j}=await Z.from("hackathon_programs").select("*, user_id").order("created_at",{ascending:!1});if(j&&j.code!=="42P01")throw j;c(O||[]);const{data:g,error:x}=await Z.from("user_profiles").select("*, user_id").order("created_at",{ascending:!1});x?x.code==="PGRST116"||x.code==="42P01"||x.code==="406"?(console.warn("user_profiles table not accessible:",x.code),d([])):(console.error("Error fetching profiles:",x),d([])):d(g||[]);const{data:C,error:A}=await Z.from("user_problem_statuses").select("*, user_id").order("created_at",{ascending:!1});if(A&&A.code!=="42P01")throw A;p(C||[]);const R=new Set;P==null||P.forEach(q=>R.add(q.user_id)),O==null||O.forEach(q=>R.add(q.user_id)),g==null||g.forEach(q=>R.add(q.user_id)),C==null||C.forEach(q=>R.add(q.user_id));const T=Array.from(R).map(q=>{const te=(P==null?void 0:P.filter(M=>M.user_id===q))||[],J=(O==null?void 0:O.filter(M=>M.user_id===q))||[],F=g==null?void 0:g.find(M=>M.user_id===q),U=(C==null?void 0:C.filter(M=>M.user_id===q))||[];return{id:q,email:(F==null?void 0:F.display_name)||`User ${q.substring(0,8)}`,courses:te,hackathons:J,profile:F,problemStatuses:U,totalCourses:te.length,totalHackathons:J.length,totalProblems:U.length}});n(T)}catch(P){console.error("Error fetching admin data:",P),alert("Failed to load admin data. Make sure you have admin permissions.")}finally{v(!1)}},S=P=>{if(!P||P.length===0)return 0;const I=P.filter(O=>O.submissions&&O.submissions[O.selectedActivity||O.selected_activity]).length;return Math.round(I/P.length*100)};return y?o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gvcs-navy mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading admin data..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"Admin Panel"}),o.jsx("p",{className:"text-gray-600",children:"View all users, courses, hackathons, and progress"})]}),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-bold hover:bg-gray-200 transition-colors",children:"Back to Dashboard"})]}),o.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("div",{className:"text-3xl font-bold text-gvcs-navy mb-1",children:r.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:s.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Courses"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:a.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Hackathons"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:m.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Problem Attempts"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-4 font-bold transition-colors ${E==="users"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:["Users (",r.length,")"]}),o.jsxs("button",{onClick:()=>w("courses"),className:`px-6 py-4 font-bold transition-colors ${E==="courses"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:["All Courses (",s.length,")"]}),o.jsxs("button",{onClick:()=>w("hackathons"),className:`px-6 py-4 font-bold transition-colors ${E==="hackathons"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:["All Hackathons (",a.length,")"]}),o.jsxs("button",{onClick:()=>w("problems"),className:`px-6 py-4 font-bold transition-colors ${E==="problems"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:["Problem Statuses (",m.length,")"]})]}),o.jsxs("div",{className:"p-6",children:[E==="users"&&o.jsx("div",{className:"space-y-4",children:r.map(P=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:P.email}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Courses: "}),o.jsx("span",{className:"font-bold text-purple-600",children:P.totalCourses})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Hackathons: "}),o.jsx("span",{className:"font-bold text-green-600",children:P.totalHackathons})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Problems: "}),o.jsx("span",{className:"font-bold text-blue-600",children:P.totalProblems})]})]})]}),o.jsx("button",{onClick:()=>N((b==null?void 0:b.id)===P.id?null:P),className:"px-4 py-2 bg-gvcs-navy text-white rounded-lg font-bold hover:bg-blue-900 transition-colors text-sm",children:(b==null?void 0:b.id)===P.id?"Hide Details":"View Details"})]}),(b==null?void 0:b.id)===P.id&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4",children:[P.courses.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Courses:"}),o.jsx("div",{className:"space-y-2",children:P.courses.map(I=>{var O;return o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-bold text-gray-900",children:I.course_title}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",S(I.weeks),"%  Weeks: ",((O=I.weeks)==null?void 0:O.length)||0]})]},I.id)})})]}),P.hackathons.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Hackathons:"}),o.jsx("div",{className:"space-y-2",children:P.hackathons.map(I=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-bold text-gray-900",children:I.hackathon_name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Date: ",I.hackathon_date?new Date(I.hackathon_date).toLocaleDateString():"TBD","  Step: ",I.current_step+1,"/6"]})]},I.id))})]}),P.profile&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Profile:"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:o.jsxs("div",{className:"text-sm text-gray-600",children:["Grade: ",P.profile.grade_level||"N/A","  Graduation: ",P.profile.graduation_year||"N/A"]})})]})]})]},P.id))}),E==="courses"&&o.jsx("div",{className:"space-y-4",children:s.map(P=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"font-bold text-gray-900 mb-1",children:P.course_title}),o.jsxs("div",{className:"text-sm text-gray-600",children:["User ID: ",P.user_id.substring(0,8),"...  Progress: ",S(P.weeks),"%  Created: ",new Date(P.created_at).toLocaleDateString()]})]},P.id))}),E==="hackathons"&&o.jsx("div",{className:"space-y-4",children:a.map(P=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"font-bold text-gray-900 mb-1",children:P.hackathon_name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["User ID: ",P.user_id.substring(0,8),"...  Date: ",P.hackathon_date?new Date(P.hackathon_date).toLocaleDateString():"TBD","  Step: ",P.current_step+1,"/6  Created: ",new Date(P.created_at).toLocaleDateString()]})]},P.id))}),E==="problems"&&o.jsx("div",{className:"space-y-4",children:m.map(P=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"font-bold text-gray-900 mb-1",children:[P.problem_url.substring(0,60),"..."]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["User ID: ",P.user_id.substring(0,8),"...  Status: ",o.jsx("span",{className:`font-bold ${P.status==="solved"?"text-green-600":P.status==="attempted"?"text-yellow-600":"text-red-600"}`,children:P.status}),"  Updated: ",new Date(P.updated_at).toLocaleDateString()]})]},P.id))})]})]})]})},zC=({user:t})=>{const e=qt(),[r,n]=D.useState("courses");D.useEffect(()=>{new URLSearchParams(e.search).get("tab")==="hackathons"&&n("hackathons")},[e.search]);const[s,i]=D.useState([]),[a,c]=D.useState([]),[u,d]=D.useState(null),[m,p]=D.useState(!0),[y,v]=D.useState(null),[b,N]=D.useState(null),[E,w]=D.useState(null),[k,S]=D.useState(!1),[P,I]=D.useState(null);D.useEffect(()=>{t&&O()},[t]);const O=async()=>{var g,x,C,A,R;if(t!=null&&t.id){p(!0);try{const{data:T,error:q}=await Z.from("user_courses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(q)throw q;const te=(T||[]).map($=>({id:$.id,courseTitle:$.course_title,courseId:$.course_id,addedDate:$.created_at,weeks:($.weeks||[]).map(H=>({...H,selectedActivity:H.selected_activity||H.selectedActivity||null})),progress:j($.weeks||[])}));i(te);const{data:J,error:F}=await Z.from("hackathon_programs").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(F){const $=JSON.stringify(F).toLowerCase();F.code==="42P01"||(g=F.message)!=null&&g.includes("404")||$.includes("404")||(x=F.message)!=null&&x.includes("relation")||(C=F.message)!=null&&C.includes("does not exist")?(console.warn("hackathon_programs table does not exist yet. Run the SQL schema in Supabase."),c([])):(console.warn("Error fetching hackathons (non-critical):",F),c([]))}else c(J||[]);const{data:U,error:M}=await Z.from("user_profiles").select("*").eq("user_id",t.id).maybeSingle();M?M.code==="PGRST116"||M.code==="42P01"||M.code==="406"||(A=M.message)!=null&&A.includes("404")||(R=M.message)!=null&&R.includes("406")?(M.code!=="PGRST116"&&M.code!=="406"&&console.warn("user_profiles table does not exist yet. Run the SQL schema in Supabase."),d(null)):(console.warn("Error fetching profile:",M),d(null)):d(U)}catch(T){console.error("Error fetching dashboard data:",T),alert("Failed to load dashboard. Please try again.")}finally{p(!1)}}},j=g=>{if(!g||g.length===0)return{completed:0,total:0,percentage:0};const x=g.filter(C=>C.submissions&&C.submissions[C.selectedActivity||C.selected_activity]).length;return{completed:x,total:g.length,percentage:Math.round(x/g.length*100)}};if(!t)return o.jsxs("div",{className:"max-w-6xl mx-auto p-6 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy mb-4",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view your dashboard."})]});if(m)return o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy mb-6",children:"Dashboard"}),o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"Loading..."})})]});if(y&&b!==null){const g=y.weeks[b];return o.jsx(KC,{course:y,week:g,weekIndex:b,onBack:()=>N(null),onUpdateCourse:async x=>{try{const C=x.weeks.map(T=>({week:T.week,topic:T.topic,description:T.description,resources:T.resources,deliverables:T.deliverables,selected_activity:T.selectedActivity||T.selected_activity||null,submissions:T.submissions||{builder:null,academic:null,communicator:null}})),{error:A}=await Z.from("user_courses").update({weeks:C,updated_at:new Date().toISOString()}).eq("id",x.id);if(A)throw A;const R=s.map(T=>T.id===x.id?x:T);i(R),v(x),O()}catch(C){console.error("Error updating course:",C),alert("Failed to save changes. Please try again.")}}})}return y?o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("button",{onClick:()=>v(null),className:"mb-4 text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Dashboard"]}),o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy mb-6",children:y.courseTitle}),o.jsx("div",{className:"space-y-4",children:y.weeks.map((g,x)=>{const C=R=>g.submissions&&g.submissions&&g.submissions[R],A=P===x;return o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>I(A?null:x),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"font-bold text-gray-800 text-lg",children:["Week ",g.week,": ",g.topic]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex gap-2",title:"Ellis Activities: Academic, Builder, Communicator",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${C("academic")?"bg-green-500":"bg-gray-300"}`,title:"Academic"}),o.jsx("div",{className:`w-3 h-3 rounded-full ${C("builder")?"bg-green-500":"bg-gray-300"}`,title:"Builder"}),o.jsx("div",{className:`w-3 h-3 rounded-full ${C("communicator")?"bg-green-500":"bg-gray-300"}`,title:"Communicator"})]}),o.jsx(ee.ArrowRight,{className:`w-5 h-5 text-gray-400 transition-transform ${A?"rotate-90":""}`})]})]})}),A&&o.jsx(VC,{week:g,weekIndex:x,course:y,onUpdateCourse:async R=>{try{const T=R.weeks.map(J=>({week:J.week,topic:J.topic,description:J.description,resources:J.resources,deliverables:J.deliverables,selected_activity:J.selectedActivity||J.selected_activity||null,submissions:J.submissions||{builder:null,academic:null,communicator:null}})),{error:q}=await Z.from("user_courses").update({weeks:T,updated_at:new Date().toISOString()}).eq("id",R.id);if(q)throw q;const te=s.map(J=>J.id===R.id?R:J);i(te),v(R),O()}catch(T){console.error("Error updating course:",T),alert("Failed to save changes. Please try again.")}}})]},g.week)})})]}):E?o.jsx(FC,{hackathon:E,user:t,onBack:()=>w(null),onUpdate:O}):o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage your courses, hackathons, and profile"})]}),o.jsx("div",{className:"mb-8",children:o.jsx(MC,{user:t,profile:u,isEditing:k,onEdit:()=>S(!0),onSave:async g=>{try{const{error:x}=await Z.from("user_profiles").upsert({user_id:t.id,...g,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(x)throw x;d({...u,...g}),S(!1),alert("Profile updated!")}catch(x){console.error("Error updating profile:",x),alert("Failed to update profile.")}},onCancel:()=>S(!1)})}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>n("courses"),className:`px-4 py-2 font-semibold transition-colors ${r==="courses"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:"My Courses"}),o.jsx("button",{onClick:()=>n("hackathons"),className:`px-4 py-2 font-semibold transition-colors ${r==="hackathons"?"text-gvcs-navy border-b-2 border-gvcs-navy":"text-gray-500 hover:text-gray-700"}`,children:"Hackathon Projects"})]}),r==="courses"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy",children:"My Courses"})}),s.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't added any courses yet."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Go to Curriculum Generator and add a course to get started!"})]}):o.jsx("div",{className:"grid gap-4",children:s.map(g=>{const x=j(g.weeks);return o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>v(g),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gvcs-navy mb-2",children:g.courseTitle}),o.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Added ",new Date(g.addedDate).toLocaleDateString(),"  ",g.weeks.length," weeks"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-xs",children:o.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${x.percentage}%`}})}),o.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:[x.completed,"/",x.total," weeks"]}),x.percentage===100&&o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded text-xs font-bold",children:"Completed"})]})]}),o.jsx(ee.ArrowRight,{className:"w-6 h-6 text-gray-400"})]})},g.id)})})]}),r==="hackathons"&&o.jsx(UC,{hackathons:a,user:t,onSelect:g=>w(g),onRefresh:O})]})},VC=({week:t,weekIndex:e,course:r,onUpdateCourse:n})=>{var a,c,u;const[s,i]=D.useState("learning");return o.jsxs("div",{className:"border-t border-gray-200",children:[o.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:()=>i("learning"),className:`px-4 py-3 text-sm font-semibold transition-colors ${s==="learning"?"text-gvcs-navy border-b-2 border-gvcs-navy bg-white":"text-gray-600 hover:text-gray-900"}`,children:" Learning Resources"}),o.jsxs("button",{onClick:()=>i("academic"),className:`px-4 py-3 text-sm font-semibold transition-colors relative ${s==="academic"?"text-purple-600 border-b-2 border-purple-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:[" Academic: Test",((a=t.submissions)==null?void 0:a.academic)&&o.jsx("span",{className:"ml-2 w-2 h-2 bg-green-500 rounded-full inline-block"})]}),o.jsxs("button",{onClick:()=>i("builder"),className:`px-4 py-3 text-sm font-semibold transition-colors relative ${s==="builder"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:[" Builder: Project",((c=t.submissions)==null?void 0:c.builder)&&o.jsx("span",{className:"ml-2 w-2 h-2 bg-green-500 rounded-full inline-block"})]}),o.jsxs("button",{onClick:()=>i("communicator"),className:`px-4 py-3 text-sm font-semibold transition-colors relative ${s==="communicator"?"text-orange-600 border-b-2 border-orange-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:[" Communicator: Presentation",((u=t.submissions)==null?void 0:u.communicator)&&o.jsx("span",{className:"ml-2 w-2 h-2 bg-green-500 rounded-full inline-block"})]})]}),o.jsxs("div",{className:"p-6",children:[s==="learning"&&o.jsx(HC,{week:t}),s==="academic"&&o.jsx(qC,{week:t,weekIndex:e,course:r,onUpdateCourse:n}),s==="builder"&&o.jsx(WC,{week:t,weekIndex:e,course:r,onUpdateCourse:n}),s==="communicator"&&o.jsx(GC,{week:t,weekIndex:e,course:r,onUpdateCourse:n})]})]})},HC=({week:t})=>o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," These resources are optional learning materials to help you understand the week's content before completing your Ellis activities. You don't need to complete them, but they're recommended!"]})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Learning Resources"}),t.resources&&t.resources.length>0?o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.resources.map((e,r)=>o.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${e.type==="Video"?"bg-red-100 text-red-600":e.type==="Article"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:e.type==="Video"?"":""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:e.title}),o.jsx("p",{className:"text-xs text-gray-500",children:e.type})]}),o.jsx(ee.Link,{className:"w-4 h-4 text-gray-400"})]})},r))}):o.jsx("p",{className:"text-gray-500 text-sm",children:"No resources available for this week."})]}),qC=({week:t,weekIndex:e,course:r,onUpdateCourse:n})=>{var I,O,j,g,x,C,A,R,T,q,te,J,F,U;const[s,i]=D.useState({}),[a,c]=D.useState(!1),[u,d]=D.useState(!1),[m,p]=D.useState(!1),[y,v]=D.useState(((O=(I=t.submissions)==null?void 0:I.academic)==null?void 0:O.history)||[]),b=(j=t.submissions)==null?void 0:j.academic,E=(M=>{const H={"Asymptotic Analysis: Big-O Notation":{mcq:[{id:"q1",question:"What is the time complexity of the following code snippet?\n\n```python\nfor i in range(n):\n    for j in range(i):\n        print(i, j)\n```",type:"mcq",options:["O(n)","O(n)","O(n log n)","O(2)"],correct:1,points:2},{id:"q2",question:"What is the time complexity of accessing an element in an array by index?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n)"],correct:0,points:2},{id:"q3",question:"Which of the following best describes Big-O notation?",type:"mcq",options:["Exact runtime","Upper bound on growth rate","Lower bound on growth rate","Average case complexity"],correct:1,points:2},{id:"q4",question:"What is the time complexity of binary search on a sorted array?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n log n)"],correct:2,points:2},{id:"q5",question:"What is the space complexity of merge sort?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n log n)"],correct:1,points:2},{id:"q6",question:"Which sorting algorithm has the best average time complexity?",type:"mcq",options:["Bubble sort","Insertion sort","Quick sort","Selection sort"],correct:2,points:2},{id:"q7",question:"What is the time complexity of finding an element in an unsorted array?",type:"mcq",options:["O(1)","O(log n)","O(n)","O(n log n)"],correct:2,points:2},{id:"q8",question:"Which data structure allows O(1) average time complexity for insert, delete, and search?",type:"mcq",options:["Array","Linked List","Hash Table","Binary Search Tree"],correct:2,points:2},{id:"q9",question:"What is the time complexity of the following operation: finding the maximum element in an unsorted array?",type:"mcq",options:["O(1)","O(log n)","O(n)","O(n)"],correct:2,points:2},{id:"q10",question:"Which notation describes the tight bound (both upper and lower bound)?",type:"mcq",options:["Big-O","Big- (Omega)","Big- (Theta)","Little-o"],correct:2,points:2}],fillblank:[{id:"q11",question:"The time complexity of binary search is O(___).",type:"fillblank",points:3},{id:"q12",question:"Big-O notation describes the ___ bound on the growth rate of an algorithm.",type:"fillblank",points:2}],saq:[{id:"q13",question:"Explain the difference between Big-O, Big- (Theta), and Big- (Omega) notation. Provide an example for each.",type:"text",points:15},{id:"q14",question:"Analyze the time complexity of binary search. Show your work step-by-step and explain why it is O(log n).",type:"text",points:15}]},"Linear Structures: Dynamic Arrays and Linked Lists":{mcq:[{id:"q1",question:"What is the time complexity of inserting an element at the beginning of a dynamic array?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n)"],correct:1,points:2},{id:"q2",question:"What is the time complexity of inserting an element at the beginning of a linked list?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n)"],correct:0,points:2},{id:"q3",question:"What is the amortized time complexity of appending to a dynamic array?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n log n)"],correct:0,points:2},{id:"q4",question:"Which data structure uses contiguous memory allocation?",type:"mcq",options:["Linked List","Dynamic Array","Both","Neither"],correct:1,points:2},{id:"q5",question:"What happens when a dynamic array needs to grow beyond its current capacity?",type:"mcq",options:["It fails","It automatically resizes","It overwrites existing elements","It uses linked list internally"],correct:1,points:2},{id:"q6",question:"What is the time complexity of accessing an element by index in a linked list?",type:"mcq",options:["O(1)","O(n)","O(log n)","O(n)"],correct:1,points:2},{id:"q7",question:"Which operation is more efficient in a dynamic array compared to a linked list?",type:"mcq",options:["Insertion at beginning","Random access by index","Deletion at beginning","All of the above"],correct:1,points:2},{id:"q8",question:"What is the typical resizing strategy for dynamic arrays?",type:"mcq",options:["Add 1 element","Double the size","Triple the size","Add 10 elements"],correct:1,points:2},{id:"q9",question:"Which data structure has better cache locality?",type:"mcq",options:["Linked List","Dynamic Array","Both are equal","Depends on implementation"],correct:1,points:2},{id:"q10",question:"What is the space overhead per element in a linked list (assuming pointers)?",type:"mcq",options:["O(1)","O(n)","O(log n)","Depends on data size"],correct:0,points:2}],fillblank:[{id:"q11",question:"Inserting an element at the beginning of a dynamic array has time complexity O(___).",type:"fillblank",points:2},{id:"q12",question:"The amortized time complexity of appending to a dynamic array is O(___).",type:"fillblank",points:2}],saq:[{id:"q13",question:"Describe the resizing strategy for dynamic arrays. What happens when the array needs to grow? What is the amortized time complexity?",type:"text",points:15},{id:"q14",question:"Compare the space complexity of arrays vs linked lists. Include overhead in your analysis. When would you choose a dynamic array over a linked list?",type:"text",points:15}]}}[M.topic];return H?[...H.mcq,...H.fillblank||[],...H.saq]:[{id:"q1",question:`Explain the key concepts covered in "${M.topic}". Provide examples.`,type:"text",points:25},{id:"q2",question:`Analyze the time and space complexity of the main algorithms/data structures in "${M.topic}".`,type:"text",points:25}]})(t),w=E.reduce((M,$)=>M+$.points,0);(g=t.submissions)==null||g.academic;const k=E.filter(M=>M.type==="mcq");E.filter(M=>M.type==="fillblank");const S=E.filter(M=>M.type==="text"),P=async M=>{M.preventDefault(),c(!0);const $=Math.floor(Math.random()*20)+80,H={answers:s,submittedDate:new Date().toISOString(),score:$,totalPoints:w,grade:$>=90?"A":$>=80?"B":$>=70?"C":"D"},Y={...r};Y.weeks[e].submissions||(Y.weeks[e].submissions={builder:null,academic:null,communicator:null});const X=[...y,H];Y.weeks[e].submissions.academic={...H,history:X},v(X),n(Y),c(!1),d(!1),i({}),alert(`Test submitted! Score: ${$}/${w} (${H.grade})`)};return b&&!u&&!m?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-green-800",children:" Latest Test Completed"}),o.jsxs("span",{className:"text-lg font-bold text-green-700",children:["Score: ",b.score,"/",b.totalPoints," (",b.grade,")"]})]}),o.jsxs("p",{className:"text-sm text-green-600",children:["Submitted ",new Date(b.submittedDate).toISOString().split("T")[0]]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200",children:["View History (",y.length," attempts)"]}),o.jsx("button",{onClick:()=>{d(!0),i({})},className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Retake Test"})]})]}):m&&!u?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Test History"}),o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200",children:"Back"})]}),o.jsx("div",{className:"space-y-4",children:y.map((M,$)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-800",children:["Attempt #",y.length-$]}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(M.submittedDate).toLocaleString()})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[M.score,"/",M.totalPoints," (",M.grade,")"]})})]}),o.jsx("div",{className:"space-y-3",children:E.map((H,Y)=>o.jsxs("div",{className:"border-b border-gray-100 pb-2 last:border-0",children:[o.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:["Q",Y+1," (",H.points," pts)"]}),o.jsx("div",{className:"text-xs text-gray-600",children:H.type==="mcq"?o.jsxs("span",{children:["Selected: ",M.answers[H.id]!==void 0?H.options[M.answers[H.id]]:"No answer"]}):H.type==="fillblank"?o.jsxs("span",{children:["Answer: ",M.answers[H.id]||"No answer"]}):o.jsx("span",{className:"line-clamp-2",children:M.answers[H.id]||"No answer"})})]},H.id))})]},$))}),o.jsx("button",{onClick:()=>{d(!0),p(!1),i({})},className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Start New Attempt"})]}):u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:((J=(te=t.deliverables)==null?void 0:te.academic)==null?void 0:J.title)||"Academic Assessment"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((U=(F=t.deliverables)==null?void 0:F.academic)==null?void 0:U.description)||"Complete this assessment to demonstrate your understanding."})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Total Points:"})," ",w," | ",o.jsx("strong",{children:"Time Limit:"})," None |",o.jsx("strong",{children:" Attempts:"})," Unlimited"]})}),E.map((M,$)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("h4",{className:"font-bold text-gray-800",children:["Question ",$+1]}),o.jsxs("span",{className:"text-sm text-gray-500",children:[M.points," points"]})]}),o.jsx("div",{className:"mb-3",children:o.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap bg-gray-50 p-3 rounded",children:M.question})}),M.type==="mcq"?o.jsx("div",{className:"space-y-2",children:M.options.map((H,Y)=>o.jsxs("label",{className:"flex items-center gap-2 p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[o.jsx("input",{type:"radio",name:M.id,value:Y,checked:s[M.id]===Y,onChange:X=>i({...s,[M.id]:parseInt(X.target.value)}),className:"w-4 h-4",required:!0}),o.jsx("span",{className:"text-sm text-gray-700",children:H})]},Y))}):M.type==="fillblank"?o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-2",children:M.question.split("___").map((H,Y,X)=>o.jsxs("span",{children:[H,Y<X.length-1&&o.jsx("input",{type:"text",value:s[M.id]||"",onChange:xe=>i({...s,[M.id]:xe.target.value}),className:"inline-block mx-1 px-2 py-1 border-b-2 border-purple-500 focus:outline-none focus:border-purple-700 min-w-[100px]",placeholder:"fill in",required:!0})]},Y))})}):o.jsx("textarea",{value:s[M.id]||"",onChange:H=>i({...s,[M.id]:H.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg",rows:"6",placeholder:"Type your answer here...",required:!0})]},M.id)),o.jsx("button",{type:"submit",disabled:a,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50",children:a?"Submitting...":"Submit Test"})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:((C=(x=t.deliverables)==null?void 0:x.academic)==null?void 0:C.title)||"Academic Assessment"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((R=(A=t.deliverables)==null?void 0:A.academic)==null?void 0:R.description)||"Complete this assessment to demonstrate your understanding."}),((q=(T=t.deliverables)==null?void 0:T.academic)==null?void 0:q.guidelines)&&o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Assessment Guidelines:"}),o.jsx("ol",{className:"text-sm text-purple-800 space-y-2 list-decimal list-inside",children:t.deliverables.academic.guidelines.map((M,$)=>o.jsx("li",{className:"ml-2",children:M},$))})]})]}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Total Points:"})," ",w," | ",o.jsx("strong",{children:"Time Limit:"})," None |",o.jsx("strong",{children:" Attempts:"})," Unlimited"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Format:"})," ",k.length," Multiple Choice Questions (",k.reduce((M,$)=>M+$.points,0)," points) |",E.filter(M=>M.type==="fillblank").length," Fill-in-the-Blank (",E.filter(M=>M.type==="fillblank").reduce((M,$)=>M+$.points,0)," points) |",S.length," Short Answer Questions (",S.reduce((M,$)=>M+$.points,0)," points)"]})]}),o.jsx("button",{onClick:()=>d(!0),className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700",children:"Take Quiz"}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mt-4",children:[o.jsx("h4",{className:"font-bold mb-3",children:"Preview Questions"}),o.jsx("div",{className:"space-y-3",children:E.map((M,$)=>o.jsxs("div",{className:"border-b border-gray-200 pb-3 last:border-0",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("h5",{className:"font-semibold text-gray-800 text-sm",children:["Question ",$+1," (",M.points," points)"]}),o.jsx("span",{className:"text-xs text-gray-500",children:M.type==="mcq"?"MCQ":M.type==="fillblank"?"Fill-in-Blank":"SAQ"})]}),o.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:M.question})]},M.id))})]})]})},WC=({week:t,weekIndex:e,course:r,onUpdateCourse:n})=>{var N,E,w,k,S,P,I,O,j,g,x,C,A,R,T,q,te,J;const s=ja.useRef(null),[i,a]=D.useState("file"),[c,u]=D.useState(""),[d,m]=D.useState(!1),p=(N=t.submissions)==null?void 0:N.builder,y=((E=r==null?void 0:r.title)==null?void 0:E.includes("CS 102"))||((w=r==null?void 0:r.title)==null?void 0:w.includes("Data Structures")),v=[{criterion:"Functionality",maxPoints:30,description:"Code works correctly and meets all requirements"},{criterion:"Code Quality",maxPoints:20,description:"Clean, readable, well-documented code"},{criterion:"Testing",maxPoints:20,description:"Comprehensive test cases and edge cases covered"},{criterion:"Documentation",maxPoints:15,description:"README, comments, and usage instructions"},{criterion:"Creativity/Extra Features",maxPoints:15,description:"Additional features beyond requirements"}],b=async F=>{var xe,je,Re,Oe;if(F.preventDefault(),i==="file"){if(!((je=(xe=s.current)==null?void 0:xe.files)==null?void 0:je[0])){alert("Please select a file to submit");return}}else{if(!c.trim()){alert("Please enter a GitHub repository URL");return}if(!/^https?:\/\/(www\.)?(github\.com|github\.io)\/.+/.test(c.trim())){alert("Please enter a valid GitHub repository URL (e.g., https://github.com/username/repo)");return}}m(!0);const U=v.map(de=>({criterion:de.criterion,points:Math.floor(Math.random()*(de.maxPoints-de.maxPoints*.7))+Math.floor(de.maxPoints*.7),maxPoints:de.maxPoints,feedback:`Good work on ${de.criterion.toLowerCase()}. ${de.description}`})),M=U.reduce((de,hs)=>de+hs.points,0),$=U.reduce((de,hs)=>de+hs.maxPoints,0),H=Math.round(M/$*100),Y={...r};Y.weeks[e].submissions||(Y.weeks[e].submissions={builder:null,academic:null,communicator:null});const X={submittedDate:new Date().toISOString(),rubric:U,score:M,totalPoints:$,percentage:H,grade:H>=90?"A":H>=80?"B":H>=70?"C":"D"};if(i==="file"){const de=(Oe=(Re=s.current)==null?void 0:Re.files)==null?void 0:Oe[0];X.fileName=de.name,X.fileSize=de.size,X.type="file"}else X.githubRepo=c.trim(),X.type="github";Y.weeks[e].submissions.builder=X,n(Y),m(!1),alert(`Project submitted! Score: ${M}/${$} (${Y.weeks[e].submissions.builder.grade})`)};if(p)return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-green-800",children:" Project Submitted"}),o.jsxs("span",{className:"text-lg font-bold text-green-700",children:["Score: ",p.score,"/",p.totalPoints," (",p.grade,")"]})]}),p.type==="file"&&o.jsxs("p",{className:"text-sm text-green-600 mb-2",children:["File: ",p.fileName," (",Math.round(p.fileSize/1024)," KB)"]}),p.type==="github"&&o.jsx("p",{className:"text-sm text-green-600 mb-2",children:o.jsxs("a",{href:p.githubRepo,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["GitHub Repository: ",p.githubRepo]})}),o.jsxs("p",{className:"text-sm text-green-600",children:["Submitted ",new Date(p.submittedDate).toLocaleDateString()]})]}),p.rubric&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3",children:"Grading Rubric"}),o.jsx("div",{className:"space-y-3",children:p.rubric.map((F,U)=>o.jsxs("div",{className:"border-b border-gray-200 pb-3 last:border-0",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"font-semibold text-gray-800",children:F.criterion}),o.jsxs("span",{className:"text-sm text-gray-600",children:[F.points,"/",F.maxPoints," points"]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:F.feedback})]},U))})]})]});if(y){const F=`${(k=t.topic)==null?void 0:k.replace(/[^a-zA-Z0-9]/g,"_")}_template.java`;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:((P=(S=t.deliverables)==null?void 0:S.builder)==null?void 0:P.title)||"Complete the Template"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((O=(I=t.deliverables)==null?void 0:I.builder)==null?void 0:O.description)||"Download the template file below. Fill in the missing code sections (marked with TODO comments) to complete the data structure implementation."})]}),((g=(j=t.deliverables)==null?void 0:j.builder)==null?void 0:g.guidelines)&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Step-by-Step Guidelines:"}),o.jsx("ol",{className:"text-sm text-blue-800 space-y-2 list-decimal list-inside",children:t.deliverables.builder.guidelines.map((U,M)=>o.jsx("li",{className:"ml-2",children:U},M))})]}),((C=(x=t.deliverables)==null?void 0:x.builder)==null?void 0:C.template_file)&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[o.jsxs("button",{onClick:()=>{const U=t.deliverables.builder.template_file,M=U.content||"",$=U.filename||F,H=new Blob([M],{type:"text/plain"}),Y=URL.createObjectURL(H),X=document.createElement("a");X.href=Y,X.download=$,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(Y)},className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 flex items-center justify-center gap-2",children:[o.jsx(ee.Link,{className:"w-5 h-5"}),"Download Template File"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:t.deliverables.builder.template_file.filename||F})]}),p?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-green-800",children:" Template Completed"}),o.jsxs("span",{className:"text-lg font-bold text-green-700",children:["Score: ",p.score,"/",p.totalPoints," (",p.grade,")"]})]}),o.jsxs("p",{className:"text-sm text-green-600",children:["Submitted ",new Date(p.submittedDate).toLocaleDateString()]})]}):o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Completed Template File"}),o.jsx("input",{type:"file",ref:s,accept:".java,.py,.cpp,.c",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your completed template file (.java, .py, .cpp, or .c)"})]}),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50",children:d?"Submitting...":"Submit Completed Template"})]})]})}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:((R=(A=t.deliverables)==null?void 0:A.builder)==null?void 0:R.title)||"Builder Project"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((q=(T=t.deliverables)==null?void 0:T.builder)==null?void 0:q.description)||"Complete this project to demonstrate your building skills."}),((J=(te=t.deliverables)==null?void 0:te.builder)==null?void 0:J.guidelines)&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Guidelines:"}),o.jsx("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:t.deliverables.builder.guidelines.map((F,U)=>o.jsx("li",{children:F},U))})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3",children:"Grading Rubric"}),o.jsx("div",{className:"space-y-2",children:v.map((F,U)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-700",children:F.criterion}),o.jsxs("span",{className:"text-gray-500",children:[F.maxPoints," points"]})]},U))}),o.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Total: ",v.reduce((F,U)=>F+U.maxPoints,0)," points"]})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Submission Type"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"submissionType",value:"file",checked:i==="file",onChange:F=>a(F.target.value),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"File Upload"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"submissionType",value:"github",checked:i==="github",onChange:F=>a(F.target.value),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"GitHub Repository"})]})]})]}),i==="file"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Project File"}),o.jsx("input",{type:"file",ref:s,className:"w-full p-2 border border-gray-300 rounded-lg",required:i==="file"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Acceptable formats: .zip, .tar.gz, or any project archive file"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub Repository URL"}),o.jsx("input",{type:"url",value:c,onChange:F=>u(F.target.value),placeholder:"https://github.com/username/repository",className:"w-full p-3 border border-gray-300 rounded-lg",required:i==="github"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the full URL to your GitHub repository"})]}),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50",children:d?"Submitting...":"Submit Project"})]})]})},GC=({week:t,weekIndex:e,course:r,onUpdateCourse:n})=>{var b,N,E,w,k,S,P;const s=ja.useRef(null),[i,a]=D.useState(""),[c,u]=D.useState("file"),[d,m]=D.useState(!1),p=(b=t.submissions)==null?void 0:b.communicator,y=[{criterion:"Content Quality",maxPoints:30,description:"Accurate, comprehensive, well-researched content"},{criterion:"Clarity & Organization",maxPoints:25,description:"Clear structure, logical flow, easy to follow"},{criterion:"Visual Aids",maxPoints:20,description:"Effective use of slides, diagrams, or visuals"},{criterion:"Delivery",maxPoints:15,description:"Clear speaking, appropriate pace, engagement"},{criterion:"Examples & Demonstrations",maxPoints:10,description:"Relevant examples and practical demonstrations"}],v=async I=>{var R,T,q,te;if(I.preventDefault(),c==="file"){if(!((T=(R=s.current)==null?void 0:R.files)==null?void 0:T[0])){alert("Please select a presentation file to submit");return}}else if(!i.trim()){alert("Please enter a presentation link");return}m(!0);const O=y.map(J=>({criterion:J.criterion,points:Math.floor(Math.random()*(J.maxPoints-J.maxPoints*.7))+Math.floor(J.maxPoints*.7),maxPoints:J.maxPoints,feedback:`Good work on ${J.criterion.toLowerCase()}. ${J.description}`})),j=O.reduce((J,F)=>J+F.points,0),g=O.reduce((J,F)=>J+F.maxPoints,0),x=Math.round(j/g*100),C={...r};C.weeks[e].submissions||(C.weeks[e].submissions={builder:null,academic:null,communicator:null});const A={submittedDate:new Date().toISOString(),rubric:O,score:j,totalPoints:g,percentage:x,grade:x>=90?"A":x>=80?"B":x>=70?"C":"D",type:c};if(c==="file"){const J=(te=(q=s.current)==null?void 0:q.files)==null?void 0:te[0];A.fileName=J.name,A.fileSize=J.size}else A.link=i;C.weeks[e].submissions.communicator=A,n(C),m(!1),alert(`Presentation submitted! Score: ${j}/${g} (${C.weeks[e].submissions.communicator.grade})`)};return p?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-bold text-green-800",children:" Presentation Submitted"}),o.jsxs("span",{className:"text-lg font-bold text-green-700",children:["Score: ",p.score,"/",p.totalPoints," (",p.grade,")"]})]}),p.type==="file"&&o.jsxs("p",{className:"text-sm text-green-600 mb-2",children:["File: ",p.fileName," (",Math.round(p.fileSize/1024)," KB)"]}),p.type==="link"&&p.link&&o.jsx("a",{href:p.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm block mb-2",children:p.link}),o.jsxs("p",{className:"text-sm text-green-600",children:["Submitted ",new Date(p.submittedDate).toLocaleDateString()]})]}),p.rubric&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3",children:"Grading Rubric"}),o.jsx("div",{className:"space-y-3",children:p.rubric.map((I,O)=>o.jsxs("div",{className:"border-b border-gray-200 pb-3 last:border-0",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"font-semibold text-gray-800",children:I.criterion}),o.jsxs("span",{className:"text-sm text-gray-600",children:[I.points,"/",I.maxPoints," points"]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:I.feedback})]},O))})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:((E=(N=t.deliverables)==null?void 0:N.communicator)==null?void 0:E.title)||"Communicator Presentation"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((k=(w=t.deliverables)==null?void 0:w.communicator)==null?void 0:k.description)||"Create a presentation to demonstrate your communication skills."}),((P=(S=t.deliverables)==null?void 0:S.communicator)==null?void 0:P.guidelines)&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Presentation Guidelines:"}),o.jsx("ol",{className:"text-sm text-orange-800 space-y-2 list-decimal list-inside",children:t.deliverables.communicator.guidelines.map((I,O)=>o.jsx("li",{className:"ml-2",children:I},O))})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold mb-3",children:"Grading Rubric"}),o.jsx("div",{className:"space-y-2",children:y.map((I,O)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-700",children:I.criterion}),o.jsxs("span",{className:"text-gray-500",children:[I.maxPoints," points"]})]},O))}),o.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Total: ",y.reduce((I,O)=>I+O.maxPoints,0)," points"]})]}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Submission Type"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"presentationType",value:"file",checked:c==="file",onChange:I=>u(I.target.value),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Upload File"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"presentationType",value:"link",checked:c==="link",onChange:I=>u(I.target.value),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Link (Google Slides, YouTube, etc.)"})]})]})]}),c==="file"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Presentation File"}),o.jsx("input",{type:"file",ref:s,accept:".pptx,.ppt,.pdf,.key",className:"w-full p-2 border border-gray-300 rounded-lg",required:c==="file"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Acceptable formats: .pptx, .ppt, .pdf, .key (PowerPoint, PDF, Keynote)"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Presentation Link"}),o.jsx("input",{type:"url",value:i,onChange:I=>a(I.target.value),placeholder:"https://docs.google.com/presentation/... or YouTube link",className:"w-full p-3 border border-gray-300 rounded-lg",required:c==="link"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide a link to Google Slides, PowerPoint Online, YouTube video, or similar"})]}),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 disabled:opacity-50",children:d?"Submitting...":"Submit Presentation"})]})]})},KC=({course:t,week:e,weekIndex:r,onBack:n,onUpdateCourse:s})=>{const[i,a]=D.useState(e.selectedActivity),c=ja.useRef(null),[u,d]=D.useState({}),[m,p]=D.useState(""),y=E=>{a(E);const w={...t};w.weeks[r].selectedActivity=E,s(w)},v=E=>{var k,S;E.preventDefault();const w=(S=(k=c.current)==null?void 0:k.files)==null?void 0:S[0];if(w){const P={...t};P.weeks[r].submissions.builder={fileName:w.name,fileSize:w.size,submittedDate:new Date().toISOString()},s(P),alert("File submitted successfully!")}},b=E=>{E.preventDefault();const w={...t};w.weeks[r].submissions.academic={answers:u,submittedDate:new Date().toISOString()},s(w),alert("Test submitted successfully!")},N=E=>{if(E.preventDefault(),m){const w={...t};w.weeks[r].submissions.communicator={link:m,submittedDate:new Date().toISOString()},s(w),alert("Presentation submitted successfully!")}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsxs("button",{onClick:n,className:"mb-4 text-sm text-gray-500 hover:text-gvcs-navy flex items-center gap-1",children:[o.jsx(ee.ArrowRight,{})," Back to Course"]}),o.jsxs("h2",{className:"text-2xl font-bold text-gvcs-navy mb-2",children:["Week ",e.week,": ",e.topic]}),o.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${i==="builder"?"border-blue-500 bg-blue-50":i==="academic"?"border-purple-500 bg-purple-50":"border-orange-500 bg-orange-50"}`,children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:e.deliverables[i].title}),o.jsx("p",{className:"text-sm text-gray-700",children:e.deliverables[i].description}),o.jsx("button",{onClick:()=>y(null),className:"mt-2 text-xs text-gray-500 hover:text-gray-700",children:"Change Activity"})]}),i==="builder"&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Submit Your Project"}),e.submissions.builder?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:[o.jsx("p",{className:"text-green-700 font-semibold",children:" Submitted"}),o.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[e.submissions.builder.fileName,"(",Math.round(e.submissions.builder.fileSize/1024)," KB)"]}),o.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Submitted ",new Date(e.submissions.builder.submittedDate).toLocaleDateString()]})]}):o.jsxs("form",{onSubmit:v,children:[o.jsx("input",{type:"file",ref:c,className:"mb-4",required:!0}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit File"})]})]}),i==="academic"&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Take Assessment"}),e.submissions.academic?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:[o.jsx("p",{className:"text-green-700 font-semibold",children:" Test Completed"}),o.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Submitted ",new Date(e.submissions.academic.submittedDate).toLocaleDateString()]})]}):o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:"space-y-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Question 1"}),o.jsx("textarea",{className:"w-full p-2 border rounded",rows:"3",placeholder:"Your answer...",value:u.q1||"",onChange:E=>d({...u,q1:E.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Question 2"}),o.jsx("textarea",{className:"w-full p-2 border rounded",rows:"3",placeholder:"Your answer...",value:u.q2||"",onChange:E=>d({...u,q2:E.target.value})})]})]}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Submit Test"})]})]}),i==="communicator"&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Submit Presentation"}),e.submissions.communicator?o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:[o.jsx("p",{className:"text-green-700 font-semibold",children:" Presentation Submitted"}),o.jsx("a",{href:e.submissions.communicator.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:e.submissions.communicator.link}),o.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Submitted ",new Date(e.submissions.communicator.submittedDate).toLocaleDateString()]})]}):o.jsxs("form",{onSubmit:N,children:[o.jsx("input",{type:"url",placeholder:"Enter presentation link (Google Slides, YouTube, etc.)",className:"w-full p-2 border rounded mb-4",value:m,onChange:E=>p(E.target.value),required:!0}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Submit Presentation"})]})]})]}):o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Choose Your Ellis Activity"}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:e.deliverables&&Object.entries(e.deliverables).map(([E,w])=>o.jsxs("button",{onClick:()=>y(E),className:`p-4 rounded-lg border-2 text-left transition-all ${E==="builder"?"border-blue-500 hover:bg-blue-50":E==="academic"?"border-purple-500 hover:bg-purple-50":"border-orange-500 hover:bg-orange-50"}`,children:[o.jsx("div",{className:`text-xs font-bold mb-2 ${E==="builder"?"text-blue-600":E==="academic"?"text-purple-600":"text-orange-600"}`,children:E==="builder"?"BUILDER":E==="academic"?"ACADEMIC":"COMMUNICATOR"}),o.jsx("div",{className:"font-bold text-gray-800",children:w.title})]},E))})]})]})},YC=()=>{const t=as();qt();const[e,r]=D.useState(null),[n,s]=D.useState(!1),[i,a]=D.useState({}),[c,u]=D.useState({}),[d,m]=D.useState({}),[p,y]=D.useState(!0);D.useEffect(()=>{(async()=>{var g;const{data:{session:j}}=await Z.auth.getSession();j!=null&&j.user&&r({id:j.user.id,name:((g=j.user.user_metadata)==null?void 0:g.name)||j.user.email,email:j.user.email})})();const{data:{subscription:O}}=Z.auth.onAuthStateChange((j,g)=>{var x;g!=null&&g.user?r({id:g.user.id,name:((x=g.user.user_metadata)==null?void 0:x.name)||g.user.email,email:g.user.email}):r(null)});return()=>O.unsubscribe()},[]),D.useEffect(()=>{(async()=>{try{const{data:O,error:j}=await Z.from("hackathon_registrations").select("*");if(j)throw j;const{data:g,error:x}=await Z.from("hackathon_teams").select("*");if(x)throw x;const C=[...new Set([...(O==null?void 0:O.map(q=>q.user_id))||[],...(g==null?void 0:g.map(q=>q.created_by))||[]])],A={};if(C.length>0&&C.every(q=>q))try{const{data:q,error:te}=await Z.from("user_profiles").select("user_id, display_name").in("user_id",C);!te&&q?q.forEach(J=>{J.display_name&&(A[J.user_id]=J.display_name)}):te&&te.code!=="PGRST116"&&te.code!=="42P01"&&console.warn("Error fetching user profiles:",te)}catch(q){console.warn("Error fetching user profiles:",q)}const R={};O==null||O.forEach(q=>{R[q.hackathon_name]||(R[q.hackathon_name]=[]),R[q.hackathon_name].push(q)});const T={};g==null||g.forEach(q=>{T[q.hackathon_name]||(T[q.hackathon_name]=[]),T[q.hackathon_name].push(q)}),a(R),u(T),m(A)}catch(O){console.error("Error fetching hackathon data:",O)}finally{y(!1)}})()},[e]);const v=async I=>{if(!e){alert("Please log in to register for a hackathon.");return}try{const{error:O}=await Z.from("hackathon_registrations").insert([{user_id:e.id,hackathon_name:I,user_name:e.name}]);if(O)throw O;const{data:j}=await Z.from("hackathon_registrations").select("*"),g={};j==null||j.forEach(x=>{g[x.hackathon_name]||(g[x.hackathon_name]=[]),g[x.hackathon_name].push(x)}),a(g)}catch(O){console.error("Error registering:",O),alert("Failed to register. You may already be registered.")}},b=async(I,O,j=4)=>{if(!e){alert("Please log in to create a team.");return}try{const{data:g}=await Z.from("hackathon_registrations").select("*").eq("user_id",e.id).eq("hackathon_name",I).single();g||await Z.from("hackathon_registrations").insert([{user_id:e.id,hackathon_name:I,user_name:e.name}]);const{data:x,error:C}=await Z.from("hackathon_teams").insert([{hackathon_name:I,team_name:O||`${e.name}'s Team`,max_members:j,created_by:e.id}]).select().single();if(C)throw C;await Z.from("hackathon_registrations").update({team_id:x.id}).eq("user_id",e.id).eq("hackathon_name",I);const{data:A}=await Z.from("hackathon_registrations").select("*"),{data:R}=await Z.from("hackathon_teams").select("*"),T={};A==null||A.forEach(te=>{T[te.hackathon_name]||(T[te.hackathon_name]=[]),T[te.hackathon_name].push(te)});const q={};R==null||R.forEach(te=>{q[te.hackathon_name]||(q[te.hackathon_name]=[]),q[te.hackathon_name].push(te)}),a(T),u(q)}catch(g){console.error("Error creating team:",g),alert("Failed to create team.")}},N=async(I,O)=>{if(!e){alert("Please log in to join a team.");return}try{const{data:j}=await Z.from("hackathon_teams").select("*").eq("id",O).single();if(!j){alert("Team not found.");return}const{data:g}=await Z.from("hackathon_registrations").select("*").eq("team_id",O);if(g&&g.length>=j.max_members){alert("This team is full.");return}const{data:x}=await Z.from("hackathon_registrations").select("*").eq("user_id",e.id).eq("hackathon_name",I).single();x?await Z.from("hackathon_registrations").update({team_id:O}).eq("user_id",e.id).eq("hackathon_name",I):await Z.from("hackathon_registrations").insert([{user_id:e.id,hackathon_name:I,team_id:O,user_name:e.name}]);const{data:C}=await Z.from("hackathon_registrations").select("*"),A={};C==null||C.forEach(R=>{A[R.hackathon_name]||(A[R.hackathon_name]=[]),A[R.hackathon_name].push(R)}),a(A)}catch(j){console.error("Error joining team:",j),alert("Failed to join team.")}},E=(I,O)=>O!=null&&O.user_name?O.user_name:d[I]?d[I]:e&&I===e.id?e.name:"Team Member",w=(I,O)=>{var j;return((j=i[I])==null?void 0:j.filter(g=>g.team_id===O))||[]},k=I=>{const O=w(I.hackathon_name,I.id);return Math.max(0,I.max_members-O.length)},S=I=>{var O;return e&&((O=i[I])==null?void 0:O.some(j=>j.user_id===e.id))},P=I=>{var j,g;if(!e)return null;const O=(j=i[I])==null?void 0:j.find(x=>x.user_id===e.id&&x.team_id);return O?(g=c[I])==null?void 0:g.find(x=>x.id===O.team_id):null};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-16",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"Hackathon Hub"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your ultimate guide to winning competitions and building cool things."}),!n&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{if(!e){alert("Please log in to create a hackathon project.");return}s(!0)},className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors shadow-lg hover:shadow-xl",children:" Start a Hackathon Project"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Use our AI-powered wizard to organize your next hackathon"})]})]}),n&&e&&o.jsx(BC,{user:e,onComplete:async I=>{try{const{error:O}=await Z.from("hackathon_programs").insert([I]);if(O)throw O;s(!1),alert("Hackathon project created! You can view it in your Dashboard."),t("/dashboard?tab=hackathons")}catch(O){console.error("Error creating hackathon:",O),alert("Failed to create hackathon project.")}},onCancel:()=>s(!1)}),!n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:o.jsx(ee.Brain,{})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Algorithmic Competitions"})]}),o.jsxs("p",{className:"text-gray-600 mb-6 text-sm leading-relaxed",children:["Focus on data structures, algorithms, and problem-solving speed. Great for technical interviews.",o.jsx("br",{}),o.jsxs("span",{className:"text-xs font-bold text-blue-600 mt-2 block",children:[' Check out the "Algorithms" track in the ',o.jsx("span",{className:"cursor-pointer underline",onClick:()=>t("/ellis"),children:"Curriculum Generator"})," for a structured learning path."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-2 uppercase tracking-wider",children:"Recommended Courses"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsxs("a",{href:"https://usaco.guide",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-blue-50 transition-colors group",children:[o.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"USACO Guide"}),o.jsx("span",{className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-gray-500",children:"Free"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"https://www.coursera.org/learn/algorithms-part1",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-blue-50 transition-colors group",children:[o.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-700",children:"Princeton Algorithms (Coursera)"}),o.jsx("span",{className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-gray-500",children:"Free Audit"})]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-2 uppercase tracking-wider",children:"Practice Sites"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:"https://leetcode.com",className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded text-sm font-medium text-gray-700",children:"LeetCode"}),o.jsx("a",{href:"https://codeforces.com",className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded text-sm font-medium text-gray-700",children:"Codeforces"}),o.jsx("a",{href:"https://cses.fi/problemset/",className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded text-sm font-medium text-gray-700",children:"CSES"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:o.jsx(ee.Lightbulb,{})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"The AI Workflow"})]}),o.jsx("p",{className:"text-gray-600 mb-6 text-sm leading-relaxed",children:"Don't just code. Orchestrate. Use this pipeline to build winning projects in record time."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm",children:"1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Brainstorm with Perplexity"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use Perplexity or an LLM to research problems and brainstorm solutions. Validate your idea before you build."})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm",children:"2"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Master Plan & Tasks"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Feed your research into a strong LLM (Claude 3.5 Sonnet / GPT-4o). Ask it to generate a "Master Plan" and assign specific tasks to each team member.'})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm",children:"3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Prompt Engineering"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Each member uses their own LLM to generate detailed prompts for their tasks. These prompts become the instructions for your coding tools."})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm",children:"4"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Execution"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Feed your prompts into ",o.jsx("strong",{children:"Cursor"})," for backend/logic and ",o.jsx("strong",{children:"Lovable"})," for frontend. Assemble the pieces."]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm",children:"5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"The Pitch"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ",o.jsx("strong",{children:"Canva"})," for the deck and ",o.jsx("strong",{children:"Figma"})," for high-fidelity mockups. The story sells the product."]})]})]})]})]})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:o.jsx(ee.Sparkles,{})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-gvcs-navy",children:"AI Power Tools"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"The modern stack for building fast."})]})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Cursor",tagline:"The AI Code Editor",desc:"A fork of VS Code with AI built-in. It can write entire functions, refactor code, and fix bugs automatically.",bestFor:"Writing code 10x faster",price:"Free Tier",url:"https://cursor.sh/"},{name:"Lovable",tagline:"Full Stack Generator",desc:"Describe your app and get a full stack React/Node application generated. Great for starting the frontend.",bestFor:"Frontend & Full Stack",price:"Free Tier",url:"https://lovable.dev/"},{name:"Perplexity",tagline:"AI Search Engine",desc:"Like Google but it gives you answers. Great for finding libraries, debugging errors, and research.",bestFor:"Brainstorming & Research",price:"Free",url:"https://perplexity.ai/"},{name:"Figma",tagline:"Interface Design",desc:"The industry standard for UI/UX design. Map out your user flow before you write a single line of code.",bestFor:"Wireframing & Pitch Decks",price:"Free for Students",url:"https://figma.com/"},{name:"Canva",tagline:"Design Made Easy",desc:"Create stunning pitch decks and social media graphics in minutes. Essential for the final presentation.",bestFor:"Pitch Decks",price:"Free",url:"https://canva.com/"},{name:"Gemini / Claude / ChatGPT",tagline:"LLM Assistants",desc:"Use these for brainstorming ideas, writing pitch scripts, and generating dummy data for your app.",bestFor:"Ideation & Copywriting",price:"Free",url:"https://gemini.google.com/"}].map((I,O)=>o.jsxs("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"group bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:border-indigo-300 hover:shadow-md transition-all flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900 group-hover:text-indigo-600 transition-colors",children:I.name}),o.jsx("span",{className:"text-xs font-bold text-indigo-500 uppercase tracking-wider",children:I.tagline})]}),o.jsx(ee.Link,{className:"text-gray-300 group-hover:text-indigo-400"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4 flex-grow",children:I.desc}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsxs("span",{className:"font-bold text-gray-700 bg-gray-100 px-2 py-1 rounded",children:["Best for: ",I.bestFor]}),o.jsx("span",{className:"text-gray-400",children:I.price})]})})]},O))})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:o.jsx(ee.Clock,{})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Upcoming Hackathons"})]}),p?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-6",children:[{name:"United Hacks V6",date:"January 16-18, 2026",location:"Online (Virtual)",desc:"Student-led free hackathon for high school and college students. Builds tech and soft skills.",status:"Register Now",link:"https://www.hackunited.org/"},{name:"Hack BI",date:"January 17-18, 2026",location:"Alexandria, Virginia",desc:"High school and middle school hackathon. All skill levels welcome with workshops.",status:"Register Now",link:"https://mlh.io/minor-league/events"},{name:"Hack the Ram",date:"January 2026",location:"Gibsonia, PA",desc:"Free 12-hour invention marathon for 6th-12th graders. Great for beginners.",status:"Coming Soon",link:"https://www.joinsilicon.org/hackathons"},{name:"ElleHacks",date:"January 23-25, 2026",location:"Toronto, Ontario",desc:"Canada's largest hackathon for women and gender-diverse students. Beginner-friendly.",status:"Register Now",link:"https://mlh.io/events"},{name:"HackHERS",date:"February 21, 2026",location:"New Brunswick, NJ",desc:"Women-centric hackathon empowering female and non-binary students. Close to Philly.",status:"Coming Soon",link:"https://hackathonmap.com/"},{name:"HenHacks",date:"February 28, 2026",location:"Newark, Delaware",desc:"University of Delaware hackathon. Great for collegiate networking.",status:"Coming Soon",link:"https://hackathonmap.com/"},{name:"MEGA Hackathon 2026",date:"February 28 - March 1, 2026",location:"Online",desc:"Global hackathon integrating CS, STEM, economics. Advances human development.",status:"Register Now",link:"https://mega-hackathon-2026-students.devpost.com/"},{name:"HackNA",date:"March 2026",location:"Wexford, PA",desc:"High school hackathon at North Allegheny. Projects based on revealed theme.",status:"Coming Soon",link:"https://www.joinsilicon.org/hackathons"},{name:"Bitcamp",date:"April 10-12, 2026",location:"College Park, Maryland",desc:"University of Maryland's annual spring hackathon. 1000+ students expected.",status:"Coming Soon",link:"https://mlh.io/events"},{name:"HackAmerica 2026",date:"April 11-18, 2026",location:"Online",desc:"Virtual hackathon for high schoolers. Tackle social and environmental issues.",status:"Register Now",link:"https://netzerocompare.com/events/hackamerica-2026"},{name:"Hudson Valley Digital Rally",date:"May 18, 2026",location:"Poughkeepsie, NY",desc:"AI-focused hackathon for high school and college students. Theme: Using AI to serve the community.",status:"Coming Soon",link:"https://hvtechfest.com/2026/05/hackathon"},{name:"Tech Innovation for Good",date:"June 1-21, 2026",location:"Online",desc:"Three-week global innovation sprint. Challenges in AI, climate, and health.",status:"Register Now",link:"https://www.youthtechandethics.org/events"},{name:"Hack the Land",date:"July 25-26, 2026",location:"Cleveland, Ohio",desc:"High school hackathon. Turn ideas into reality over a weekend.",status:"Coming Soon",link:"https://www.joinsilicon.org/hackathons"}].map((I,O)=>{const j=i[I.name]||[],g=c[I.name]||[],x=S(I.name),C=P(I.name);return o.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl border border-gray-200 hover:border-green-300 transition-colors",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:I.name}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${I.status.includes("Open")||I.status.includes("Register")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:I.status}),x&&o.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold uppercase bg-purple-100 text-purple-700",children:"Registered"})]}),o.jsxs("div",{className:"text-sm font-bold text-gray-600 mb-1",children:[I.date,"  ",I.location]}),o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:I.desc})]}),o.jsxs("div",{className:"flex gap-2",children:[x?C?null:o.jsx("button",{onClick:()=>{const A=prompt("Enter a team name:");A&&A.trim()&&b(I.name,A.trim())},className:"px-4 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-all text-sm whitespace-nowrap",children:"Create Team"}):o.jsx("button",{onClick:()=>{const A=prompt("Enter a team name (or leave blank for default):");A!==null&&(A.trim()?b(I.name,A.trim()):v(I.name))},className:"px-4 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-all text-sm whitespace-nowrap",children:"Register"}),o.jsx("a",{href:I.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-bold rounded-lg hover:bg-green-50 hover:text-green-700 hover:border-green-200 transition-all text-sm whitespace-nowrap",children:"Visit Website"})]})]}),j.length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsxs("h5",{className:"font-bold text-sm text-gray-700 mb-3",children:["Club Members Registered (",j.length,")"]}),o.jsxs("div",{className:"space-y-3",children:[g.map(A=>{const R=w(I.name,A.id),T=k(A),q=e&&R.some(J=>J.user_id===e.id),te=e&&!C&&T>0;return o.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm text-gray-900 mb-1",children:A.team_name||"Unnamed Team"}),o.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Members: ",R.length,"/",A.max_members,T>0&&o.jsxs("span",{className:"ml-2 text-green-600 font-bold",children:["(",T," spot",T!==1?"s":""," available)"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(J=>o.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded",children:E(J.user_id,J)},J.id))})]}),te&&o.jsx("button",{onClick:()=>N(I.name,A.id),className:"px-3 py-1 bg-green-600 text-white text-xs font-bold rounded hover:bg-green-700 transition-colors whitespace-nowrap",children:"Join Team"}),q&&o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded",children:"Your Team"})]})},A.id)}),j.filter(A=>!A.team_id).length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2 font-bold",children:"Looking for Team:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:j.filter(A=>!A.team_id).map(A=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:E(A.user_id,A)},A.id))})]})]})]})]},O)})})]})]})]})},JC=()=>o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-2",children:"Meeting Archive"}),o.jsx("p",{className:"text-gray-600",children:"Missed a meeting? Catch up on slides, code, and recordings."})]}),o.jsx("div",{className:"space-y-4",children:[{date:"Nov 20, 2024",title:"Intro to Dynamic Programming",type:"Lecture",resources:["Slides","Recording","Problem Set"]},{date:"Nov 13, 2024",title:"Git & GitHub Workshop",type:"Workshop",resources:["Cheatsheet","Recording"]},{date:"Nov 06, 2024",title:"Guest Speaker: Google Engineer",type:"Event",resources:["Recording"]},{date:"Oct 30, 2024",title:"Hackathon Prep Night",type:"Activity",resources:["Team Sheet"]}].map((t,e)=>o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row md:items-center justify-between gap-4 hover:border-blue-300 transition-colors",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:[t.date,"  ",t.type]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.title})]}),o.jsx("div",{className:"flex gap-2",children:t.resources.map((r,n)=>o.jsx("button",{className:"px-3 py-1.5 bg-gray-100 hover:bg-blue-50 hover:text-blue-600 text-gray-600 rounded-lg text-xs font-bold transition-colors",children:r},n))})]},e))})]}),QC=()=>{const t=as();return o.jsxs("div",{className:"space-y-24 pb-24",children:[o.jsxs("section",{className:"relative pt-20 pb-32 px-4 text-center overflow-hidden bg-white",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-blue-50 via-white to-white opacity-70"}),o.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[o.jsx("div",{className:"inline-block mb-6 px-4 py-1 border border-blue-100 rounded-full bg-blue-50",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold tracking-widest uppercase",children:"Est. 2024  Garnet Valley"})}),o.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-slate-900 mb-8 tracking-tight leading-tight",children:["Great Valley ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"Computer Science"})]}),o.jsxs("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto mb-12 leading-relaxed",children:["A community of builders, scholars, and innovators. Home of ",o.jsx("span",{className:"font-bold text-slate-800",children:"The Code Academy"}),"."]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[o.jsxs("button",{onClick:()=>t("/weekly"),className:"group relative px-8 py-4 bg-slate-900 text-white font-bold text-lg rounded-full overflow-hidden shadow-xl hover:shadow-blue-500/20 transition-all hover:-translate-y-1",children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["This Week's Problems ",o.jsx(ee.ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]}),o.jsx("button",{onClick:()=>t("/ellis"),className:"px-8 py-4 bg-white text-slate-700 font-bold text-lg rounded-full border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:"Plan Your Study"})]})]})]}),o.jsx("section",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[o.jsx(ee.Sparkles,{className:"text-blue-600"})," Tech Radar"]}),o.jsx("span",{className:"text-sm text-slate-500",children:"What we're exploring this month"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Why we like Rust",tag:"Languages",desc:"Memory safety without garbage collection. Is it the future of systems programming?",color:"bg-orange-50 text-orange-700 border-orange-200"},{title:"Intro to Svelte 5",tag:"Web",desc:"Rethinking reactivity. Less boilerplate, more performance.",color:"bg-red-50 text-red-700 border-red-200"},{title:"Agentic AI Workflows",tag:"AI",desc:"Moving beyond chatbots to autonomous agents that can use tools.",color:"bg-purple-50 text-purple-700 border-purple-200"}].map((e,r)=>o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded ${e.color} border`,children:e.tag}),o.jsx(ee.ArrowRight,{className:"w-4 h-4 text-slate-300 group-hover:text-blue-600 transition-colors"})]}),o.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.title}),o.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:e.desc})]},r))})]})}),o.jsxs("section",{className:"container mx-auto px-4 py-12",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4 tracking-tight",children:"The Three Pillars"}),o.jsx("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Our curriculum is built on three core disciplines, designed to forge complete computer scientists."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{title:"Builder",icon:o.jsx(ee.Code,{}),desc:"Architects of the digital world. We build apps, websites, and tools that solve real problems.",color:"from-blue-500 to-cyan-500"},{title:"Scholar",icon:o.jsx(ee.Book,{}),desc:"Seekers of deep knowledge. We study algorithms, theory, and the fundamental laws of computation.",color:"from-purple-500 to-pink-500"},{title:"Orator",icon:o.jsx(ee.Chat,{}),desc:"Voices of clarity. We communicate complex ideas with precision and persuasion.",color:"from-amber-500 to-orange-500"}].map((e,r)=>o.jsx("div",{className:"group relative p-1 rounded-2xl bg-gradient-to-b from-slate-100 to-white hover:from-blue-500 hover:to-purple-600 transition-all duration-500 shadow-lg hover:shadow-2xl hover:-translate-y-2",children:o.jsxs("div",{className:"bg-white rounded-xl p-8 h-full relative z-10 flex flex-col items-center text-center",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} flex items-center justify-center text-white mb-6 shadow-lg group-hover:scale-110 transition-transform duration-500`,children:e.icon}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:e.title}),o.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-6",children:e.desc}),o.jsx("div",{className:`mt-auto h-1 w-12 rounded-full bg-gradient-to-r ${e.color} opacity-50 group-hover:w-full transition-all duration-500`})]})},r))})]}),o.jsx("section",{className:"bg-slate-50 py-24",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Life at The Academy"}),o.jsx("p",{className:"text-slate-600",children:"More than just code. A community of innovators."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 h-96 md:h-[600px]",children:[o.jsxs("div",{className:"col-span-2 row-span-2 rounded-2xl overflow-hidden relative group shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-indigo-900"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 font-black text-4xl group-hover:scale-110 transition-transform duration-700",children:"HACKATHONS"}),o.jsx("div",{className:"absolute bottom-0 left-0 p-6 bg-gradient-to-t from-black/80 to-transparent w-full",children:o.jsx("span",{className:"text-white font-bold",children:"Hackathons"})})]}),o.jsxs("div",{className:"col-span-1 row-span-1 rounded-2xl overflow-hidden relative group shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-600"}),o.jsx("div",{className:"absolute bottom-0 left-0 p-4 bg-gradient-to-t from-black/60 to-transparent w-full",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"Workshops"})})]}),o.jsxs("div",{className:"col-span-1 row-span-2 rounded-2xl overflow-hidden relative group shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-teal-700"}),o.jsx("div",{className:"absolute bottom-0 left-0 p-4 bg-gradient-to-t from-black/60 to-transparent w-full",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"Collaboration"})})]}),o.jsxs("div",{className:"col-span-1 row-span-1 rounded-2xl overflow-hidden relative group shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400 to-orange-500"}),o.jsx("div",{className:"absolute bottom-0 left-0 p-4 bg-gradient-to-t from-black/60 to-transparent w-full",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"Guest Speakers"})})]})]})]})})]})},XC=()=>{const[t,e]=D.useState([]);return{problems:t,seedData:()=>{const n=[{id:"1",title:"Binary Tree Level Order Traversal",concept:"BFS",date:new Date,solveCount:12},{id:"2",title:"Merge K Sorted Lists",concept:"Heaps",date:new Date(Date.now()-864e5),solveCount:8},{id:"3",title:"Valid Parentheses",concept:"Stack",date:new Date(Date.now()-1728e5),solveCount:25}];e(n)}}},ZC=({onExit:t})=>{const{problems:e,seedData:r}=XC();return o.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gvcs-navy",children:"Problem Archive (Admin)"}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage and review recent challenges"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:r,className:"text-sm bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all font-medium shadow-sm",children:"+ Seed Mock Data"}),o.jsx("button",{onClick:t,className:"text-sm bg-red-50 text-red-700 px-4 py-2 rounded-lg border border-red-200 hover:bg-red-100 transition-all font-medium shadow-sm",children:"Exit Admin"})]})]}),o.jsxs("div",{className:"space-y-4",children:[e.map(n=>{var s;return o.jsxs("div",{className:"group bg-white p-5 rounded-xl shadow-sm border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 group-hover:text-blue-700 transition-colors",children:n.title}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:n.concept})]}),o.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["Posted ",(s=n.date)!=null&&s.toDate?n.date.toDate().toLocaleDateString():"Just now"]})]}),o.jsx("div",{className:"flex items-center gap-8",children:o.jsxs("div",{className:"text-center min-w-[80px]",children:[o.jsx("div",{className:"text-2xl font-bold text-gvcs-navy",children:n.solveCount||0}),o.jsx("div",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wider",children:"Solves"})]})})]},n.id)}),e.length===0&&o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[o.jsx("div",{className:"text-4xl mb-3",children:""}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No problems found in the archive."}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Use the seed button to generate some test data."})]})]})]})},eN=({user:t})=>{const[e,r]=D.useState({"2024-2025":{1:null,2:null,3:null,4:null}}),[n,s]=D.useState([]),[i,a]=D.useState(null);D.useEffect(()=>{const d=JSON.parse(localStorage.getItem("gvcs_saved_plans")||"[]");s(d);const m=JSON.parse(localStorage.getItem("gvcs_academic_record")||"null");m&&r(m)},[]);const c=(d,m,p)=>{const y={...e};y[d]||(y[d]={1:null,2:null,3:null,4:null}),y[d][m]=p,r(y),localStorage.setItem("gvcs_academic_record",JSON.stringify(y)),a(null)},u=(d,m)=>{if(!confirm("Are you sure you want to remove this plan from your schedule?"))return;const p={...e};p[d][m]=null,r(p),localStorage.setItem("gvcs_academic_record",JSON.stringify(p))};return o.jsxs("div",{className:"max-w-6xl mx-auto p-6 animate-fade-in",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gvcs-navy flex items-center gap-3",children:[o.jsx(ee.Book,{})," My Academic Record"]}),o.jsx("p",{className:"text-gray-600",children:"Manage your independent study curriculum for the year."})]}),Object.entries(e).sort().reverse().map(([d,m])=>o.jsxs("div",{className:"mb-10",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:[d," School Year"]}),o.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>{const y=m[p];return o.jsxs("div",{className:`relative rounded-xl border-2 transition-all min-h-[200px] flex flex-col
                                    ${y?"border-gvcs-navy bg-white shadow-sm":"border-dashed border-gray-300 bg-gray-50 hover:border-gray-400"}`,children:[o.jsxs("div",{className:"bg-gray-100 px-4 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider rounded-t-lg border-b border-gray-200 flex justify-between items-center",children:["Marking Period ",p,y&&o.jsx("button",{onClick:()=>u(d,p),className:"text-red-400 hover:text-red-600",children:""})]}),y?o.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[o.jsx("h4",{className:"font-bold text-gvcs-navy mb-1 line-clamp-2",children:y.topic||y.title}),o.jsx("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded self-start mb-2",children:y.level||"Standard"}),o.jsx("div",{className:"mt-auto pt-4",children:o.jsx("button",{className:"w-full py-1.5 text-xs font-bold text-gvcs-navy border border-gvcs-navy rounded hover:bg-gvcs-navy hover:text-white transition-colors",children:"View Plan"})})]}):o.jsx("div",{className:"p-4 flex-grow flex flex-col items-center justify-center text-center",children:(i==null?void 0:i.year)===d&&(i==null?void 0:i.mp)===p?o.jsxs("div",{className:"absolute inset-0 bg-white z-10 p-2 overflow-y-auto rounded-xl",children:[o.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2",children:"Select a Saved Plan:"}),n.length===0&&o.jsx("div",{className:"text-xs text-red-500",children:"No saved plans found. Go to Curriculum Generator to create one!"}),n.map(v=>o.jsxs("button",{onClick:()=>c(d,p,v),className:"w-full text-left p-2 hover:bg-blue-50 rounded text-xs border-b border-gray-100 last:border-0",children:[o.jsx("div",{className:"font-bold text-gvcs-navy",children:v.topic}),o.jsx("div",{className:"text-gray-400",children:v.date})]},v.id)),o.jsx("button",{onClick:()=>a(null),className:"w-full mt-2 py-1 text-xs text-gray-500 hover:bg-gray-100 rounded",children:"Cancel"})]}):o.jsxs("button",{onClick:()=>a({year:d,mp:p}),className:"w-full h-full flex flex-col items-center justify-center gap-2 text-gray-400 hover:text-gvcs-navy transition-colors",children:[o.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-current flex items-center justify-center text-lg font-bold",children:"+"}),o.jsx("span",{className:"text-sm font-medium",children:"Assign Plan"})]})})]},p)})})]},d))]})},tN=()=>{const t=[{title:"Quantitative Finance & Fintech",icon:o.jsx(ee.Sparkles,{className:"w-6 h-6 text-yellow-600"}),description:"Combine advanced mathematics, algorithms, and finance to build high-frequency trading systems and financial models.",color:"bg-yellow-50 border-yellow-100",textColor:"text-yellow-800",details:{ap:["AP Calculus BC","AP Statistics","AP CSA","AP Macro/Micro Economics"],codecademy:["Data Science Path","Python for Finance","C++"],majors:["CS + Math","Financial Engineering","Statistics","Finance"],jobs:["Quant Researcher","Algorithmic Trader","Fintech Developer"],ecs:["Investment Club","Math Competitions (AMC/AIME)","USACO (Algorithmic Skills)"]}},{title:"STEM Education",icon:o.jsx(ee.Lightbulb,{className:"w-6 h-6 text-green-600"}),description:"Inspire the next generation of innovators by combining technical expertise with pedagogy.",color:"bg-green-50 border-green-100",textColor:"text-green-800",details:{ap:["AP CSA","AP Psychology (Learning Science)","AP Seminar"],codecademy:["Learn Python (Basics)","Web Development Path"],majors:["CS Education","Mathematics","Education","Cognitive Science"],jobs:["CS Teacher","Curriculum Developer","EdTech Specialist","Professor"],ecs:["Peer Tutoring","TA for CS Classes","Starting a Coding Club","Summer Camp Counselor"]}},{title:"Software Engineering",icon:o.jsx(ee.Code,{className:"w-6 h-6 text-blue-600"}),description:"Build the applications and systems that power the modern world, from mobile apps to cloud infrastructure.",color:"bg-blue-50 border-blue-100",textColor:"text-blue-800",details:{ap:["AP CSA","AP CSP","AP Physics C"],codecademy:["Full Stack Engineer Path","Java","React","Go"],majors:["Computer Science","Software Engineering","Computer Engineering"],jobs:["Full Stack Developer","Mobile App Dev","DevOps Engineer","System Architect"],ecs:["Hackathons","Personal Projects","Open Source Contributions","Robotics"]}},{title:"Data Science & AI",icon:o.jsx(ee.Brain,{className:"w-6 h-6 text-purple-600"}),description:"Extract insights from data and build intelligent systems that learn and adapt.",color:"bg-purple-50 border-purple-100",textColor:"text-purple-800",details:{ap:["AP Statistics","AP Calculus BC","AP CSA"],codecademy:["Data Scientist Path","Machine Learning","SQL","Python"],majors:["Data Science","CS (AI Focus)","Statistics","Applied Math"],jobs:["Data Scientist","ML Engineer","AI Researcher","Data Analyst"],ecs:["Kaggle Competitions","Research Projects","AI Club","Science Fair"]}},{title:"Cybersecurity",icon:o.jsx(ee.Shield,{className:"w-6 h-6 text-red-600"}),description:"Protect systems, networks, and data from digital attacks and unauthorized access.",color:"bg-red-50 border-red-100",textColor:"text-red-800",details:{ap:["AP CSA","AP CSP"],codecademy:["Cybersecurity Path","Linux","Networks"],majors:["Cybersecurity","Information Security","Computer Science"],jobs:["Security Analyst","Penetration Tester","Security Engineer","Cryptographer"],ecs:["CTF Competitions (PicoCTF)","CyberPatriot","Ethical Hacking","System Admin"]}}];return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gvcs-navy mb-4",children:"Career Pathways"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Explore different directions your CS journey can take. We've curated roadmaps including courses, majors, and extracurriculars to help you get there."})]}),o.jsx("div",{className:"grid gap-8",children:t.map((e,r)=>o.jsxs("div",{className:`rounded-2xl border ${e.color.replace("bg-","border-")} overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow`,children:[o.jsxs("div",{className:`p-6 ${e.color} border-b ${e.color.replace("bg-","border-")} flex items-start gap-4`,children:[o.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:e.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-xl font-bold ${e.textColor}`,children:e.title}),o.jsx("p",{className:"text-gray-600 mt-1",children:e.description})]})]}),o.jsxs("div",{className:"p-6 grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(ee.Book,{className:"w-4 h-4 text-gray-400"})," Recommended APs"]}),o.jsx("ul",{className:"space-y-1",children:e.details.ap.map((n,s)=>o.jsxs("li",{className:"text-sm text-gray-600",children:[" ",n]},s))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(ee.Code,{className:"w-4 h-4 text-gray-400"})," Codecademy"]}),o.jsx("ul",{className:"space-y-1",children:e.details.codecademy.map((n,s)=>o.jsxs("li",{className:"text-sm text-gray-600",children:[" ",n]},s))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(ee.GradCap,{className:"w-4 h-4 text-gray-400"})," Majors & Jobs"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Majors"}),o.jsx("ul",{className:"space-y-1",children:e.details.majors.map((n,s)=>o.jsxs("li",{className:"text-sm text-gray-600",children:[" ",n]},s))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Careers"}),o.jsx("ul",{className:"space-y-1",children:e.details.jobs.map((n,s)=>o.jsxs("li",{className:"text-sm text-gray-600",children:[" ",n]},s))})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(ee.Sparkles,{className:"w-4 h-4 text-gray-400"})," Extracurriculars"]}),o.jsx("ul",{className:"space-y-1",children:e.details.ecs.map((n,s)=>o.jsxs("li",{className:"text-sm text-gray-600",children:[" ",n]},s))})]})]})]},r))})]})},rN=({user:t,onLoginClick:e,onLogout:r})=>{const n=as(),s=qt(),i=a=>s.pathname===a;return o.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{onClick:()=>n("/"),className:"flex items-center gap-2 cursor-pointer group",children:[o.jsx("div",{className:"w-8 h-8 bg-gvcs-navy rounded-lg flex items-center justify-center text-white font-bold text-lg group-hover:scale-105 transition-transform",children:"</>"}),o.jsx("span",{className:"font-bold text-xl text-gvcs-navy tracking-tight",children:"GVCS"})]}),o.jsx("nav",{className:"hidden md:flex items-center gap-1 overflow-x-auto no-scrollbar",children:[{name:"Home",path:"/"},{name:"Weekly",path:"/weekly"},{name:"Curriculum",path:"/ellis"},{name:"Hackathons",path:"/hackathons"},{name:"Careers",path:"/careers"},{name:"Resources",path:"/resources"}].map(a=>o.jsx("button",{onClick:()=>n(a.path),className:`px-3 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap
                            ${i(a.path)?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:a.name},a.path))}),o.jsx("div",{className:"flex items-center gap-4",children:t?o.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.name}),o.jsx("div",{className:"text-xs text-gray-500",children:t.email})]}),o.jsx("button",{onClick:()=>n("/dashboard"),className:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors",children:"Dashboard"}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:t.name[0]}),o.jsx("button",{onClick:r,className:"text-xs text-red-500 hover:text-red-700 font-medium",children:"Sign Out"})]}):o.jsx("button",{onClick:e,className:"px-5 py-2 bg-gvcs-navy text-white text-sm font-bold rounded-full hover:bg-blue-900 transition-all shadow-sm hover:shadow-md",children:"Student Login"})})]})})},nN=()=>{const t=as(),[e,r]=D.useState(null),[n,s]=D.useState(!1),[i,a]=D.useState(!1);D.useEffect(()=>{(async()=>{var y,v,b,N;const{data:{session:p}}=await Z.auth.getSession();if(p!=null&&p.user){const E=p.user.email==="admin@gvcs.com"||((y=p.user.user_metadata)==null?void 0:y.isAdmin)===!0||((v=p.user.user_metadata)==null?void 0:v.role)==="admin";r({id:p.user.id,name:((b=p.user.user_metadata)==null?void 0:b.name)||p.user.email,email:p.user.email,isDemo:((N=p.user.user_metadata)==null?void 0:N.isDemo)||!1,isAdmin:E}),a(E)}})();const{data:{subscription:m}}=Z.auth.onAuthStateChange((p,y)=>{var v,b,N,E;if(y!=null&&y.user){const w=y.user.email==="admin@gvcs.com"||((v=y.user.user_metadata)==null?void 0:v.isAdmin)===!0||((b=y.user.user_metadata)==null?void 0:b.role)==="admin";r({id:y.user.id,name:((N=y.user.user_metadata)==null?void 0:N.name)||y.user.email,email:y.user.email,isDemo:((E=y.user.user_metadata)==null?void 0:E.isDemo)||!1,isAdmin:w}),a(w)}else r(null),a(!1)});return()=>m.unsubscribe()},[]);const c=()=>{const d=prompt("Enter Admin Access Code:");d==="GVCS"?(a(!0),t("/admin")):d&&alert("Incorrect Code")},u=()=>{a(!1),t("/")};return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans text-gray-900",children:[o.jsx(IC,{isOpen:n,onClose:()=>s(!1),onLogin:d=>{r(d);const m=d.email==="admin@gvcs.com"||d.isAdmin===!0;a(m)}}),o.jsx(rN,{user:e,onLoginClick:()=>s(!0),onLogout:async()=>{await Z.auth.signOut(),r(null),t("/")}}),o.jsx("div",{className:"flex-grow",children:o.jsxs(Xx,{children:[o.jsx(wt,{path:"/",element:o.jsx(QC,{})}),o.jsx(wt,{path:"/weekly",element:o.jsx(LC,{user:e})}),o.jsx(wt,{path:"/ellis/*",element:o.jsx(OC,{user:e,onLoginRequest:()=>s(!0)})}),o.jsx(wt,{path:"/hackathons",element:o.jsx(YC,{})}),o.jsx(wt,{path:"/careers",element:o.jsx(tN,{})}),o.jsx(wt,{path:"/archive",element:o.jsx(JC,{})}),o.jsx(wt,{path:"/my-plans",element:o.jsx(eN,{user:e})}),o.jsx(wt,{path:"/dashboard",element:o.jsx(zC,{user:e})}),o.jsx(wt,{path:"/resources",element:o.jsx(DC,{})}),o.jsx(wt,{path:"/admin",element:i?o.jsx(ZC,{onExit:u}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Access Denied"}),o.jsx("button",{onClick:c,className:"mt-4 text-blue-600 underline",children:"Try Again"})]})})}),o.jsx(wt,{path:"/admin-panel",element:e!=null&&e.isAdmin?o.jsx($C,{user:e,onBack:()=>t("/dashboard")}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Admin access required"}),o.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-blue-600 underline",children:"Back to Dashboard"})]})})})]})}),o.jsxs("footer",{className:"bg-white border-t border-gray-200 py-8 text-center text-gray-400 text-sm",children:[o.jsxs("div",{className:"mb-2",children:[" ",new Date().getFullYear()," GVCS Club"]}),o.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("/archive"),className:"hover:text-gray-600",children:"Meeting Archive"}),o.jsx("button",{onClick:()=>t("/resources"),className:"hover:text-gray-600",children:"Resources"})]}),o.jsx("button",{onClick:c,className:"text-xs text-gray-300 hover:text-gray-500 transition-colors",children:"Admin Access"})]})]})};oc.createRoot(document.getElementById("root")).render(o.jsx(ja.StrictMode,{children:o.jsx(xS,{children:o.jsx(nN,{})})}));
